!function e(t,n,r){function o(u,i){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!i&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var u=a>=0?arguments[a]:e.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(n=u+"/"+n,o="/"===u.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),a="/"===u(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),a=r(t.split("/")),u=Math.min(o.length,a.length),i=u,s=0;u>s;s++)if(o[s]!==a[s]){i=s;break}for(var l=[],s=i;s<o.length;s++)l.push("..");return l=l.concat(a.slice(i)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=a(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return a(e)[3]};var u="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:2}],2:[function(e,t,n){function r(){c=!1,i.length?l=i.concat(l):f=-1,l.length&&o()}function o(){if(!c){var e=setTimeout(r);c=!0;for(var t=l.length;t;){for(i=l,l=[];++f<t;)i&&i[f].run();f=-1,t=l.length}i=null,c=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function u(){}var i,s=t.exports={},l=[],c=!1,f=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new a(e,t)),1!==l.length||c||setTimeout(o,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=u,s.addListener=u,s.once=u,s.off=u,s.removeListener=u,s.removeAllListeners=u,s.emit=u,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],3:[function(e,t,n){"use strict";var r=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=r},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("./ApiRequest"),i=(r(u),e("../Utils/Constants")),s=function(){function e(){o(this,e)}return a(e,null,[{key:"get",value:function(t){return"undefined"==typeof t&&(t=!1),new Promise(function(t,n){if(e._accessToken)return t(e._accessToken);var r=localStorage.getItem(i.Config.Storage.ACCESS_TOKEN);return null===r?(e.clear(),n(new Error({code:403,message:"Unauthorized"}))):void e.set(r,!0).then(t)})}},{key:"set",value:function(t,n){return e._accessToken=t,new Promise(function(e,r){n||localStorage.setItem(i.Config.Storage.ACCESS_TOKEN,t),e(t)})}},{key:"clear",value:function(){return e._accessToken=null,localStorage.removeItem(i.Config.Storage.ACCESS_TOKEN)}}]),e}();n["default"]=s},{"../Utils/Constants":13,"./ApiRequest":5}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("../Utils/Utils"),i=r(u),s=e("../Utils/Actions"),l=r(s),c=e("./ApiUtils"),f=r(c),d=e("./AccessToken"),p=r(d),m=e("superagent"),h=r(m),g=function(){function e(t,n){if(o(this,e),void 0===n?(n=t,t="get"):t=t.toLowerCase(),-1!==n.indexOf("?"))throw new Error("You must set query string data via the `query` function");this.isAnonymous=!1,this.handleErrors=!0,this.ignoreNetworkError=!1,this.url=f["default"].buildUrl(n),this._setupRequest(t)}return a(e,null,[{key:"updateNetworkIndicator",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"-":arguments[0];"+"===t?e.activeRequests++:e.activeRequests--,e.activeRequests<=0&&(e.activeRequests=0)}},{key:"create",value:function(e,t){return new this(e,t)}},{key:"createAnon",value:function(e,t){var n=new this(e,t);return n.setAnonymous(!0),n}},{key:"get",value:function(e){return new this("get",e)}},{key:"post",value:function(e){return new this("post",e)}},{key:"put",value:function(e){return new this("put",e)}},{key:"delete",value:function(e){return new this("delete",e)}}]),a(e,[{key:"setAnonymous",value:function(e){return this.isAnonymous=e,this}},{key:"setHandleErrors",value:function(e){return this.handleErrors=e,this}},{key:"setIgnoreNetworkError",value:function(e){return this.ignoreNetworkError=e,this}},{key:"configure",value:function(e){return e(this.request),this}},{key:"send",value:function(e,t){var n=this;return this.isAnonymous?this._sendIt(e,t):void p["default"].get().then(function(r){n.query({token:r}),n._sendIt(e,t)})}},{key:"data",value:function(e){return this.requestBody=JSON.stringify(e),this}},{key:"query",value:function(e){return this.queryData=Object.assign(this.queryData,e),this}},{key:"header",value:function(e,t){return this.requestHeaders[e]=t,this}},{key:"headers",value:function(e){return this.requestHeaders=Object.assign(this.requestHeaders,e),this}},{key:"_setupRequest",value:function(e){this.requestMethod=e?e:"get",this.requestHeaders={Accept:"application/json","Content-Type":"application/json"},this.queryData={},this.requestBody={},this.request=null}},{key:"_sendIt",value:function(t,n){var r=this;e.updateNetworkIndicator("+"),this.request=h["default"][this.requestMethod](this.url),i["default"].isEmpty(this.queryData)||this.request.query(this.queryData),i["default"].isEmpty(this.requestHeaders)||this.request.set(this.requestHeaders),this.request.send(this.requestBody).end(function(o,a){e.updateNetworkIndicator(),a.ok?t(a.body):a.unauthorized?(p["default"].clear(),l["default"].noauth()):(r.handleErrors&&f["default"].handleError(a.body.error),n&&n(a.body.error))})}}]),e}();g.activeRequests=0,n["default"]=g},{"../Utils/Actions":12,"../Utils/Utils":16,"./AccessToken":4,"./ApiUtils":6,superagent:"superagent"}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("../Utils/Utils"),i=r(u),s=e("../Utils/Constants"),l="There was a problem with your request",c=function(){function e(){o(this,e)}return a(e,null,[{key:"handleError",value:function(e){console.warn(e),i["default"].alertError(e.message||l)}},{key:"handleNetworkError",value:function(e){console.warn(e)}},{key:"buildUrl",value:function(e){return e=i["default"].trimChar(e,"/"),-1===e.indexOf(s.Config.api_root)&&(e=s.Config.api_root+e),e}}]),e}();n["default"]=c},{"../Utils/Constants":13,"../Utils/Utils":16}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),l=r(s),c=e("moment"),f=r(c),d=e("react-medium-editor"),p=r(d),m=e("react-bootstrap-datetimepicker"),h=r(m),g=e("../Utils/Utils"),y=r(g),v=e("../Api/ApiRequest"),b=r(v),_=e("../Stores/CurrentUser"),w=r(_),E=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.postTimestamp=null,n.hasCustomUri=!1,n.state={authorized:!0,processing:!1,user:n.props.user,article:"",uri:""},n._onSubmitPage=n._onSubmitPage.bind(n),n._onPostDateChange=n._onPostDateChange.bind(n),n._onUpdatePageUri=n._onUpdatePageUri.bind(n),n._onChangeUri=n._onChangeUri.bind(n),n._onBlurUri=n._onBlurUri.bind(n),n._onArticleChange=n._onArticleChange.bind(n),n._onUserChange=n._onUserChange.bind(n),n}return u(t,e),i(t,[{key:"componentWillMount",value:function(){this.stopUserSubscribe=w["default"].listen(this._onUserChange);var e=w["default"].get();this.setState({authorized:!!e.id,user:e})}},{key:"componentWillUnmount",value:function(){this.stopUserSubscribe()}},{key:"renderProgressBar",value:function(){return l["default"].createElement("div",{className:"progress",style:{height:"auto"}},l["default"].createElement("div",{className:"progress-bar progress-bar-info progress-bar-striped active",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:k.progressBar},"Saving..."))}},{key:"renderSubmitButton",value:function(){return this.state.processing?this.renderProgressBar():l["default"].createElement("button",{type:"submit",className:"btn btn-lg btn-info",style:k.button},l["default"].createElement("span",{className:"glyphicon glyphicon-plus-sign"})," Add Page")}},{key:"render",value:function(){if(!this.state.authorized)return l["default"].createElement("h4",null,"Must be logged in :(");var e={placeholder:{text:"Article body..."},toolbar:{buttons:["bold","italic","anchor","h2","h3","quote","unorderedlist"]}};return l["default"].createElement("form",{ref:"addNewPage",className:"",role:"form",onSubmit:this._onSubmitPage},l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-xs-12"},l["default"].createElement("h1",null,"Add New Page"))),l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-xs-4"},l["default"].createElement("p",{className:"lead"},l["default"].createElement("em",null,"Data about data:"))),l["default"].createElement("div",{className:"col-xs-8"},l["default"].createElement("p",{className:"lead"},l["default"].createElement("em",null,"Spit your knowledge game:")))),l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-xs-4"},l["default"].createElement("div",{className:"form-group"},l["default"].createElement(h["default"],{size:"lg",defaultText:"",inputProps:{placeholder:"Article Date/Time"},format:"x",inputFormat:"YYYY-MM-DD hh:mm A",onChange:this._onPostDateChange})),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("input",{ref:"pageUri",type:"text",className:"form-control input-lg",placeholder:"Custom-Page-Url",value:this.state.uri,onChange:this._onChangeUri,onBlur:this._onBlurUri})),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("select",{ref:"pageCategory",className:"form-control input-lg"},l["default"].createElement("option",{value:""},"— Choose Category —"),l["default"].createElement("option",null,"Reviews"),l["default"].createElement("option",null,"Recipes"),l["default"].createElement("option",null,"How To's"),l["default"].createElement("option",null,"Friday Food Fight"),l["default"].createElement("option",null,"Where To Find..."))),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("div",{style:k.previewImage},"Dragon Drop Image Area")),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("input",{ref:"metaTitle",className:"form-control input-lg",type:"text",placeholder:"Enter meta title"})),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("textarea",{ref:"metaDescription",className:"form-control input-lg",rows:"2",placeholder:"Enter meta description"})),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("input",{ref:"metaKeywords",className:"form-control input-lg",type:"text",placeholder:"Enter meta keywords"}))),l["default"].createElement("div",{className:"col-xs-8"},l["default"].createElement("div",{className:"form-group"},l["default"].createElement("input",{ref:"pageTitle",className:"form-control input-lg",type:"text",placeholder:"Headline",onChange:this._onUpdatePageUri})),l["default"].createElement("div",{className:"form-group"},l["default"].createElement(p["default"],{style:k.editor,className:"form-control input-lg",text:this.state.article,onChange:this._onArticleChange,options:e})),this.renderSubmitButton())))}},{key:"_onPostDateChange",value:function(e){this.postTimestamp=e,this._onUpdatePageUri()}},{key:"_getPostDateFormat",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"YYYY-MM-DD HH:mm:00":arguments[0],t=f["default"].unix(this.postTimestamp/1e3).format(e);return"Invalid date"==t?"":t}},{key:"_getPageData",value:function(){return{title:this.refs.pageTitle.value,article:this.state.article,uri:this.state.uri||this.refs.pageUri.value,category:this.refs.pageCategory.value,meta_title:this.refs.metaTitle.value,meta_description:this.refs.metaDescription.value,meta_keywords:this.refs.metaKeywords.value,post_date:this.postTimestamp?this._getPostDateFormat():null}}},{key:"_onSubmitPage",value:function(e){var t=this;e.preventDefault(),this.state.processing||(this.setState({processing:!0}),b["default"].post("/page").data(this._getPageData()).send(function(e){console.log("page:",e),t._clearForm()}))}},{key:"_clearForm",value:function(){this.refs.addNewPage.reset(),this.postTimestamp=null,this.hasCustomUri=!1,this.setState({processing:!1,article:"",uri:""})}},{key:"_getUriFromTitle",value:function(){var e=this.refs.pageTitle.value||"untitled",t=this.postTimestamp?this._getPostDateFormat("-YYYY-MM-DD"):"";return y["default"].cleanForUrl(e+t)}},{key:"_onBlurUri",value:function(e){e.target.value||(this.hasCustomUri=!1,this._onUpdatePageUri())}},{key:"_onChangeUri",value:function(e){return this.hasCustomUri=!0,this.setState({uri:this.refs.pageUri.value}),!0}},{key:"_onUpdatePageUri",value:function(){this.hasCustomUri||this.setState({uri:this._getUriFromTitle()})}},{key:"_onArticleChange",value:function(e,t){this.setState({article:e})}},{key:"_onUserChange",value:function(e){this.setState({authorized:!!e.id})}}]),t}(l["default"].Component);E.propTypes={},E.defaultProps={},n["default"]=E;var k={button:{width:"100%"},editor:{height:"auto",minHeight:"20em"},previewImage:{color:"rgb(150,150,150)",borderWidth:2,borderColor:"rgba(150,150,150,.8)",borderStyle:"dashed",fontWeight:"bold",textAlign:"center",padding:"40px 0"},progressBar:{fontSize:"18px",padding:"10px 0",width:"100%"}}},{"../Api/ApiRequest":5,"../Stores/CurrentUser":11,"../Utils/Utils":16,moment:"moment",react:"react","react-bootstrap-datetimepicker":"react-bootstrap-datetimepicker","react-medium-editor":"react-medium-editor"}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),l=r(s),c=e("../Utils/Actions"),f=r(c),d=e("../Api/ApiRequest"),p=(r(d),function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={},n.onSubmit=n.onSubmit.bind(n),n}return u(t,e),i(t,[{key:"render",value:function(){return l["default"].createElement("form",{className:"navbar-form navbar-right",role:"form",onSubmit:this.onSubmit},l["default"].createElement("div",{className:"form-group",style:m.formField},l["default"].createElement("input",{ref:"username",type:"text",placeholder:"username",className:"form-control"})),l["default"].createElement("div",{className:"form-group",style:m.formField},l["default"].createElement("input",{ref:"password",type:"password",placeholder:"password",className:"form-control"})),l["default"].createElement("button",{type:"submit",className:"btn btn-default"},"Sign in"))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.refs.username.value,password:this.refs.password.value};f["default"].login(t)}}]),t}(l["default"].Component));p.propTypes={},p.defaultProps={},n["default"]=p;var m={formField:{margin:3}}},{"../Api/ApiRequest":5,"../Utils/Actions":12,react:"react"}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),l=r(s),c=e("../Utils/Actions"),f=r(c),d=e("../Stores/CurrentUser"),p=r(d),m=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={user:n.props.user},n}return u(t,e),i(t,[{key:"componentWillMount",value:function(){this.stopListening=p["default"].listen(this._onUserChange.bind(this)),this.setState({user:p["default"].get()})}},{key:"componentWillUnmount",value:function(){this.stopListening()}},{key:"render",value:function(){return l["default"].createElement("ul",{className:"nav navbar-nav navbar-right"},l["default"].createElement("li",{className:"dropdown"},l["default"].createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},this.state.user.username,l["default"].createElement("span",{className:"caret"})),l["default"].createElement("ul",{className:"dropdown-menu"},l["default"].createElement("li",null,l["default"].createElement("a",{href:"/add-page"},l["default"].createElement("span",{className:"glyphicon glyphicon-plus-sign","aria-hidden":"true",style:h.icon}),"Add Page")),l["default"].createElement("li",null,l["default"].createElement("a",{href:"#",onClick:this._onEditPress},l["default"].createElement("span",{className:"glyphicon glyphicon-edit","aria-hidden":"true",style:h.icon}),"Edit Something")),l["default"].createElement("li",{role:"separator",className:"divider"}),l["default"].createElement("li",{className:"dropdown-header"},"My Account"),l["default"].createElement("li",null,l["default"].createElement("a",{href:"#",onClick:this._onLogoutPress},l["default"].createElement("span",{className:"glyphicon glyphicon-log-out","aria-hidden":"true",style:h.icon}),"Sign Out")))))}},{key:"_onEditPress",value:function(e){e.preventDefault(),console.log("_onEditPress")}},{key:"_onLogoutPress",value:function(e){e.preventDefault(),f["default"].logout()}},{key:"_onUserChange",value:function(e){this.setState({user:e})}}]),t}(l["default"].Component);m.propTypes={user:l["default"].PropTypes.object},m.defaultProps={user:{}},n["default"]=m;var h={icon:{paddingRight:"5px"}}},{"../Stores/CurrentUser":11,"../Utils/Actions":12,react:"react"}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),l=r(s),c=e("../Utils/Actions"),f=r(c),d=e("../Stores/CurrentUser"),p=r(d),m=e("./LoginForm"),h=r(m),g=e("./UserMenu"),y=r(g),v=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={loading:!0,user:{}},n}return u(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;this.stopListening=p["default"].listen(this._onUserChange.bind(this)),this.stopAuthListen=f["default"].noauth.listen(function(){return e.setState({loading:!1})}),this.setState({user:p["default"].get()})}},{key:"componentWillUnmount",value:function(){this.stopListening(),this.stopAuthListen()}},{key:"renderLoginForm",value:function(){return l["default"].createElement(h["default"],null)}},{key:"renderUserMenu",value:function(){return l["default"].createElement(y["default"],{user:this.state.user})}},{key:"render",value:function(){return this.state.loading?null:l["default"].createElement("div",{style:b.container},this.state.user.id?this.renderUserMenu():this.renderLoginForm())}},{key:"_onUserChange",value:function(e){this.setState({user:e,loading:!1})}}]),t}(l["default"].Component);v.propTypes={},v.defaultProps={},n["default"]=v;var b={container:{height:"56px"},username:{margin:3,lineHeight:"44px",color:"white"}}},{"../Stores/CurrentUser":11,"../Utils/Actions":12,"./LoginForm":8,"./UserMenu":9,react:"react"}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("reflux"),a=r(o),u=e("../Utils/Actions"),i=r(u),s=(e("../Utils/Constants"),e("../Api/ApiRequest")),l=r(s),c=e("../Api/ApiUtils"),f=(r(c),e("../Api/AccessToken")),d=r(f),p={id:null,username:null,session_id:null},m=Object.assign({},p);n["default"]=a["default"].createStore({listenables:[i["default"]],init:function(){},get:function(){return m},update:function(e){m=Object.assign({},e),this.trigger(m)},onLogin:function(e){l["default"].post("/account/login").data(e).setAnonymous(!0).send(function(e){d["default"].set(e.data.session_id).then(function(){return i["default"].login.completed(e)})},i["default"].login.failed)},onLoginCompleted:function(e){var t=e.data;this.update(t)},onLogout:function(){l["default"].post("/account/logout").setHandleErrors(!1).setIgnoreNetworkError(!0).send(i["default"].logout.completed,i["default"].logout.failed),this.update(p)},onLogoutCompleted:function(){d["default"].clear()},onLogoutFailed:function(){d["default"].clear()},onLoadUser:function(){l["default"].get("/account").send(i["default"].loadUser.completed,i["default"].loadUser.failed)},onLoadUserCompleted:function(e){this.update(e.data)}})},{"../Api/AccessToken":4,"../Api/ApiRequest":5,"../Api/ApiUtils":6,"../Utils/Actions":12,"../Utils/Constants":13,reflux:"reflux"}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("reflux"),a=r(o),u=e("../Api/AccessToken"),i=r(u),s=e("../Api/ApiRequest"),l=(r(s),a["default"].createActions(["auth","unauth","noauth",{login:{asyncResult:!0}},{logout:{asyncResult:!0}},{loadUser:{asyncResult:!0}}]));l.auth.listen(function(){i["default"].get(!0).then(function(e){return l.loadUser(e)})["catch"](function(){return l.noauth()})}),n["default"]=l},{"../Api/AccessToken":4,"../Api/ApiRequest":5,reflux:"reflux"}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("keyMirror"),o="clefoodblog.com",a=window.location.hostname===o?"production":"dev",u=!0,i="http://"+o+"/api",s="http://"+o;switch(a){case"dev":u=!1,i="http://dev."+o+"/api",s="http://dev."+o}n.Config={ENV:a,api_root:i+"/",site_root:s+"/",Storage:r({ACCESS_TOKEN:null})}},{keyMirror:3}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("jquery"),i=r(u),s=e("react"),l=r(s),c=e("react-dom"),f=r(c),d=e("../Utils/Actions"),p=r(d),m=e("../Components/UserNav"),h=r(m),g=function(){function t(){o(this,t)}return a(t,null,[{key:"globals",value:function(){window.jQuery=i["default"]}},{key:"bootstrap",value:function(){e("bootstrap")}},{key:"onReady",value:function(){var e=document.getElementById("btnComingSoon");e&&(e.onclick=function(){return ga&&ga("send","event","buttons","click","stay tuned"),console.log("send","event","buttons","click","stay tuned"),!1}),f["default"].render(l["default"].createElement(h["default"],null),document.getElementById("UserNav"))}},{key:"authUser",value:function(){p["default"].auth()}},{key:"onLoad",value:function(){t.globals(),t.bootstrap(),t.onReady(),t.authUser()}}]),t}();n["default"]=g},{"../Components/UserNav":10,"../Utils/Actions":12,bootstrap:"bootstrap",jquery:"jquery",react:"react","react-dom":"react-dom"}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("react"),i=r(u),s=e("react-dom"),l=r(s),c=e("path"),f=r(c),d=e("../Utils/Utils"),p=(r(d),e("../Components/AddPageForm")),m=r(p),h=function(){function e(){o(this,e)}return a(e,null,[{key:"current",value:function(t){var n=f["default"].basename(t)||e.homeRoute,r=n.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});"function"==typeof e[r]&&e[r]()}},{key:"home",value:function(){console.log("Home route")}},{key:"addPage",value:function(){l["default"].render(i["default"].createElement(m["default"],null),document.getElementById("AddPageForm"))}}]),e}();h.homeRoute="home",n["default"]=h},{"../Components/AddPageForm":7,"../Utils/Utils":16,path:1,react:"react","react-dom":"react-dom"}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=(e("./Constants"),function(){function e(){r(this,e)}return a(e,null,[{key:"alertError",value:function(e){alert(e)}},{key:"getJSONP",value:function(e,t){var n=window.document.getElementsByTagName("script")[0],r=window.document.createElement("script");r.src=e+(e.indexOf("?")+1?"&":"?")+"callback="+t,n.parentNode.insertBefore(r,n),r.onload=function(){this.remove()}}},{key:"quoteRegex",value:function(e){return e.replace(/([()[{*+.$^\\|?])/g,"\\$1")}},{key:"trimChar",value:function(t,n){return n=e.quoteRegex(n),t.replace(new RegExp("^"+n+"+|"+n+"+$","g"),"")}},{key:"toQueryString",value:function(t,n){var r=[];for(var a in t)if(t.hasOwnProperty(a)){var u=n?n+"["+a+"]":a,i=t[a];r.push("object"==("undefined"==typeof i?"undefined":o(i))?e.toQueryString(i,u):encodeURIComponent(u)+"="+encodeURIComponent(i))}return r.join("&")}},{key:"isEmpty",value:function(e){return null==e?!0:e.length>0?!1:0===e.length?!0:Object.getOwnPropertyNames(e).length>0?!1:!0}},{key:"cleanForUrl",value:function(e){return e.replace(/(^\-+|[^a-zA-Z0-9\/_| -]+|\-+$)/g,"").toLowerCase().replace(/[\/_| -]+/g,"-")}}]),e}());n["default"]=u},{"./Constants":13}],17:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=e("react"),a=(r(o),e("react-dom")),u=(r(a),e("./Utils/Initialize")),i=r(u),s=e("./Utils/Routes"),l=r(s);i["default"].onLoad(),l["default"].current(window.location.pathname)},{"./Utils/Initialize":14,"./Utils/Routes":15,react:"react","react-dom":"react-dom"}]},{},[17]);