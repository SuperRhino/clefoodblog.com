(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe =
    /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
var splitPath = function(filename) {
  return splitPathRe.exec(filename).slice(1);
};

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function(path) {
  var result = splitPath(path),
      root = result[0],
      dir = result[1];

  if (!root && !dir) {
    // No dirname whatsoever
    return '.';
  }

  if (dir) {
    // It has a dirname, strip trailing slash
    dir = dir.substr(0, dir.length - 1);
  }

  return root + dir;
};


exports.basename = function(path, ext) {
  var f = splitPath(path)[2];
  // TODO: make this comparison case-insensitive on windows?
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};


exports.extname = function(path) {
  return splitPath(path)[3];
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

}).call(this,require('_process'))

},{"_process":2}],2:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        setTimeout(drainQueue, 0);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],3:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

"use strict";

/**
 * Constructs an enumeration with keys equal to their value.
 *
 * For example:
 *
 *   var COLORS = keyMirror({blue: null, red: null});
 *   var myColor = COLORS.blue;
 *   var isColorValid = !!COLORS[myColor];
 *
 * The last line could not be performed if the values of the generated enum were
 * not equal to their keys.
 *
 *   Input:  {key1: val1, key2: val2}
 *   Output: {key1: key1, key2: key2}
 *
 * @param {object} obj
 * @return {object}
 */
var keyMirror = function(obj) {
  var ret = {};
  var key;
  if (!(obj instanceof Object && !Array.isArray(obj))) {
    throw new Error('keyMirror(...): Argument must be an object.');
  }
  for (key in obj) {
    if (!obj.hasOwnProperty(key)) {
      continue;
    }
    ret[key] = key;
  }
  return ret;
};

module.exports = keyMirror;

},{}],4:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _ApiRequest=require('./ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _Constants=require('../Utils/Constants');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var AccessToken=function(){function AccessToken(){_classCallCheck(this,AccessToken);}_createClass(AccessToken,null,[{key:'get',value:function get(verify){if(typeof verify==='undefined'){verify=false;}return new Promise(function(resolve,reject){if(AccessToken._accessToken){return resolve(AccessToken._accessToken);}var access_token=localStorage.getItem(_Constants.Config.Storage.ACCESS_TOKEN);if(access_token===null){AccessToken.clear();return reject(new Error({code:403,message:'Unauthorized'}));}AccessToken.set(access_token,true).then(resolve);});}},{key:'set',value:function set(access_token,dontUpdateStorage){AccessToken._accessToken=access_token;return new Promise(function(resolve,reject){if(!dontUpdateStorage){localStorage.setItem(_Constants.Config.Storage.ACCESS_TOKEN,access_token);}resolve(access_token);});}},{key:'clear',value:function clear(){AccessToken._accessToken=null;return localStorage.removeItem(_Constants.Config.Storage.ACCESS_TOKEN);}}]);return AccessToken;}();exports.default=AccessToken;

},{"../Utils/Constants":13,"./ApiRequest":5}],5:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _ApiUtils=require('./ApiUtils');var _ApiUtils2=_interopRequireDefault(_ApiUtils);var _AccessToken=require('./AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);var _superagent=require('superagent');var _superagent2=_interopRequireDefault(_superagent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var ApiRequest=function(){_createClass(ApiRequest,null,[{key:'updateNetworkIndicator',value:function updateNetworkIndicator(){var dir=arguments.length<=0||arguments[0]===undefined?'-':arguments[0];if(dir==='+'){ApiRequest.activeRequests++;}else {ApiRequest.activeRequests--;}if(ApiRequest.activeRequests<=0){ApiRequest.activeRequests=0;}else {}}},{key:'create',value:function create(method,endpoint){return new this(method,endpoint);}},{key:'createAnon',value:function createAnon(method,endpoint){var request=new this(method,endpoint);request.setAnonymous(true);return request;}},{key:'get',value:function get(endpoint){return new this('get',endpoint);}},{key:'post',value:function post(endpoint){return new this('post',endpoint);}},{key:'put',value:function put(endpoint){return new this('put',endpoint);}},{key:'delete',value:function _delete(endpoint){return new this('delete',endpoint);}}]);function ApiRequest(method,endpoint){_classCallCheck(this,ApiRequest);if(endpoint===undefined){endpoint=method;method='get';}else {method=method.toLowerCase();}if(endpoint.indexOf('?')!==-1){throw new Error('You must set query string data via the `query` function');}this.isAnonymous=false;this.handleErrors=true;this.ignoreNetworkError=false;this.url=_ApiUtils2.default.buildUrl(endpoint);this._setupRequest(method);}_createClass(ApiRequest,[{key:'setAnonymous',value:function setAnonymous(isAnonymous){this.isAnonymous=isAnonymous;return this;}},{key:'setHandleErrors',value:function setHandleErrors(handleErrors){this.handleErrors=handleErrors;return this;}},{key:'setIgnoreNetworkError',value:function setIgnoreNetworkError(ignoreNetworkError){this.ignoreNetworkError=ignoreNetworkError;return this;}},{key:'configure',value:function configure(callback){callback(this.request);return this;}},{key:'send',value:function send(callback,errCallback){var _this=this;if(this.isAnonymous){return this._sendIt(callback,errCallback);}_AccessToken2.default.get().then(function(token){_this.query({token:token});_this._sendIt(callback,errCallback);});}},{key:'data',value:function data(_data){this.requestBody=JSON.stringify(_data);return this;}},{key:'query',value:function query(data){this.queryData=Object.assign(this.queryData,data);return this;}},{key:'header',value:function header(_header,value){this.requestHeaders[_header]=value;return this;}},{key:'headers',value:function headers(_headers){this.requestHeaders=Object.assign(this.requestHeaders,_headers);return this;}},{key:'_setupRequest',value:function _setupRequest(method){this.requestMethod=!method?'get':method;this.requestHeaders={'Accept':'application/json','Content-Type':'application/json'};this.queryData={};this.requestBody={};this.request=null;}},{key:'_sendIt',value:function _sendIt(callback,errCallback){var _this2=this;ApiRequest.updateNetworkIndicator('+');this.request=_superagent2.default[this.requestMethod](this.url);if(!_Utils2.default.isEmpty(this.queryData)){this.request.query(this.queryData);}if(!_Utils2.default.isEmpty(this.requestHeaders)){this.request.set(this.requestHeaders);}this.request.send(this.requestBody).end(function(err,res){ApiRequest.updateNetworkIndicator();if(res.ok){callback(res.body);}else if(res.unauthorized){_AccessToken2.default.clear();_Actions2.default.noauth();}else {if(_this2.handleErrors){_ApiUtils2.default.handleError(res.body.error);}if(errCallback)errCallback(res.body.error);}});}}]);return ApiRequest;}();ApiRequest.activeRequests=0;exports.default=ApiRequest;

},{"../Utils/Actions":12,"../Utils/Utils":16,"./AccessToken":4,"./ApiUtils":6,"superagent":"superagent"}],6:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _Constants=require('../Utils/Constants');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var DEFAULT_ERROR='There was a problem with your request';var ApiUtils=function(){function ApiUtils(){_classCallCheck(this,ApiUtils);}_createClass(ApiUtils,null,[{key:'handleError',value:function handleError(err){console.warn(err);_Utils2.default.alertError(err.message||DEFAULT_ERROR);}},{key:'handleNetworkError',value:function handleNetworkError(err){console.warn(err);}},{key:'buildUrl',value:function buildUrl(endpoint){endpoint=_Utils2.default.trimChar(endpoint,'/');if(endpoint.indexOf(_Constants.Config.api_root)===-1){endpoint=_Constants.Config.api_root+endpoint;}return endpoint;}}]);return ApiUtils;}();exports.default=ApiUtils;

},{"../Utils/Constants":13,"../Utils/Utils":16}],7:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _moment=require('moment');var _moment2=_interopRequireDefault(_moment);var _reactMediumEditor=require('react-medium-editor');var _reactMediumEditor2=_interopRequireDefault(_reactMediumEditor);var _reactBootstrapDatetimepicker=require('react-bootstrap-datetimepicker');var _reactBootstrapDatetimepicker2=_interopRequireDefault(_reactBootstrapDatetimepicker);var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AddPageForm=function(_React$Component){_inherits(AddPageForm,_React$Component);function AddPageForm(props){_classCallCheck(this,AddPageForm);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(AddPageForm).call(this,props));_this.postTimestamp=null;_this.hasCustomUri=false;_this.state={authorized:true,processing:false,user:_this.props.user,article:"",uri:""};_this._onSubmitPage=_this._onSubmitPage.bind(_this);_this._onPostDateChange=_this._onPostDateChange.bind(_this);_this._onUpdatePageUri=_this._onUpdatePageUri.bind(_this);_this._onChangeUri=_this._onChangeUri.bind(_this);_this._onBlurUri=_this._onBlurUri.bind(_this);_this._onArticleChange=_this._onArticleChange.bind(_this);_this._onUserChange=_this._onUserChange.bind(_this);return _this;}_createClass(AddPageForm,[{key:'componentWillMount',value:function componentWillMount(){this.stopUserSubscribe=_CurrentUser2.default.listen(this._onUserChange);var user=_CurrentUser2.default.get();this.setState({authorized:!!user.id,user:user});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopUserSubscribe();}},{key:'renderProgressBar',value:function renderProgressBar(){return _react2.default.createElement('div',{className:'progress',style:{height:"auto"}},_react2.default.createElement('div',{className:'progress-bar progress-bar-info progress-bar-striped active',role:'progressbar','aria-valuenow':'100','aria-valuemin':'0','aria-valuemax':'100',style:styles.progressBar},'Saving...'));}},{key:'renderSubmitButton',value:function renderSubmitButton(){if(this.state.processing){return this.renderProgressBar();}return _react2.default.createElement('button',{type:'submit',className:'btn btn-lg btn-info',style:styles.button},_react2.default.createElement('span',{className:'glyphicon glyphicon-plus-sign'}),' Add Page');}},{key:'render',value:function render(){if(!this.state.authorized)return _react2.default.createElement('h4',null,'Must be logged in :(');var editorOptions={placeholder:{text:"Article body..."},toolbar:{buttons:['bold','italic','anchor','h2','h3','quote','unorderedlist']}};return _react2.default.createElement('form',{ref:'addNewPage',className:'',role:'form',onSubmit:this._onSubmitPage},_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-12'},_react2.default.createElement('h1',null,'Add New Page'))),_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-4'},_react2.default.createElement('p',{className:'lead'},_react2.default.createElement('em',null,'Data about data:'))),_react2.default.createElement('div',{className:'col-xs-8'},_react2.default.createElement('p',{className:'lead'},_react2.default.createElement('em',null,'Spit your knowledge game:')))),_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-4'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement(_reactBootstrapDatetimepicker2.default,{size:'lg',defaultText:'',inputProps:{placeholder:"Article Date/Time"},format:'x',inputFormat:'YYYY-MM-DD hh:mm A',onChange:this._onPostDateChange})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'pageUri',type:'text',className:'form-control input-lg',placeholder:'Custom-Page-Url',value:this.state.uri,onChange:this._onChangeUri,onBlur:this._onBlurUri})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('select',{ref:'pageCategory',className:'form-control input-lg'},_react2.default.createElement('option',{value:''},'— Choose Category —'),_react2.default.createElement('option',null,'Reviews'),_react2.default.createElement('option',null,'Recipes'),_react2.default.createElement('option',null,'How To\'s'),_react2.default.createElement('option',null,'Friday Food Fight'),_react2.default.createElement('option',null,'Where To Find...'))),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('div',{style:styles.previewImage},'Dragon Drop Image Area')),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'metaTitle',className:'form-control input-lg',type:'text',placeholder:'Enter meta title'})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('textarea',{ref:'metaDescription',className:'form-control input-lg',rows:'2',placeholder:'Enter meta description'})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'metaKeywords',className:'form-control input-lg',type:'text',placeholder:'Enter meta keywords'}))),_react2.default.createElement('div',{className:'col-xs-8'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'pageTitle',className:'form-control input-lg',type:'text',placeholder:'Headline',onChange:this._onUpdatePageUri})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement(_reactMediumEditor2.default,{style:styles.editor,className:'form-control input-lg',text:this.state.article,onChange:this._onArticleChange,options:editorOptions})),this.renderSubmitButton())));}},{key:'_onPostDateChange',value:function _onPostDateChange(datetime){this.postTimestamp=datetime;this._onUpdatePageUri();}},{key:'_getPostDateFormat',value:function _getPostDateFormat(){var format=arguments.length<=0||arguments[0]===undefined?"YYYY-MM-DD HH:mm:00":arguments[0];var dateFormat=_moment2.default.unix(this.postTimestamp/1000).format(format);if(dateFormat=='Invalid date'){return "";}return dateFormat;}},{key:'_getPageData',value:function _getPageData(){return {title:this.refs.pageTitle.value,article:this.state.article,uri:this.state.uri||this.refs.pageUri.value,category:this.refs.pageCategory.value,meta_title:this.refs.metaTitle.value,meta_description:this.refs.metaDescription.value,meta_keywords:this.refs.metaKeywords.value,post_date:this.postTimestamp?this._getPostDateFormat():null};}},{key:'_onSubmitPage',value:function _onSubmitPage(e){var _this2=this;e.preventDefault();if(this.state.processing)return;this.setState({processing:true});_ApiRequest2.default.post('/page').data(this._getPageData()).send(function(page){console.log('page:',page);_this2._clearForm();});}},{key:'_clearForm',value:function _clearForm(){this.refs.addNewPage.reset();this.postTimestamp=null;this.hasCustomUri=false;this.setState({processing:false,article:"",uri:""});}},{key:'_getUriFromTitle',value:function _getUriFromTitle(){var headline=this.refs.pageTitle.value||'untitled',postDate=this.postTimestamp?this._getPostDateFormat("-YYYY-MM-DD"):"";return _Utils2.default.cleanForUrl(headline+postDate);}},{key:'_onBlurUri',value:function _onBlurUri(e){if(!e.target.value){this.hasCustomUri=false;this._onUpdatePageUri();}}},{key:'_onChangeUri',value:function _onChangeUri(e){this.hasCustomUri=true;this.setState({uri:this.refs.pageUri.value});return true;}},{key:'_onUpdatePageUri',value:function _onUpdatePageUri(){if(this.hasCustomUri)return;this.setState({uri:this._getUriFromTitle()});}},{key:'_onArticleChange',value:function _onArticleChange(article,medium){this.setState({article:article});}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({authorized:!!user.id});}}]);return AddPageForm;}(_react2.default.Component);AddPageForm.propTypes={};AddPageForm.defaultProps={};exports.default=AddPageForm;var styles={button:{width:'100%'},editor:{height:"auto",minHeight:"20em"},previewImage:{color:"rgb(150,150,150)",borderWidth:2,borderColor:"rgba(150,150,150,.8)",borderStyle:"dashed",fontWeight:"bold",textAlign:"center",padding:"40px 0"},progressBar:{fontSize:"18px",padding:"10px 0",width:"100%"}};

},{"../Api/ApiRequest":5,"../Stores/CurrentUser":11,"../Utils/Utils":16,"moment":"moment","react":"react","react-bootstrap-datetimepicker":"react-bootstrap-datetimepicker","react-medium-editor":"react-medium-editor"}],8:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LoginForm=function(_React$Component){_inherits(LoginForm,_React$Component);function LoginForm(props){_classCallCheck(this,LoginForm);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(LoginForm).call(this,props));_this.state={};_this.onSubmit=_this.onSubmit.bind(_this);return _this;}_createClass(LoginForm,[{key:'render',value:function render(){return _react2.default.createElement('form',{className:'navbar-form navbar-right',role:'form',onSubmit:this.onSubmit},_react2.default.createElement('div',{className:'form-group',style:styles.formField},_react2.default.createElement('input',{ref:'username',type:'text',placeholder:'username',className:'form-control'})),_react2.default.createElement('div',{className:'form-group',style:styles.formField},_react2.default.createElement('input',{ref:'password',type:'password',placeholder:'password',className:'form-control'})),_react2.default.createElement('button',{type:'submit',className:'btn btn-default'},'Sign in'));}},{key:'onSubmit',value:function onSubmit(e){e.preventDefault();var data={username:this.refs.username.value,password:this.refs.password.value};_Actions2.default.login(data);}}]);return LoginForm;}(_react2.default.Component);LoginForm.propTypes={};LoginForm.defaultProps={};exports.default=LoginForm;var styles={formField:{margin:3}};

},{"../Api/ApiRequest":5,"../Utils/Actions":12,"react":"react"}],9:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserMenu=function(_React$Component){_inherits(UserMenu,_React$Component);function UserMenu(props){_classCallCheck(this,UserMenu);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UserMenu).call(this,props));_this.state={user:_this.props.user};return _this;}_createClass(UserMenu,[{key:'componentWillMount',value:function componentWillMount(){this.stopListening=_CurrentUser2.default.listen(this._onUserChange.bind(this));this.setState({user:_CurrentUser2.default.get()});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopListening();}},{key:'render',value:function render(){return _react2.default.createElement('ul',{className:'nav navbar-nav navbar-right'},_react2.default.createElement('li',{className:'dropdown'},_react2.default.createElement('a',{href:'#',className:'dropdown-toggle','data-toggle':'dropdown',role:'button','aria-haspopup':'true','aria-expanded':'false'},this.state.user.username,_react2.default.createElement('span',{className:'caret'})),_react2.default.createElement('ul',{className:'dropdown-menu'},_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'/add-page'},_react2.default.createElement('span',{className:'glyphicon glyphicon-plus-sign','aria-hidden':'true',style:styles.icon}),'Add Page')),_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'#',onClick:this._onEditPress},_react2.default.createElement('span',{className:'glyphicon glyphicon-edit','aria-hidden':'true',style:styles.icon}),'Edit Something')),_react2.default.createElement('li',{role:'separator',className:'divider'}),_react2.default.createElement('li',{className:'dropdown-header'},'My Account'),_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'#',onClick:this._onLogoutPress},_react2.default.createElement('span',{className:'glyphicon glyphicon-log-out','aria-hidden':'true',style:styles.icon}),'Sign Out')))));}},{key:'_onEditPress',value:function _onEditPress(e){e.preventDefault();console.log("_onEditPress");}},{key:'_onLogoutPress',value:function _onLogoutPress(e){e.preventDefault();_Actions2.default.logout();}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({user:user});}}]);return UserMenu;}(_react2.default.Component);UserMenu.propTypes={user:_react2.default.PropTypes.object};UserMenu.defaultProps={user:{}};exports.default=UserMenu;var styles={icon:{paddingRight:'5px'}};

},{"../Stores/CurrentUser":11,"../Utils/Actions":12,"react":"react"}],10:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);var _LoginForm=require('./LoginForm');var _LoginForm2=_interopRequireDefault(_LoginForm);var _UserMenu=require('./UserMenu');var _UserMenu2=_interopRequireDefault(_UserMenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserNav=function(_React$Component){_inherits(UserNav,_React$Component);function UserNav(props){_classCallCheck(this,UserNav);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UserNav).call(this,props));_this.state={loading:true,user:{}};return _this;}_createClass(UserNav,[{key:'componentWillMount',value:function componentWillMount(){var _this2=this;this.stopListening=_CurrentUser2.default.listen(this._onUserChange.bind(this));this.stopAuthListen=_Actions2.default.noauth.listen(function(){return _this2.setState({loading:false});});this.setState({user:_CurrentUser2.default.get()});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopListening();this.stopAuthListen();}},{key:'renderLoginForm',value:function renderLoginForm(){return _react2.default.createElement(_LoginForm2.default,null);}},{key:'renderUserMenu',value:function renderUserMenu(){return _react2.default.createElement(_UserMenu2.default,{user:this.state.user});}},{key:'render',value:function render(){if(this.state.loading){return null;}return _react2.default.createElement('div',{style:styles.container},this.state.user.id?this.renderUserMenu():this.renderLoginForm());}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({user:user,loading:false});}}]);return UserNav;}(_react2.default.Component);UserNav.propTypes={};UserNav.defaultProps={};exports.default=UserNav;var styles={container:{height:'56px'},username:{margin:3,lineHeight:'44px',color:'white'}};

},{"../Stores/CurrentUser":11,"../Utils/Actions":12,"./LoginForm":8,"./UserMenu":9,"react":"react"}],11:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _reflux=require('reflux');var _reflux2=_interopRequireDefault(_reflux);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _Constants=require('../Utils/Constants');var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _ApiUtils=require('../Api/ApiUtils');var _ApiUtils2=_interopRequireDefault(_ApiUtils);var _AccessToken=require('../Api/AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var defaultUser={id:null,username:null,session_id:null};var currentUser=Object.assign({},defaultUser);exports.default=_reflux2.default.createStore({listenables:[_Actions2.default],init:function init(){},get:function get(){return currentUser;},update:function update(userUpdates){currentUser=Object.assign({},userUpdates);this.trigger(currentUser);},onLogin:function onLogin(creds){_ApiRequest2.default.post('/account/login').data(creds).setAnonymous(true).send(function(res){_AccessToken2.default.set(res.data.session_id).then(function(){return _Actions2.default.login.completed(res);});},_Actions2.default.login.failed);},onLoginCompleted:function onLoginCompleted(response){var user=response.data;this.update(user);},onLogout:function onLogout(){_ApiRequest2.default.post('/account/logout').setHandleErrors(false).setIgnoreNetworkError(true).send(_Actions2.default.logout.completed,_Actions2.default.logout.failed);this.update(defaultUser);},onLogoutCompleted:function onLogoutCompleted(){_AccessToken2.default.clear();},onLogoutFailed:function onLogoutFailed(){_AccessToken2.default.clear();},onLoadUser:function onLoadUser(){_ApiRequest2.default.get('/account').send(_Actions2.default.loadUser.completed,_Actions2.default.loadUser.failed);},onLoadUserCompleted:function onLoadUserCompleted(response){this.update(response.data);}});

},{"../Api/AccessToken":4,"../Api/ApiRequest":5,"../Api/ApiUtils":6,"../Utils/Actions":12,"../Utils/Constants":13,"reflux":"reflux"}],12:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _reflux=require('reflux');var _reflux2=_interopRequireDefault(_reflux);var _AccessToken=require('../Api/AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var Actions=_reflux2.default.createActions(["auth","unauth","noauth",{"login":{asyncResult:true}},{"logout":{asyncResult:true}},{"loadUser":{asyncResult:true}}]);Actions.auth.listen(function(){_AccessToken2.default.get(true).then(function(accessToken){return Actions.loadUser(accessToken);}).catch(function(){return Actions.noauth();});});exports.default=Actions;

},{"../Api/AccessToken":4,"../Api/ApiRequest":5,"reflux":"reflux"}],13:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var keyMirror=require('keyMirror');var HOST_NAME="clefoodblog.com";var ENV=window.location.hostname===HOST_NAME?'production':'dev';var isProd=true,apiVersion='v1',apiHost='http://'+HOST_NAME+'/api',siteRoot='http://'+HOST_NAME;switch(ENV){case 'dev':isProd=false;apiHost='http://dev.'+HOST_NAME+'/api';siteRoot='http://dev.'+HOST_NAME;break;}var Config=exports.Config={ENV:ENV,api_root:apiHost+'/',site_root:siteRoot+'/',Storage:keyMirror({ACCESS_TOKEN:null})};

},{"keyMirror":3}],14:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _jquery=require('jquery');var _jquery2=_interopRequireDefault(_jquery);var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _UserNav=require('../Components/UserNav');var _UserNav2=_interopRequireDefault(_UserNav);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Initialize=function(){function Initialize(){_classCallCheck(this,Initialize);}_createClass(Initialize,null,[{key:'globals',value:function globals(){window.jQuery=_jquery2.default;}},{key:'bootstrap',value:function bootstrap(){require('bootstrap');}},{key:'onReady',value:function onReady(){var baButton=document.getElementById('btnComingSoon');if(baButton){baButton.onclick=function(){if(ga)ga('send','event','buttons','click','stay tuned');console.log('send','event','buttons','click','stay tuned');return false;};}_reactDom2.default.render(_react2.default.createElement(_UserNav2.default,null),document.getElementById('UserNav'));}},{key:'authUser',value:function authUser(){_Actions2.default.auth();}},{key:'onLoad',value:function onLoad(){Initialize.globals();Initialize.bootstrap();Initialize.onReady();Initialize.authUser();}}]);return Initialize;}();exports.default=Initialize;

},{"../Components/UserNav":10,"../Utils/Actions":12,"bootstrap":"bootstrap","jquery":"jquery","react":"react","react-dom":"react-dom"}],15:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _path=require('path');var _path2=_interopRequireDefault(_path);var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _AddPageForm=require('../Components/AddPageForm');var _AddPageForm2=_interopRequireDefault(_AddPageForm);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Routes=function(){function Routes(){_classCallCheck(this,Routes);}_createClass(Routes,null,[{key:'current',value:function current(pathname){var basename=_path2.default.basename(pathname)||Routes.homeRoute;var camelName=basename.replace(/-([a-z])/g,function(g){return g[1].toUpperCase();});if(typeof Routes[camelName]==='function'){Routes[camelName]();}}},{key:'home',value:function home(){console.log('Home route');}},{key:'addPage',value:function addPage(){_reactDom2.default.render(_react2.default.createElement(_AddPageForm2.default,null),document.getElementById('AddPageForm'));}}]);return Routes;}();Routes.homeRoute='home';exports.default=Routes;

},{"../Components/AddPageForm":7,"../Utils/Utils":16,"path":1,"react":"react","react-dom":"react-dom"}],16:[function(require,module,exports){
'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Constants=require('./Constants');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Utils=function(){function Utils(){_classCallCheck(this,Utils);}_createClass(Utils,null,[{key:'alertError',value:function alertError(message){alert(message);}},{key:'getJSONP',value:function getJSONP(url,callback){var ref=window.document.getElementsByTagName('script')[0];var script=window.document.createElement('script');script.src=url+(url.indexOf('?')+1?'&':'?')+'callback='+callback;ref.parentNode.insertBefore(script,ref);script.onload=function(){this.remove();};}},{key:'quoteRegex',value:function quoteRegex(regex){return regex.replace(/([()[{*+.$^\\|?])/g,'\\$1');}},{key:'trimChar',value:function trimChar(str,chr){chr=Utils.quoteRegex(chr);return str.replace(new RegExp('^'+chr+'+|'+chr+'+$','g'),"");}},{key:'toQueryString',value:function toQueryString(obj,prefix){var str=[];for(var p in obj){if(obj.hasOwnProperty(p)){var k=prefix?prefix+"["+p+"]":p,v=obj[p];str.push((typeof v==='undefined'?'undefined':_typeof(v))=="object"?Utils.toQueryString(v,k):encodeURIComponent(k)+"="+encodeURIComponent(v));}}return str.join("&");}},{key:'isEmpty',value:function isEmpty(obj){if(obj==null)return true;if(obj.length>0)return false;if(obj.length===0)return true;if(Object.getOwnPropertyNames(obj).length>0)return false;return true;}},{key:'cleanForUrl',value:function cleanForUrl(str){return str.replace(/(^\-+|[^a-zA-Z0-9\/_| -]+|\-+$)/g,'').toLowerCase().replace(/[\/_| -]+/g,'-');}}]);return Utils;}();exports.default=Utils;

},{"./Constants":13}],17:[function(require,module,exports){
'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _Initialize=require('./Utils/Initialize');var _Initialize2=_interopRequireDefault(_Initialize);var _Routes=require('./Utils/Routes');var _Routes2=_interopRequireDefault(_Routes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}_Initialize2.default.onLoad();_Routes2.default.current(window.location.pathname);

},{"./Utils/Initialize":14,"./Utils/Routes":15,"react":"react","react-dom":"react-dom"}]},{},[17])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9rZXlNaXJyb3IvaW5kZXguanMiLCJyZXNvdXJjZXMvanMvQXBpL0FjY2Vzc1Rva2VuLmpzIiwicmVzb3VyY2VzL2pzL0FwaS9BcGlSZXF1ZXN0LmpzIiwicmVzb3VyY2VzL2pzL0FwaS9BcGlVdGlscy5qcyIsInJlc291cmNlcy9qcy9Db21wb25lbnRzL0FkZFBhZ2VGb3JtLmpzIiwicmVzb3VyY2VzL2pzL0NvbXBvbmVudHMvTG9naW5Gb3JtLmpzIiwicmVzb3VyY2VzL2pzL0NvbXBvbmVudHMvVXNlck1lbnUuanMiLCJyZXNvdXJjZXMvanMvQ29tcG9uZW50cy9Vc2VyTmF2LmpzIiwicmVzb3VyY2VzL2pzL1N0b3Jlcy9DdXJyZW50VXNlci5qcyIsInJlc291cmNlcy9qcy9VdGlscy9BY3Rpb25zLmpzIiwicmVzb3VyY2VzL2pzL1V0aWxzL0NvbnN0YW50cy5qcyIsInJlc291cmNlcy9qcy9VdGlscy9Jbml0aWFsaXplLmpzIiwicmVzb3VyY2VzL2pzL1V0aWxzL1JvdXRlcy5qcyIsInJlc291cmNlcy9qcy9VdGlscy9VdGlscy5qcyIsInJlc291cmNlcy9qcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0FDaEMsSUFBSSxJQUFNLEVBQU4sQ0FENEIsSUFFM0IsSUFBSSxDQUFKLElBQVMsR0FBZCxDQUFtQixDQUNqQixHQUFJLElBQUksY0FBSixDQUFtQixDQUFuQixDQUFKLENBQTJCLENBQ3pCLElBQUksRUFBSSxPQUFTLE9BQVMsR0FBVCxDQUFlLENBQWYsQ0FBbUIsR0FBbkIsQ0FBeUIsQ0FBbEMsQ0FBcUMsRUFBSSxJQUFJLENBQUosQ0FBSixDQURwQixHQUV6QixDQUFJLElBQUosQ0FBUyxRQUFPLHVDQUFQLEVBQVksUUFBWixDQUNQLE1BQU0sYUFBTixDQUFvQixDQUFwQixDQUF1QixDQUF2QixDQURPLENBQ3FCLG1CQUFtQixDQUFuQixFQUF3QixHQUF4QixDQUE4QixtQkFBbUIsQ0FBbkIsQ0FBOUIsQ0FEOUIsQ0FGeUIsQ0FBM0IsQ0FERixPQU9PLElBQUksSUFBSixDQUFTLEdBQVQsQ0FBUCxDQVRnQyx5Q0FpQm5CLElBQUssQ0FDbEIsR0FBSSxLQUFPLElBQVAsQ0FBYSxPQUFPLElBQVAsQ0FBakIsR0FDSSxJQUFJLE1BQUosQ0FBYSxDQUFiLENBQWdCLE9BQU8sS0FBUCxDQUFwQixHQUNJLElBQUksTUFBSixHQUFlLENBQWYsQ0FBa0IsT0FBTyxJQUFQLENBQXRCLEdBQ0ksT0FBTyxtQkFBUCxDQUEyQixHQUEzQixFQUFnQyxNQUFoQyxDQUF5QyxDQUF6QyxDQUE0QyxPQUFPLEtBQVAsQ0FBaEQsT0FDTyxJQUFQLENBTGtCLGlEQWNELElBQUssQ0FDdEIsT0FBTyxJQUFJLE9BQUosQ0FBWSxrQ0FBWixDQUFnRCxFQUFoRCxFQUNJLFdBREosR0FFSSxPQUZKLENBRVksWUFGWixDQUUwQixHQUYxQixDQUFQLENBRHNCLFlBdkZMOzs7aWJDS3JCLHFCQUFXLE1BQVgsR0FHQSxpQkFBTyxPQUFQLENBQWUsT0FBTyxRQUFQLENBQWdCLFFBQWhCLENBQWYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG4gICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nO1xuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfSkuam9pbignLycpKTtcbn07XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn07XG5cbmV4cG9ydHMuc2VwID0gJy8nO1xuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7XG5cbmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSxcbiAgICAgIHJvb3QgPSByZXN1bHRbMF0sXG4gICAgICBkaXIgPSByZXN1bHRbMV07XG5cbiAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICByZXR1cm4gJy4nO1xuICB9XG5cbiAgaWYgKGRpcikge1xuICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoXG4gICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gcm9vdCArIGRpcjtcbn07XG5cblxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuXG5leHBvcnRzLmV4dG5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGFuIGVudW1lcmF0aW9uIHdpdGgga2V5cyBlcXVhbCB0byB0aGVpciB2YWx1ZS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgIHZhciBDT0xPUlMgPSBrZXlNaXJyb3Ioe2JsdWU6IG51bGwsIHJlZDogbnVsbH0pO1xuICogICB2YXIgbXlDb2xvciA9IENPTE9SUy5ibHVlO1xuICogICB2YXIgaXNDb2xvclZhbGlkID0gISFDT0xPUlNbbXlDb2xvcl07XG4gKlxuICogVGhlIGxhc3QgbGluZSBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIGlmIHRoZSB2YWx1ZXMgb2YgdGhlIGdlbmVyYXRlZCBlbnVtIHdlcmVcbiAqIG5vdCBlcXVhbCB0byB0aGVpciBrZXlzLlxuICpcbiAqICAgSW5wdXQ6ICB7a2V5MTogdmFsMSwga2V5MjogdmFsMn1cbiAqICAgT3V0cHV0OiB7a2V5MToga2V5MSwga2V5Mjoga2V5Mn1cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbnZhciBrZXlNaXJyb3IgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIHJldCA9IHt9O1xuICB2YXIga2V5O1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgIUFycmF5LmlzQXJyYXkob2JqKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2tleU1pcnJvciguLi4pOiBBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4nKTtcbiAgfVxuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmV0W2tleV0gPSBrZXk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5TWlycm9yO1xuIiwiaW1wb3J0IEFwaVJlcXVlc3QgZnJvbSAnLi9BcGlSZXF1ZXN0JztcbmltcG9ydCB7Q29uZmlnfSBmcm9tICcuLi9VdGlscy9Db25zdGFudHMnO1xuXG4vKipcbiAqIEFwcGxpY2F0aW9uLXdpZGUgYWNjZXNzX3Rva2VuIHN0b3JhZ2UvcmV0cmlldmFsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY2Vzc1Rva2VuIHtcbiAgLyoqXG4gICAqIEdldCB0aGUgQWNjZXNzVG9rZW4gYW5kIGxvY2FsbHkgY2FjaGUgaXQgdG8gYXZvaWQgdW5lY2Nlc3NhcnkgZmV0Y2hlcy5cbiAgICogQHJldHVybnMgUHJvbWlzZVxuICAgKi9cbiAgc3RhdGljIGdldCh2ZXJpZnkpIHtcbiAgICBpZiAodHlwZW9mIHZlcmlmeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZlcmlmeSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoQWNjZXNzVG9rZW4uX2FjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKEFjY2Vzc1Rva2VuLl9hY2Nlc3NUb2tlbik7XG4gICAgICB9XG5cbiAgICAgIGxldCBhY2Nlc3NfdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDb25maWcuU3RvcmFnZS5BQ0NFU1NfVE9LRU4pO1xuXG4gICAgICBpZiAoYWNjZXNzX3Rva2VuID09PSBudWxsKSB7XG4gICAgICAgIEFjY2Vzc1Rva2VuLmNsZWFyKCk7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKHtjb2RlOiA0MDMsIG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnfSkpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiAodmVyaWZ5KSB7XG4gICAgICAvLyAgIEFwaVJlcXVlc3QucG9zdCgnL3Nlc3Npb24vdmVyaWZ5JylcbiAgICAgIC8vICAgICAuc2V0SGFuZGxlRXJyb3JzKGZhbHNlKVxuICAgICAgLy8gICAgIC5zZXRJZ25vcmVOZXR3b3JrRXJyb3IodHJ1ZSlcbiAgICAgIC8vICAgICAuc2VuZCgoKSA9PiB7XG4gICAgICAvLyAgICAgICBBY2Nlc3NUb2tlbi5zZXQoYWNjZXNzX3Rva2VuLCB0cnVlKS50aGVuKHJlc29sdmUpO1xuICAgICAgLy8gICAgIH0sIChlcnIpID0+IHtcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBWZXJpZmljYXRpb24gRXJyb3I6ICcsIGVycik7XG4gICAgICAvLyAgICAgICBBY2Nlc3NUb2tlbi5jbGVhcigpO1xuICAgICAgLy8gICAgICAgcmVqZWN0KGVycik7XG4gICAgICAvLyAgICAgfSk7XG4gICAgICAvLyB9XG5cbiAgICAgIEFjY2Vzc1Rva2VuLnNldChhY2Nlc3NfdG9rZW4sIHRydWUpLnRoZW4ocmVzb2x2ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhY2Nlc3NfdG9rZW4gaW4gdGhlIGxvY2FsIGNhY2hlLCBhbmQgKGJ5IGRlZmF1bHQpIGluIGxvY2FsU3RvcmFnZS5cbiAgICogQHBhcmFtIGFjY2Vzc190b2tlblxuICAgKiBAcGFyYW0gZG9udFVwZGF0ZVN0b3JhZ2VcbiAgICovXG4gIHN0YXRpYyBzZXQoYWNjZXNzX3Rva2VuLCBkb250VXBkYXRlU3RvcmFnZSkge1xuICAgIEFjY2Vzc1Rva2VuLl9hY2Nlc3NUb2tlbiA9IGFjY2Vzc190b2tlbjtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoISBkb250VXBkYXRlU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDb25maWcuU3RvcmFnZS5BQ0NFU1NfVE9LRU4sIGFjY2Vzc190b2tlbik7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoYWNjZXNzX3Rva2VuKTtcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgYWNjZXNzX3Rva2VuIGZyb20gbG9jYWwgY2FjaGUgYW5kIGxvY2FsU3RvcmFnZVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIHN0YXRpYyBjbGVhcigpIHtcbiAgICBBY2Nlc3NUb2tlbi5fYWNjZXNzVG9rZW4gPSBudWxsO1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShDb25maWcuU3RvcmFnZS5BQ0NFU1NfVE9LRU4pO1xuICB9XG59IiwiaW1wb3J0IFV0aWxzIGZyb20gJy4uL1V0aWxzL1V0aWxzJztcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IEFwaVV0aWxzIGZyb20gJy4vQXBpVXRpbHMnO1xuaW1wb3J0IEFjY2Vzc1Rva2VuIGZyb20gJy4vQWNjZXNzVG9rZW4nO1xuaW1wb3J0IFJlcXVlc3QgZnJvbSAnc3VwZXJhZ2VudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaVJlcXVlc3Qge1xuXG4gIHN0YXRpYyBhY3RpdmVSZXF1ZXN0cyA9IDA7XG5cbiAgc3RhdGljIHVwZGF0ZU5ldHdvcmtJbmRpY2F0b3IoZGlyID0gJy0nKSB7XG4gICAgaWYgKGRpciA9PT0gJysnKSB7XG4gICAgICBBcGlSZXF1ZXN0LmFjdGl2ZVJlcXVlc3RzKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIEFwaVJlcXVlc3QuYWN0aXZlUmVxdWVzdHMtLTtcbiAgICB9XG5cbiAgICBpZiAoQXBpUmVxdWVzdC5hY3RpdmVSZXF1ZXN0cyA8PSAwKSB7XG4gICAgICBBcGlSZXF1ZXN0LmFjdGl2ZVJlcXVlc3RzID0gMDtcbiAgICAgIC8vIGhpZGUgbmV0d29yayBhY3Rpdml0eSBpbmRpY2F0b3JcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2hvdyBuZXR3b3JrIGFjdGl2aXR5IGluZGljYXRvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQVBJIFJlcXVlc3QgT2JqZWN0XG4gICAqIEBwYXJhbSBtZXRob2Qge3N0cmluZ30gZ2V0fHBvc3R8cHV0fGRlbHxoZWFkfG9wdGlvbnMgKG9wdGlvbmFsLCBkZWZhdWx0OiBnZXQpXG4gICAqIEBwYXJhbSBlbmRwb2ludCB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShtZXRob2QsIGVuZHBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG1ldGhvZCwgZW5kcG9pbnQpO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUFub24obWV0aG9kLCBlbmRwb2ludCkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IHRoaXMobWV0aG9kLCBlbmRwb2ludCk7XG4gICAgcmVxdWVzdC5zZXRBbm9ueW1vdXModHJ1ZSk7XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQoZW5kcG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoJ2dldCcsIGVuZHBvaW50KTtcbiAgfVxuXG4gIHN0YXRpYyBwb3N0KGVuZHBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKCdwb3N0JywgZW5kcG9pbnQpO1xuICB9XG5cbiAgc3RhdGljIHB1dChlbmRwb2ludCkge1xuICAgIHJldHVybiBuZXcgdGhpcygncHV0JywgZW5kcG9pbnQpO1xuICB9XG5cbiAgc3RhdGljIGRlbGV0ZShlbmRwb2ludCkge1xuICAgIHJldHVybiBuZXcgdGhpcygnZGVsZXRlJywgZW5kcG9pbnQpO1xuICB9XG5cbiAgY29uc3RydWN0b3IobWV0aG9kLCBlbmRwb2ludCkge1xuICAgIGlmIChlbmRwb2ludCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmRwb2ludCA9IG1ldGhvZDtcbiAgICAgIG1ldGhvZCA9ICdnZXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXRob2QgPSBtZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoZW5kcG9pbnQuaW5kZXhPZignPycpICE9PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBzZXQgcXVlcnkgc3RyaW5nIGRhdGEgdmlhIHRoZSBgcXVlcnlgIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pc0Fub255bW91cyA9IGZhbHNlO1xuICAgIHRoaXMuaGFuZGxlRXJyb3JzID0gdHJ1ZTtcbiAgICB0aGlzLmlnbm9yZU5ldHdvcmtFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMudXJsID0gQXBpVXRpbHMuYnVpbGRVcmwoZW5kcG9pbnQpO1xuICAgIHRoaXMuX3NldHVwUmVxdWVzdChtZXRob2QpO1xuICB9XG5cbiAgc2V0QW5vbnltb3VzKGlzQW5vbnltb3VzKSB7XG4gICAgdGhpcy5pc0Fub255bW91cyA9IGlzQW5vbnltb3VzO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRIYW5kbGVFcnJvcnMoaGFuZGxlRXJyb3JzKSB7XG4gICAgdGhpcy5oYW5kbGVFcnJvcnMgPSBoYW5kbGVFcnJvcnM7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldElnbm9yZU5ldHdvcmtFcnJvcihpZ25vcmVOZXR3b3JrRXJyb3IpIHtcbiAgICB0aGlzLmlnbm9yZU5ldHdvcmtFcnJvciA9IGlnbm9yZU5ldHdvcmtFcnJvcjtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY29uZmlndXJlKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5yZXF1ZXN0KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2VuZChjYWxsYmFjaywgZXJyQ2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5pc0Fub255bW91cykge1xuICAgICAgcmV0dXJuIHRoaXMuX3NlbmRJdChjYWxsYmFjaywgZXJyQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8vIFNlbmQgd2l0aCBwcm9wZXIgYXV0aGVudGljYXRpb246XG4gICAgQWNjZXNzVG9rZW4uZ2V0KClcbiAgICAgIC50aGVuKHRva2VuID0+IHtcbiAgICAgICAgdGhpcy5xdWVyeSh7dG9rZW59KTtcbiAgICAgICAgdGhpcy5fc2VuZEl0KGNhbGxiYWNrLCBlcnJDYWxsYmFjayk7XG4gICAgICB9KVxuICAgICAgLy8gLmNhdGNoKCgpID0+IEFjdGlvbnMubG9nb3V0KCkpO1xuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICogSGVscGVyL1dyYXBwZXIgRnVuY3Rpb25zICpcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgZGF0YShkYXRhKSB7XG4gICAgdGhpcy5yZXF1ZXN0Qm9keSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBxdWVyeShkYXRhKSB7XG4gICAgdGhpcy5xdWVyeURhdGEgPSBPYmplY3QuYXNzaWduKHRoaXMucXVlcnlEYXRhLCBkYXRhKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaGVhZGVyKGhlYWRlciwgdmFsdWUpIHtcbiAgICB0aGlzLnJlcXVlc3RIZWFkZXJzW2hlYWRlcl0gPSB2YWx1ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IE9iamVjdC5hc3NpZ24odGhpcy5yZXF1ZXN0SGVhZGVycywgaGVhZGVycylcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3NldHVwUmVxdWVzdChtZXRob2QpIHtcbiAgICB0aGlzLnJlcXVlc3RNZXRob2QgPSAoISBtZXRob2QpID8gJ2dldCcgOiBtZXRob2Q7XG4gICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG5cbiAgICB0aGlzLnF1ZXJ5RGF0YSA9IHt9O1xuICAgIHRoaXMucmVxdWVzdEJvZHkgPSB7fTtcbiAgICB0aGlzLnJlcXVlc3QgPSBudWxsO1xuICB9XG5cbiAgX3NlbmRJdChjYWxsYmFjaywgZXJyQ2FsbGJhY2spIHtcbiAgICBBcGlSZXF1ZXN0LnVwZGF0ZU5ldHdvcmtJbmRpY2F0b3IoJysnKTtcblxuICAgIHRoaXMucmVxdWVzdCA9IFJlcXVlc3RbdGhpcy5yZXF1ZXN0TWV0aG9kXSh0aGlzLnVybCk7XG5cbiAgICBpZiAoISBVdGlscy5pc0VtcHR5KHRoaXMucXVlcnlEYXRhKSkge1xuICAgICAgdGhpcy5yZXF1ZXN0LnF1ZXJ5KHRoaXMucXVlcnlEYXRhKTtcbiAgICB9XG5cbiAgICBpZiAoISBVdGlscy5pc0VtcHR5KHRoaXMucmVxdWVzdEhlYWRlcnMpKSB7XG4gICAgICB0aGlzLnJlcXVlc3Quc2V0KHRoaXMucmVxdWVzdEhlYWRlcnMpO1xuICAgIH1cblxuICAgIHRoaXMucmVxdWVzdFxuICAgICAgLnNlbmQodGhpcy5yZXF1ZXN0Qm9keSlcbiAgICAgIC8vLndpdGhDcmVkZW50aWFscygpXG4gICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBBcGlSZXF1ZXN0LnVwZGF0ZU5ldHdvcmtJbmRpY2F0b3IoKTtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIC8vIEkga25vdyB3aGVuIHRoYXQgaG90IGxpbmUgYmxpbmc6XG4gICAgICAgICAgY2FsbGJhY2socmVzLmJvZHkpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcy51bmF1dGhvcml6ZWQpIHtcbiAgICAgICAgICAvLyBVbmF1dGhvcml6ZWQgcmVxdWVzdDpcbiAgICAgICAgICBBY2Nlc3NUb2tlbi5jbGVhcigpO1xuICAgICAgICAgIEFjdGlvbnMubm9hdXRoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTmV0d29yayByZXNwb25zZSB3YXMgbm90IE9LOlxuICAgICAgICAgIGlmICh0aGlzLmhhbmRsZUVycm9ycykge1xuICAgICAgICAgICAgQXBpVXRpbHMuaGFuZGxlRXJyb3IocmVzLmJvZHkuZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBDYWxsIHRoZSBlcnJvciBjYWxsYmFjayBzbyB2aWV3cyBjYW4gcmVzcG9uZDpcbiAgICAgICAgICBpZiAoZXJyQ2FsbGJhY2spIGVyckNhbGxiYWNrKHJlcy5ib2R5LmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgVXRpbHMgZnJvbSAnLi4vVXRpbHMvVXRpbHMnO1xuaW1wb3J0IHtDb25maWd9IGZyb20gJy4uL1V0aWxzL0NvbnN0YW50cyc7XG5cbmNvbnN0IERFRkFVTFRfRVJST1IgPSAnVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHlvdXIgcmVxdWVzdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaVV0aWxzIHtcblxuICBzdGF0aWMgaGFuZGxlRXJyb3IoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKGVycik7XG4gICAgVXRpbHMuYWxlcnRFcnJvcihlcnIubWVzc2FnZSB8fCBERUZBVUxUX0VSUk9SKTtcbiAgfVxuXG4gIHN0YXRpYyBoYW5kbGVOZXR3b3JrRXJyb3IoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKGVycik7XG4gICAgLy8gc2hvdyBvZmZsaW5lIG1vZGVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gZW5kcG9pbnRcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBidWlsZFVybChlbmRwb2ludCkge1xuICAgICAgZW5kcG9pbnQgPSBVdGlscy50cmltQ2hhcihlbmRwb2ludCwgJy8nKTtcblxuICAgICAgaWYgKGVuZHBvaW50LmluZGV4T2YoQ29uZmlnLmFwaV9yb290KSA9PT0gLTEpIHtcbiAgICAgICAgICBlbmRwb2ludCA9IENvbmZpZy5hcGlfcm9vdCArIGVuZHBvaW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZW5kcG9pbnQ7XG4gIH1cblxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgRWRpdG9yIGZyb20gJ3JlYWN0LW1lZGl1bS1lZGl0b3InO1xuaW1wb3J0IERhdGVUaW1lSW5wdXQgZnJvbSAncmVhY3QtYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyJztcblxuaW1wb3J0IFV0aWxzIGZyb20gJy4uL1V0aWxzL1V0aWxzJztcbmltcG9ydCBBcGlSZXF1ZXN0IGZyb20gJy4uL0FwaS9BcGlSZXF1ZXN0JztcbmltcG9ydCBDdXJyZW50VXNlciBmcm9tICcuLi9TdG9yZXMvQ3VycmVudFVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZGRQYWdlRm9ybSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7fTtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5wb3N0VGltZXN0YW1wID0gbnVsbDtcbiAgICB0aGlzLmhhc0N1c3RvbVVyaSA9IGZhbHNlO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICBwcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgIHVzZXI6IHRoaXMucHJvcHMudXNlcixcbiAgICAgIGFydGljbGU6IFwiXCIsXG4gICAgICB1cmk6IFwiXCIsXG4gICAgfTtcblxuICAgIHRoaXMuX29uU3VibWl0UGFnZSA9IHRoaXMuX29uU3VibWl0UGFnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uUG9zdERhdGVDaGFuZ2UgPSB0aGlzLl9vblBvc3REYXRlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25VcGRhdGVQYWdlVXJpID0gdGhpcy5fb25VcGRhdGVQYWdlVXJpLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VVcmkgPSB0aGlzLl9vbkNoYW5nZVVyaS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQmx1clVyaSA9IHRoaXMuX29uQmx1clVyaS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQXJ0aWNsZUNoYW5nZSA9IHRoaXMuX29uQXJ0aWNsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uVXNlckNoYW5nZSA9IHRoaXMuX29uVXNlckNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuc3RvcFVzZXJTdWJzY3JpYmUgPSBDdXJyZW50VXNlci5saXN0ZW4odGhpcy5fb25Vc2VyQ2hhbmdlKTtcblxuICAgIGxldCB1c2VyID0gQ3VycmVudFVzZXIuZ2V0KCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdXRob3JpemVkOiAhISB1c2VyLmlkLFxuICAgICAgdXNlcixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RvcFVzZXJTdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHJlbmRlclByb2dyZXNzQmFyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCIgc3R5bGU9e3toZWlnaHQ6IFwiYXV0b1wifX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3MtYmFyIHByb2dyZXNzLWJhci1pbmZvIHByb2dyZXNzLWJhci1zdHJpcGVkIGFjdGl2ZVwiIHJvbGU9XCJwcm9ncmVzc2JhclwiIGFyaWEtdmFsdWVub3c9XCIxMDBcIiBhcmlhLXZhbHVlbWluPVwiMFwiIGFyaWEtdmFsdWVtYXg9XCIxMDBcIiBzdHlsZT17c3R5bGVzLnByb2dyZXNzQmFyfT5cbiAgICAgICAgICBTYXZpbmcuLi5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyU3VibWl0QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnByb2Nlc3NpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlclByb2dyZXNzQmFyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGcgYnRuLWluZm9cIiBzdHlsZT17c3R5bGVzLmJ1dHRvbn0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tcGx1cy1zaWduXCI+PC9zcGFuPlxuICAgICAgICB7JyBBZGQgUGFnZSd9XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghIHRoaXMuc3RhdGUuYXV0aG9yaXplZCkgcmV0dXJuIDxoND5NdXN0IGJlIGxvZ2dlZCBpbiA6KDwvaDQ+O1xuXG4gICAgbGV0IGVkaXRvck9wdGlvbnMgPSB7XG4gICAgICBwbGFjZWhvbGRlcjoge3RleHQ6IFwiQXJ0aWNsZSBib2R5Li4uXCJ9LFxuICAgICAgdG9vbGJhcjoge1xuICAgICAgICBidXR0b25zOiBbJ2JvbGQnLCAnaXRhbGljJywgJ2FuY2hvcicsICdoMicsICdoMycsICdxdW90ZScsICd1bm9yZGVyZWRsaXN0J10sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICAvLyBhZGQgLmhhcy1zdWNjZXNzIG9yIC5oYXMtZXJyb3JcbiAgICAvLyAuZ2x5cGhpY29uLW9rIG9yIC5nbHlwaGljb24tcmVtb3ZlXG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIHJlZj1cImFkZE5ld1BhZ2VcIiBjbGFzc05hbWU9XCJcIiByb2xlPVwiZm9ybVwiIG9uU3VibWl0PXt0aGlzLl9vblN1Ym1pdFBhZ2V9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICA8aDE+QWRkIE5ldyBQYWdlPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPjxlbT5EYXRhIGFib3V0IGRhdGE6PC9lbT48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPjxlbT5TcGl0IHlvdXIga25vd2xlZGdlIGdhbWU6PC9lbT48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8RGF0ZVRpbWVJbnB1dFxuICAgICAgICAgICAgICAgIHNpemU9eydsZyd9XG4gICAgICAgICAgICAgICAgZGVmYXVsdFRleHQ9eycnfVxuICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3twbGFjZWhvbGRlcjogXCJBcnRpY2xlIERhdGUvVGltZVwifX1cbiAgICAgICAgICAgICAgICBmb3JtYXQ9eyd4J31cbiAgICAgICAgICAgICAgICBpbnB1dEZvcm1hdD17J1lZWVktTU0tREQgaGg6bW0gQSd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuX29uUG9zdERhdGVDaGFuZ2V9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8aW5wdXQgcmVmPVwicGFnZVVyaVwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDdXN0b20tUGFnZS1VcmxcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cml9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl9vbkNoYW5nZVVyaX1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXt0aGlzLl9vbkJsdXJVcml9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8c2VsZWN0IHJlZj1cInBhZ2VDYXRlZ29yeVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj7igJQgQ2hvb3NlIENhdGVnb3J5IOKAlDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24+UmV2aWV3czwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24+UmVjaXBlczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24+SG93IFRvJ3M8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uPkZyaWRheSBGb29kIEZpZ2h0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbj5XaGVyZSBUbyBGaW5kLi4uPC9vcHRpb24+XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLnByZXZpZXdJbWFnZX0+RHJhZ29uIERyb3AgSW1hZ2UgQXJlYTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGlucHV0IHJlZj1cIm1ldGFUaXRsZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBtZXRhIHRpdGxlXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSByZWY9XCJtZXRhRGVzY3JpcHRpb25cIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiByb3dzPVwiMlwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbWV0YSBkZXNjcmlwdGlvblwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8aW5wdXQgcmVmPVwibWV0YUtleXdvcmRzXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIG1ldGEga2V5d29yZHNcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHJlZj1cInBhZ2VUaXRsZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJIZWFkbGluZVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5fb25VcGRhdGVQYWdlVXJpfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMuZWRpdG9yfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgdGV4dD17dGhpcy5zdGF0ZS5hcnRpY2xlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl9vbkFydGljbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17ZWRpdG9yT3B0aW9uc30gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3RoaXMucmVuZGVyU3VibWl0QnV0dG9uKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cblxuICBfb25Qb3N0RGF0ZUNoYW5nZShkYXRldGltZSkge1xuICAgIHRoaXMucG9zdFRpbWVzdGFtcCA9IGRhdGV0aW1lO1xuICAgIHRoaXMuX29uVXBkYXRlUGFnZVVyaSgpO1xuICB9XG5cbiAgX2dldFBvc3REYXRlRm9ybWF0KGZvcm1hdCA9IFwiWVlZWS1NTS1ERCBISDptbTowMFwiKSB7XG4gICAgbGV0IGRhdGVGb3JtYXQgPSBtb21lbnQudW5peCh0aGlzLnBvc3RUaW1lc3RhbXAgLyAxMDAwKS5mb3JtYXQoZm9ybWF0KTtcbiAgICBpZiAoZGF0ZUZvcm1hdCA9PSAnSW52YWxpZCBkYXRlJykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiBkYXRlRm9ybWF0O1xuICB9XG5cbiAgX2dldFBhZ2VEYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogdGhpcy5yZWZzLnBhZ2VUaXRsZS52YWx1ZSxcbiAgICAgIGFydGljbGU6IHRoaXMuc3RhdGUuYXJ0aWNsZSwgLy8gdGhpcy5yZWZzLnBhZ2VBcnRpY2xlLnZhbHVlLFxuICAgICAgdXJpOiB0aGlzLnN0YXRlLnVyaSB8fCB0aGlzLnJlZnMucGFnZVVyaS52YWx1ZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnJlZnMucGFnZUNhdGVnb3J5LnZhbHVlLFxuICAgICAgbWV0YV90aXRsZTogdGhpcy5yZWZzLm1ldGFUaXRsZS52YWx1ZSxcbiAgICAgIG1ldGFfZGVzY3JpcHRpb246IHRoaXMucmVmcy5tZXRhRGVzY3JpcHRpb24udmFsdWUsXG4gICAgICBtZXRhX2tleXdvcmRzOiB0aGlzLnJlZnMubWV0YUtleXdvcmRzLnZhbHVlLFxuICAgICAgcG9zdF9kYXRlOiB0aGlzLnBvc3RUaW1lc3RhbXAgPyB0aGlzLl9nZXRQb3N0RGF0ZUZvcm1hdCgpIDogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgX29uU3VibWl0UGFnZShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLnN0YXRlLnByb2Nlc3NpbmcpIHJldHVybjtcblxuICAgIHRoaXMuc2V0U3RhdGUoe3Byb2Nlc3Npbmc6IHRydWV9KTtcbiAgICBBcGlSZXF1ZXN0LnBvc3QoJy9wYWdlJylcbiAgICAgIC5kYXRhKHRoaXMuX2dldFBhZ2VEYXRhKCkpXG4gICAgICAuc2VuZChwYWdlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3BhZ2U6JywgcGFnZSk7XG4gICAgICAgIHRoaXMuX2NsZWFyRm9ybSgpO1xuICAgICAgfSk7XG4gIH1cblxuICBfY2xlYXJGb3JtKCkge1xuICAgIHRoaXMucmVmcy5hZGROZXdQYWdlLnJlc2V0KCk7XG4gICAgdGhpcy5wb3N0VGltZXN0YW1wID0gbnVsbDtcbiAgICB0aGlzLmhhc0N1c3RvbVVyaSA9IGZhbHNlO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICBhcnRpY2xlOiBcIlwiLFxuICAgICAgdXJpOiBcIlwiLFxuICAgIH0pO1xuICB9XG5cbiAgX2dldFVyaUZyb21UaXRsZSgpIHtcbiAgICBsZXQgaGVhZGxpbmUgPSB0aGlzLnJlZnMucGFnZVRpdGxlLnZhbHVlIHx8ICd1bnRpdGxlZCcsXG4gICAgICAgIHBvc3REYXRlID0gdGhpcy5wb3N0VGltZXN0YW1wID8gdGhpcy5fZ2V0UG9zdERhdGVGb3JtYXQoXCItWVlZWS1NTS1ERFwiKSA6IFwiXCI7XG4gICAgcmV0dXJuIFV0aWxzLmNsZWFuRm9yVXJsKGhlYWRsaW5lK3Bvc3REYXRlKTtcbiAgfVxuXG4gIF9vbkJsdXJVcmkoZSkge1xuICAgIGlmICghIGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgICB0aGlzLmhhc0N1c3RvbVVyaSA9IGZhbHNlO1xuICAgICAgdGhpcy5fb25VcGRhdGVQYWdlVXJpKCk7XG4gICAgfVxuICB9XG5cbiAgX29uQ2hhbmdlVXJpKGUpIHtcbiAgICB0aGlzLmhhc0N1c3RvbVVyaSA9IHRydWU7XG5cbiAgICB0aGlzLnNldFN0YXRlKHt1cmk6IHRoaXMucmVmcy5wYWdlVXJpLnZhbHVlfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBfb25VcGRhdGVQYWdlVXJpKCkge1xuICAgIGlmICh0aGlzLmhhc0N1c3RvbVVyaSkgcmV0dXJuO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7dXJpOiB0aGlzLl9nZXRVcmlGcm9tVGl0bGUoKX0pO1xuICB9XG5cbiAgX29uQXJ0aWNsZUNoYW5nZShhcnRpY2xlLCBtZWRpdW0pIHtcbiAgICB0aGlzLnNldFN0YXRlKHthcnRpY2xlfSk7XG4gIH1cblxuICBfb25Vc2VyQ2hhbmdlKHVzZXIpIHtcbiAgICB0aGlzLnNldFN0YXRlKHthdXRob3JpemVkOiAhISB1c2VyLmlkfSk7XG4gIH1cbn1cblxuXG52YXIgc3R5bGVzID0ge1xuICBidXR0b246IHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICB9LFxuICBlZGl0b3I6IHtcbiAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgIG1pbkhlaWdodDogXCIyMGVtXCIsXG4gIH0sXG4gIHByZXZpZXdJbWFnZToge1xuICAgIGNvbG9yOiBcInJnYigxNTAsMTUwLDE1MClcIixcbiAgICBib3JkZXJXaWR0aDogMixcbiAgICBib3JkZXJDb2xvcjogXCJyZ2JhKDE1MCwxNTAsMTUwLC44KVwiLFxuICAgIGJvcmRlclN0eWxlOiBcImRhc2hlZFwiLFxuICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICBwYWRkaW5nOiBcIjQwcHggMFwiLFxuICB9LFxuICBwcm9ncmVzc0Jhcjoge1xuICAgIGZvbnRTaXplOiBcIjE4cHhcIixcbiAgICBwYWRkaW5nOiBcIjEwcHggMFwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgfSxcbn07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IEFwaVJlcXVlc3QgZnJvbSAnLi4vQXBpL0FwaVJlcXVlc3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbkZvcm0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge307XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7fTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7fTtcblxuICAgIHRoaXMub25TdWJtaXQgPSB0aGlzLm9uU3VibWl0LmJpbmQodGhpcyk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIGNsYXNzTmFtZT1cIm5hdmJhci1mb3JtIG5hdmJhci1yaWdodFwiIHJvbGU9XCJmb3JtXCIgb25TdWJtaXQ9e3RoaXMub25TdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIiBzdHlsZT17c3R5bGVzLmZvcm1GaWVsZH0+XG4gICAgICAgICAgPGlucHV0IHJlZj1cInVzZXJuYW1lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cInVzZXJuYW1lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiIHN0eWxlPXtzdHlsZXMuZm9ybUZpZWxkfT5cbiAgICAgICAgICA8aW5wdXQgcmVmPVwicGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiPlNpZ24gaW48L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG5cbiAgb25TdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnJlZnMudXNlcm5hbWUudmFsdWUsXG4gICAgICBwYXNzd29yZDogdGhpcy5yZWZzLnBhc3N3b3JkLnZhbHVlLFxuICAgIH07XG5cbiAgICBBY3Rpb25zLmxvZ2luKGRhdGEpO1xuICB9XG59XG5cbnZhciBzdHlsZXMgPSB7XG4gIGZvcm1GaWVsZDoge1xuICAgIG1hcmdpbjogMyxcbiAgfSxcbn07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IEN1cnJlbnRVc2VyIGZyb20gJy4uL1N0b3Jlcy9DdXJyZW50VXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICB1c2VyOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgdXNlcjoge30sXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXNlcjogdGhpcy5wcm9wcy51c2VyLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5zdG9wTGlzdGVuaW5nID0gQ3VycmVudFVzZXIubGlzdGVuKHRoaXMuX29uVXNlckNoYW5nZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe3VzZXI6IEN1cnJlbnRVc2VyLmdldCgpfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmcoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdiBuYXZiYXItbmF2IG5hdmJhci1yaWdodFwiPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd25cIj5cbiAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiByb2xlPVwiYnV0dG9uXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnVzZXIudXNlcm5hbWV9XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjYXJldFwiPjwvc3Bhbj5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIi9hZGQtcGFnZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tcGx1cy1zaWduXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgc3R5bGU9e3N0eWxlcy5pY29ufT48L3NwYW4+XG4gICAgICAgICAgICAgICAgQWRkIFBhZ2VcbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMuX29uRWRpdFByZXNzfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1lZGl0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgc3R5bGU9e3N0eWxlcy5pY29ufT48L3NwYW4+XG4gICAgICAgICAgICAgIEVkaXQgU29tZXRoaW5nXG4gICAgICAgICAgICA8L2E+PC9saT5cbiAgICAgICAgICAgIDxsaSByb2xlPVwic2VwYXJhdG9yXCIgY2xhc3NOYW1lPVwiZGl2aWRlclwiPjwvbGk+XG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24taGVhZGVyXCI+TXkgQWNjb3VudDwvbGk+XG4gICAgICAgICAgICA8bGk+PGEgaHJlZj1cIiNcIiBvbkNsaWNrPXt0aGlzLl9vbkxvZ291dFByZXNzfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1sb2ctb3V0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgc3R5bGU9e3N0eWxlcy5pY29ufT48L3NwYW4+XG4gICAgICAgICAgICAgIFNpZ24gT3V0XG4gICAgICAgICAgICA8L2E+PC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG5cbiAgX29uRWRpdFByZXNzKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coXCJfb25FZGl0UHJlc3NcIik7XG4gIH1cblxuICBfb25Mb2dvdXRQcmVzcyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIEFjdGlvbnMubG9nb3V0KCk7XG4gIH1cblxuICBfb25Vc2VyQ2hhbmdlKHVzZXIpIHtcbiAgICB0aGlzLnNldFN0YXRlKHt1c2VyfSk7XG4gIH1cbn1cblxudmFyIHN0eWxlcyA9IHtcbiAgaWNvbjoge1xuICAgIHBhZGRpbmdSaWdodDogJzVweCcsXG4gIH0sXG59OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9ucyBmcm9tICcuLi9VdGlscy9BY3Rpb25zJztcbmltcG9ydCBDdXJyZW50VXNlciBmcm9tICcuLi9TdG9yZXMvQ3VycmVudFVzZXInO1xuaW1wb3J0IExvZ2luRm9ybSBmcm9tICcuL0xvZ2luRm9ybSc7XG5pbXBvcnQgVXNlck1lbnUgZnJvbSAnLi9Vc2VyTWVudSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge307XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7fTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgdXNlcjoge30sXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmcgPSBDdXJyZW50VXNlci5saXN0ZW4odGhpcy5fb25Vc2VyQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc3RvcEF1dGhMaXN0ZW4gPSBBY3Rpb25zLm5vYXV0aC5saXN0ZW4oKCkgPT4gdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHt1c2VyOiBDdXJyZW50VXNlci5nZXQoKX0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wTGlzdGVuaW5nKCk7XG4gICAgdGhpcy5zdG9wQXV0aExpc3RlbigpO1xuICB9XG5cbiAgcmVuZGVyTG9naW5Gb3JtKCkge1xuICAgIHJldHVybiA8TG9naW5Gb3JtIC8+O1xuICB9XG5cbiAgcmVuZGVyVXNlck1lbnUoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxVc2VyTWVudSB1c2VyPXt0aGlzLnN0YXRlLnVzZXJ9IC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICAgIHt0aGlzLnN0YXRlLnVzZXIuaWQgPyB0aGlzLnJlbmRlclVzZXJNZW51KCkgOiB0aGlzLnJlbmRlckxvZ2luRm9ybSgpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIF9vblVzZXJDaGFuZ2UodXNlcikge1xuICAgIHRoaXMuc2V0U3RhdGUoe3VzZXIsIGxvYWRpbmc6IGZhbHNlfSk7XG4gIH1cblxufVxuXG52YXIgc3R5bGVzID0ge1xuICBjb250YWluZXI6IHtcbiAgICBoZWlnaHQ6ICc1NnB4JyxcbiAgfSxcbiAgdXNlcm5hbWU6IHtcbiAgICBtYXJnaW46IDMsXG4gICAgbGluZUhlaWdodDogJzQ0cHgnLFxuICAgIGNvbG9yOiAnd2hpdGUnLFxuICB9LFxufTsiLCJpbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5cbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IHtDb25maWd9IGZyb20gJy4uL1V0aWxzL0NvbnN0YW50cyc7XG5pbXBvcnQgQXBpUmVxdWVzdCBmcm9tICcuLi9BcGkvQXBpUmVxdWVzdCc7XG5pbXBvcnQgQXBpVXRpbHMgZnJvbSAnLi4vQXBpL0FwaVV0aWxzJztcbmltcG9ydCBBY2Nlc3NUb2tlbiBmcm9tICcuLi9BcGkvQWNjZXNzVG9rZW4nO1xuXG5jb25zdCBkZWZhdWx0VXNlciA9IHtcbiAgaWQ6IG51bGwsXG4gIHVzZXJuYW1lOiBudWxsLFxuICBzZXNzaW9uX2lkOiBudWxsLFxufTtcblxuLy8gY29weSBkZWZhdWx0VXNlciB0byBjdXJyZW50VXNlclxubGV0IGN1cnJlbnRVc2VyID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFVzZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBSZWZsdXguY3JlYXRlU3RvcmUoe1xuICAvLyB0aGlzIHdpbGwgc2V0IHVwIGxpc3RlbmVycyB0byBhbGwgcHVibGlzaGVycyBpbiBBY3Rpb25zLCB1c2luZyBvbktleW5hbWUgKG9yIGtleW5hbWUpIGFzIGNhbGxiYWNrc1xuICBsaXN0ZW5hYmxlczogW0FjdGlvbnNdLFxuXG4gIC8vIEluaXRpYWwgc2V0dXBcbiAgaW5pdCgpIHtcbiAgICAvLyBubyBvcFxuICB9LFxuXG4gIGdldCgpIHtcbiAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gIH0sXG5cbiAgdXBkYXRlKHVzZXJVcGRhdGVzKSB7XG4gICAgY3VycmVudFVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCB1c2VyVXBkYXRlcyk7XG4gICAgdGhpcy50cmlnZ2VyKGN1cnJlbnRVc2VyKTtcbiAgfSxcblxuICAvLyBVc2VyIExvZ2luOlxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIG9uTG9naW4oY3JlZHMpIHtcbiAgICBBcGlSZXF1ZXN0LnBvc3QoJy9hY2NvdW50L2xvZ2luJylcbiAgICAgIC5kYXRhKGNyZWRzKVxuICAgICAgLnNldEFub255bW91cyh0cnVlKVxuICAgICAgLnNlbmQocmVzID0+IHtcbiAgICAgICAgQWNjZXNzVG9rZW4uc2V0KHJlcy5kYXRhLnNlc3Npb25faWQpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gQWN0aW9ucy5sb2dpbi5jb21wbGV0ZWQocmVzKSk7XG4gICAgICB9LCBBY3Rpb25zLmxvZ2luLmZhaWxlZCk7XG4gIH0sXG4gIG9uTG9naW5Db21wbGV0ZWQocmVzcG9uc2UpIHtcbiAgICBsZXQgdXNlciA9IHJlc3BvbnNlLmRhdGE7XG4gICAgdGhpcy51cGRhdGUodXNlcik7XG4gIH0sXG5cbiAgLy8gVXNlciBMb2dvdXQ6XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgb25Mb2dvdXQoKSB7XG4gICAgQXBpUmVxdWVzdC5wb3N0KCcvYWNjb3VudC9sb2dvdXQnKVxuICAgICAgLnNldEhhbmRsZUVycm9ycyhmYWxzZSlcbiAgICAgIC5zZXRJZ25vcmVOZXR3b3JrRXJyb3IodHJ1ZSlcbiAgICAgIC5zZW5kKEFjdGlvbnMubG9nb3V0LmNvbXBsZXRlZCwgQWN0aW9ucy5sb2dvdXQuZmFpbGVkKTtcblxuICAgIC8vIHJlc2V0IGN1cnJlbnRVc2VyIHRvIGRlZmF1bHRcbiAgICB0aGlzLnVwZGF0ZShkZWZhdWx0VXNlcik7XG4gIH0sXG4gIG9uTG9nb3V0Q29tcGxldGVkKCkge1xuICAgIEFjY2Vzc1Rva2VuLmNsZWFyKCk7XG4gIH0sXG4gIG9uTG9nb3V0RmFpbGVkKCkge1xuICAgIEFjY2Vzc1Rva2VuLmNsZWFyKCk7XG4gIH0sXG5cbiAgLy8gTG9hZCBVc2VyOlxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIG9uTG9hZFVzZXIoKSB7XG4gICAgQXBpUmVxdWVzdC5nZXQoJy9hY2NvdW50JylcbiAgICAgIC5zZW5kKEFjdGlvbnMubG9hZFVzZXIuY29tcGxldGVkLCBBY3Rpb25zLmxvYWRVc2VyLmZhaWxlZCk7XG4gIH0sXG4gIG9uTG9hZFVzZXJDb21wbGV0ZWQocmVzcG9uc2UpIHtcbiAgICB0aGlzLnVwZGF0ZShyZXNwb25zZS5kYXRhKTtcbiAgfSxcbn0pOyIsImltcG9ydCBSZWZsdXggZnJvbSAncmVmbHV4JztcbmltcG9ydCBBY2Nlc3NUb2tlbiBmcm9tICcuLi9BcGkvQWNjZXNzVG9rZW4nO1xuaW1wb3J0IEFwaVJlcXVlc3QgZnJvbSAnLi4vQXBpL0FwaVJlcXVlc3QnO1xuXG4vLyBFYWNoIGFjdGlvbiBpcyBsaWtlIGFuIGV2ZW50IGNoYW5uZWwgZm9yIG9uZSBzcGVjaWZpYyBldmVudC4gQWN0aW9ucyBhcmUgY2FsbGVkIGJ5IGNvbXBvbmVudHMuXG4vLyBUaGUgc3RvcmUgaXMgbGlzdGVuaW5nIHRvIGFsbCBhY3Rpb25zLCBhbmQgdGhlIGNvbXBvbmVudHMgaW4gdHVybiBhcmUgbGlzdGVuaW5nIHRvIHRoZSBzdG9yZS5cbi8vIFRodXMgdGhlIGZsb3cgaXM6IFVzZXIgaW50ZXJhY3Rpb24gLT4gY29tcG9uZW50IGNhbGxzIGFjdGlvbiAtPiBzdG9yZSByZWFjdHMgYW5kIHRyaWdnZXJzIC0+IGNvbXBvbmVudHMgdXBkYXRlXG5cbnZhciBBY3Rpb25zID0gUmVmbHV4LmNyZWF0ZUFjdGlvbnMoW1xuICAvLyB1c2VyIGFjdGlvbnNcbiAgXCJhdXRoXCIsXG4gIFwidW5hdXRoXCIsXG4gIFwibm9hdXRoXCIsXG4gIHtcImxvZ2luXCI6IHthc3luY1Jlc3VsdDogdHJ1ZX19LFxuICB7XCJsb2dvdXRcIjoge2FzeW5jUmVzdWx0OiB0cnVlfX0sXG4gIHtcImxvYWRVc2VyXCI6IHthc3luY1Jlc3VsdDogdHJ1ZX19LFxuXSk7XG5cbi8qIFVzZXIgQWN0aW9uc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuQWN0aW9ucy5hdXRoLmxpc3RlbigoKSA9PiB7XG4gIEFjY2Vzc1Rva2VuLmdldCh0cnVlKVxuICAgIC50aGVuKGFjY2Vzc1Rva2VuID0+IEFjdGlvbnMubG9hZFVzZXIoYWNjZXNzVG9rZW4pKVxuICAgIC5jYXRjaCgoKSA9PiBBY3Rpb25zLm5vYXV0aCgpKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBY3Rpb25zOyIsInZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdrZXlNaXJyb3InKTtcblxuY29uc3QgSE9TVF9OQU1FID0gXCJjbGVmb29kYmxvZy5jb21cIjtcbmNvbnN0IEVOViA9ICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09IEhPU1RfTkFNRSkgPyAncHJvZHVjdGlvbicgOiAnZGV2JztcblxudmFyIGlzUHJvZCAgICAgPSB0cnVlLFxuICAgIGFwaVZlcnNpb24gPSAndjEnLFxuICAgIGFwaUhvc3QgICAgPSAnaHR0cDovLycrSE9TVF9OQU1FKycvYXBpJyxcbiAgICBzaXRlUm9vdCAgID0gJ2h0dHA6Ly8nK0hPU1RfTkFNRTtcblxuc3dpdGNoIChFTlYpIHtcbiAgICBjYXNlICdkZXYnOlxuICAgICAgICBpc1Byb2QgICA9IGZhbHNlO1xuICAgICAgICBhcGlIb3N0ICA9ICdodHRwOi8vZGV2LicrSE9TVF9OQU1FKycvYXBpJztcbiAgICAgICAgc2l0ZVJvb3QgPSAnaHR0cDovL2Rldi4nK0hPU1RfTkFNRTtcbiAgICAgICAgYnJlYWs7XG59XG5cbmV4cG9ydCB2YXIgQ29uZmlnID0ge1xuICBFTlY6IEVOVixcbiAgYXBpX3Jvb3Q6IGFwaUhvc3QrJy8nLFxuICBzaXRlX3Jvb3Q6IHNpdGVSb290KycvJyxcblxuICBTdG9yYWdlOiBrZXlNaXJyb3Ioe1xuICAgIEFDQ0VTU19UT0tFTjogbnVsbCxcbiAgfSksXG59O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IFVzZXJOYXYgZnJvbSAnLi4vQ29tcG9uZW50cy9Vc2VyTmF2JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5pdGlhbGl6ZSB7XG5cbiAgc3RhdGljIGdsb2JhbHMoKSB7XG4gICAgLy8gRXhwb3NlIGdsb2JhbHMgbGlrZSBqUXVlcnlcbiAgICB3aW5kb3cualF1ZXJ5ID0gJDtcbiAgfVxuXG4gIHN0YXRpYyBib290c3RyYXAoKSB7XG4gICAgcmVxdWlyZSgnYm9vdHN0cmFwJyk7XG4gIH1cblxuICBzdGF0aWMgb25SZWFkeSgpIHtcbiAgICAvLyBDbGljayBvbiBiaWcgYnV0dG9uOlxuICAgIGxldCBiYUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5Db21pbmdTb29uJyk7XG4gICAgaWYgKGJhQnV0dG9uKSB7XG4gICAgICBiYUJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKGdhKSBnYSgnc2VuZCcsICdldmVudCcsICdidXR0b25zJywgJ2NsaWNrJywgJ3N0YXkgdHVuZWQnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbmQnLCAnZXZlbnQnLCAnYnV0dG9ucycsICdjbGljaycsICdzdGF5IHR1bmVkJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU2hvdyB0aGF0IHVzZXIgbmF2OlxuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxVc2VyTmF2IC8+LFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1VzZXJOYXYnKVxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgYXV0aFVzZXIoKSB7XG4gICAgQWN0aW9ucy5hdXRoKCk7XG4gIH1cblxuICBzdGF0aWMgb25Mb2FkKCkge1xuICAgIEluaXRpYWxpemUuZ2xvYmFscygpO1xuICAgIEluaXRpYWxpemUuYm9vdHN0cmFwKCk7XG4gICAgSW5pdGlhbGl6ZS5vblJlYWR5KCk7XG4gICAgSW5pdGlhbGl6ZS5hdXRoVXNlcigpO1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBVdGlscyBmcm9tICcuLi9VdGlscy9VdGlscyc7XG5pbXBvcnQgQWRkUGFnZUZvcm0gZnJvbSAnLi4vQ29tcG9uZW50cy9BZGRQYWdlRm9ybSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlcyB7XG5cbiAgc3RhdGljIGhvbWVSb3V0ZSA9ICdob21lJztcblxuICBzdGF0aWMgY3VycmVudChwYXRobmFtZSkge1xuICAgIHZhciBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUocGF0aG5hbWUpIHx8IFJvdXRlcy5ob21lUm91dGU7XG4gICAgdmFyIGNhbWVsTmFtZSA9IGJhc2VuYW1lLnJlcGxhY2UoLy0oW2Etel0pL2csIGZ1bmN0aW9uIChnKSB7IHJldHVybiBnWzFdLnRvVXBwZXJDYXNlKCk7IH0pO1xuICAgIGlmICh0eXBlb2YgUm91dGVzW2NhbWVsTmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIFJvdXRlc1tjYW1lbE5hbWVdKCk7XG4gICAgfVxuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEN1c3RvbSBSb3V0ZXM6XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHN0YXRpYyBob21lKCkge1xuICAgIGNvbnNvbGUubG9nKCdIb21lIHJvdXRlJyk7XG4gIH1cblxuICBzdGF0aWMgYWRkUGFnZSgpIHtcbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8QWRkUGFnZUZvcm0gLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQWRkUGFnZUZvcm0nKVxuICAgICk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29uZmlnLCB9IGZyb20gJy4vQ29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbHMge1xuXG4gIHN0YXRpYyBhbGVydEVycm9yKG1lc3NhZ2UpIHtcbiAgICBhbGVydChtZXNzYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgSlNPTiBkYXRhIGZyb20gYW5vdGhlciBzZXJ2ZXIuIFN1cHBvcnRlZCBiYWNrIHRvIElFNi5cbiAgICogY3JlZGl0OiBodHRwOi8vZ29tYWtldGhpbmdzLmNvbS9kaXRjaGluZy1qcXVlcnlcbiAgICogQHBhcmFtIHVybFxuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICovXG4gIHN0YXRpYyBnZXRKU09OUCh1cmwsIGNhbGxiYWNrKSB7XG5cbiAgICAvLyBDcmVhdGUgc2NyaXB0IHdpdGggdXJsIGFuZCBjYWxsYmFjayAoaWYgc3BlY2lmaWVkKVxuICAgIHZhciByZWYgPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdzY3JpcHQnIClbIDAgXTtcbiAgICB2YXIgc2NyaXB0ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzY3JpcHQnICk7XG4gICAgc2NyaXB0LnNyYyA9IHVybCArICh1cmwuaW5kZXhPZiggJz8nICkgKyAxID8gJyYnIDogJz8nKSArICdjYWxsYmFjaz0nICsgY2FsbGJhY2s7XG5cbiAgICAvLyBJbnNlcnQgc2NyaXB0IHRhZyBpbnRvIHRoZSBET00gKGFwcGVuZCB0byA8aGVhZD4pXG4gICAgcmVmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBzY3JpcHQsIHJlZiApO1xuXG4gICAgLy8gQWZ0ZXIgdGhlIHNjcmlwdCBpcyBsb2FkZWQgKGFuZCBleGVjdXRlZCksIHJlbW92ZSBpdFxuICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnJlbW92ZSgpO1xuICAgIH07XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBRdW90ZXMgdGhlIGdpdmVuIHN0cmluZyBzbyBpdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gYSBSZWd1bGFyIEV4cHJlc3Npb24uXG4gICAqIEBwYXJhbSByZWdleFxuICAgKiBAcmV0dXJucyB7KnxzdHJpbmd8dm9pZHxYTUx9XG4gICAqL1xuICBzdGF0aWMgcXVvdGVSZWdleChyZWdleCkge1xuICAgICAgcmV0dXJuIHJlZ2V4LnJlcGxhY2UoLyhbKClbeyorLiReXFxcXHw/XSkvZywgJ1xcXFwkMScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaW0gdGhlIGdpdmVuIGNoYXJhY3RlciBmcm9tIGJvdGggZW5kcyBvZiB0aGUgZ2l2ZW4gc3RyaW5nLlxuICAgKiBAcGFyYW0gc3RyXG4gICAqIEBwYXJhbSBjaHJcbiAgICogQHJldHVybnMgeyp8c3RyaW5nfHZvaWR8WE1MfVxuICAgKi9cbiAgc3RhdGljIHRyaW1DaGFyKHN0ciwgY2hyKSB7XG4gICAgICBjaHIgPSBVdGlscy5xdW90ZVJlZ2V4KGNocik7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBjaHIgKyAnK3wnICsgY2hyICsgJyskJywgJ2cnKSwgXCJcIik7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhbiBvYmplY3QgdG8gYSBxdWVyeSBzdHJpbmcuXG4gICAqIGNyZWRpdDogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTcxNDg5OVxuICAgKiBAcGFyYW0gb2JqXG4gICAqIEBwYXJhbSBwcmVmaXhcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyB0b1F1ZXJ5U3RyaW5nKG9iaiwgcHJlZml4KSB7XG4gICAgdmFyIHN0ciA9IFtdO1xuICAgIGZvciAodmFyIHAgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgIHZhciBrID0gcHJlZml4ID8gcHJlZml4ICsgXCJbXCIgKyBwICsgXCJdXCIgOiBwLCB2ID0gb2JqW3BdO1xuICAgICAgICBzdHIucHVzaCh0eXBlb2YgdiA9PSBcIm9iamVjdFwiID9cbiAgICAgICAgICBVdGlscy50b1F1ZXJ5U3RyaW5nKHYsIGspIDogZW5jb2RlVVJJQ29tcG9uZW50KGspICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodikpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIElzIG9iamVjdCBlbXB0eT9cbiAgICogQHBhcmFtICBvYmpcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0VtcHR5KG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKG9iai5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG9iai5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA+IDApIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiBzdHJpbmcgZm9yIHVzZSBpbiBVUkxcbiAgICogQHBhcmFtICB7c3RyaW5nfSBzdHJcbiAgICogQHJldHVybiB7c3RyaW5nfSB1cmlcbiAgICogQ3JlZGl0OiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNDk2MjM2OS81NzgwMzg1XG4gICAqL1xuICBzdGF0aWMgY2xlYW5Gb3JVcmwoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXlxcLSt8W15hLXpBLVowLTlcXC9ffCAtXSt8XFwtKyQpL2csICcnKVxuICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcL198IC1dKy9nLCAnLScpO1xuICB9XG59XG4iLCIvLyBtYWluLmpzXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgSW5pdGlhbGl6ZSBmcm9tICcuL1V0aWxzL0luaXRpYWxpemUnO1xuaW1wb3J0IFJvdXRlcyBmcm9tICcuL1V0aWxzL1JvdXRlcyc7XG5cbi8vIFJ1biB0aGF0IGluaXQ6XG5Jbml0aWFsaXplLm9uTG9hZCgpO1xuXG4vLyBJbml0aWFsaXplIGN1cnJlbnQgcm91dGVcblJvdXRlcy5jdXJyZW50KHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7Il19
