(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe =
    /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
var splitPath = function(filename) {
  return splitPathRe.exec(filename).slice(1);
};

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function(path) {
  var result = splitPath(path),
      root = result[0],
      dir = result[1];

  if (!root && !dir) {
    // No dirname whatsoever
    return '.';
  }

  if (dir) {
    // It has a dirname, strip trailing slash
    dir = dir.substr(0, dir.length - 1);
  }

  return root + dir;
};


exports.basename = function(path, ext) {
  var f = splitPath(path)[2];
  // TODO: make this comparison case-insensitive on windows?
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};


exports.extname = function(path) {
  return splitPath(path)[3];
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

}).call(this,require('_process'))

},{"_process":2}],2:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        setTimeout(drainQueue, 0);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],3:[function(require,module,exports){
/**
 * humane.js
 * Humanized Messages for Notifications
 * @author Marc Harter (@wavded)
 * @example
 *   humane.log('hello world');
 * @license MIT
 * See more usage examples at: http://wavded.github.com/humane-js/
 */

;!function (name, context, definition) {
   if (typeof module !== 'undefined') module.exports = definition(name, context)
   else if (typeof define === 'function' && typeof define.amd  === 'object') define(definition)
   else context[name] = definition(name, context)
}('humane', this, function (name, context) {
   var win = window
   var doc = document

   var ENV = {
      on: function (el, type, cb) {
         'addEventListener' in win ? el.addEventListener(type,cb,false) : el.attachEvent('on'+type,cb)
      },
      off: function (el, type, cb) {
         'removeEventListener' in win ? el.removeEventListener(type,cb,false) : el.detachEvent('on'+type,cb)
      },
      bind: function (fn, ctx) {
         return function () { fn.apply(ctx,arguments) }
      },
      isArray: Array.isArray || function (obj) { return Object.prototype.toString.call(obj) === '[object Array]' },
      config: function (preferred, fallback) {
         return preferred != null ? preferred : fallback
      },
      transSupport: false,
      useFilter: /msie [678]/i.test(navigator.userAgent), // sniff, sniff
      _checkTransition: function () {
         var el = doc.createElement('div')
         var vendors = { webkit: 'webkit', Moz: '', O: 'o', ms: 'MS' }

         for (var vendor in vendors)
            if (vendor + 'Transition' in el.style) {
               this.vendorPrefix = vendors[vendor]
               this.transSupport = true
            }
      }
   }
   ENV._checkTransition()

   var Humane = function (o) {
      o || (o = {})
      this.queue = []
      this.baseCls = o.baseCls || 'humane'
      this.addnCls = o.addnCls || ''
      this.timeout = 'timeout' in o ? o.timeout : 2500
      this.waitForMove = o.waitForMove || false
      this.clickToClose = o.clickToClose || false
      this.timeoutAfterMove = o.timeoutAfterMove || false
      this.container = o.container

      try { this._setupEl() } // attempt to setup elements
      catch (e) {
        ENV.on(win,'load',ENV.bind(this._setupEl, this)) // dom wasn't ready, wait till ready
      }
   }

   Humane.prototype = {
      constructor: Humane,
      _setupEl: function () {
         var el = doc.createElement('div')
         el.style.display = 'none'
         if (!this.container){
           if(doc.body) this.container = doc.body;
           else throw 'document.body is null'
         }
         this.container.appendChild(el)
         this.el = el
         this.removeEvent = ENV.bind(function(){
            var timeoutAfterMove = ENV.config(this.currentMsg.timeoutAfterMove,this.timeoutAfterMove)
            if (!timeoutAfterMove){
               this.remove()
            } else {
               setTimeout(ENV.bind(this.remove,this),timeoutAfterMove)
            }
         },this)

         this.transEvent = ENV.bind(this._afterAnimation,this)
         this._run()
      },
      _afterTimeout: function () {
         if (!ENV.config(this.currentMsg.waitForMove,this.waitForMove)) this.remove()

         else if (!this.removeEventsSet) {
            ENV.on(doc.body,'mousemove',this.removeEvent)
            ENV.on(doc.body,'click',this.removeEvent)
            ENV.on(doc.body,'keypress',this.removeEvent)
            ENV.on(doc.body,'touchstart',this.removeEvent)
            this.removeEventsSet = true
         }
      },
      _run: function () {
         if (this._animating || !this.queue.length || !this.el) return

         this._animating = true
         if (this.currentTimer) {
            clearTimeout(this.currentTimer)
            this.currentTimer = null
         }

         var msg = this.queue.shift()
         var clickToClose = ENV.config(msg.clickToClose,this.clickToClose)

         if (clickToClose) {
            ENV.on(this.el,'click',this.removeEvent)
            ENV.on(this.el,'touchstart',this.removeEvent)
         }

         var timeout = ENV.config(msg.timeout,this.timeout)

         if (timeout > 0)
            this.currentTimer = setTimeout(ENV.bind(this._afterTimeout,this), timeout)

         if (ENV.isArray(msg.html)) msg.html = '<ul><li>'+msg.html.join('<li>')+'</ul>'

         this.el.innerHTML = msg.html
         this.currentMsg = msg
         this.el.className = this.baseCls
         if (ENV.transSupport) {
            this.el.style.display = 'block'
            setTimeout(ENV.bind(this._showMsg,this),50)
         } else {
            this._showMsg()
         }

      },
      _setOpacity: function (opacity) {
         if (ENV.useFilter){
            try{
               this.el.filters.item('DXImageTransform.Microsoft.Alpha').Opacity = opacity*100
            } catch(err){}
         } else {
            this.el.style.opacity = String(opacity)
         }
      },
      _showMsg: function () {
         var addnCls = ENV.config(this.currentMsg.addnCls,this.addnCls)
         if (ENV.transSupport) {
            this.el.className = this.baseCls+' '+addnCls+' '+this.baseCls+'-animate'
         }
         else {
            var opacity = 0
            this.el.className = this.baseCls+' '+addnCls+' '+this.baseCls+'-js-animate'
            this._setOpacity(0) // reset value so hover states work
            this.el.style.display = 'block'

            var self = this
            var interval = setInterval(function(){
               if (opacity < 1) {
                  opacity += 0.1
                  if (opacity > 1) opacity = 1
                  self._setOpacity(opacity)
               }
               else clearInterval(interval)
            }, 30)
         }
      },
      _hideMsg: function () {
         var addnCls = ENV.config(this.currentMsg.addnCls,this.addnCls)
         if (ENV.transSupport) {
            this.el.className = this.baseCls+' '+addnCls
            ENV.on(this.el,ENV.vendorPrefix ? ENV.vendorPrefix+'TransitionEnd' : 'transitionend',this.transEvent)
         }
         else {
            var opacity = 1
            var self = this
            var interval = setInterval(function(){
               if(opacity > 0) {
                  opacity -= 0.1
                  if (opacity < 0) opacity = 0
                  self._setOpacity(opacity);
               }
               else {
                  self.el.className = self.baseCls+' '+addnCls
                  clearInterval(interval)
                  self._afterAnimation()
               }
            }, 30)
         }
      },
      _afterAnimation: function () {
         if (ENV.transSupport) ENV.off(this.el,ENV.vendorPrefix ? ENV.vendorPrefix+'TransitionEnd' : 'transitionend',this.transEvent)

         if (this.currentMsg.cb) this.currentMsg.cb()
         this.el.style.display = 'none'

         this._animating = false
         this._run()
      },
      remove: function (e) {
         var cb = typeof e == 'function' ? e : null

         ENV.off(doc.body,'mousemove',this.removeEvent)
         ENV.off(doc.body,'click',this.removeEvent)
         ENV.off(doc.body,'keypress',this.removeEvent)
         ENV.off(doc.body,'touchstart',this.removeEvent)
         ENV.off(this.el,'click',this.removeEvent)
         ENV.off(this.el,'touchstart',this.removeEvent)
         this.removeEventsSet = false

         if (cb && this.currentMsg) this.currentMsg.cb = cb
         if (this._animating) this._hideMsg()
         else if (cb) cb()
      },
      log: function (html, o, cb, defaults) {
         var msg = {}
         if (defaults)
           for (var opt in defaults)
               msg[opt] = defaults[opt]

         if (typeof o == 'function') cb = o
         else if (o)
            for (var opt in o) msg[opt] = o[opt]

         msg.html = html
         if (cb) msg.cb = cb
         this.queue.push(msg)
         this._run()
         return this
      },
      spawn: function (defaults) {
         var self = this
         return function (html, o, cb) {
            self.log.call(self,html,o,cb,defaults)
            return self
         }
      },
      create: function (o) { return new Humane(o) }
   }
   return new Humane()
});

},{}],4:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

"use strict";

/**
 * Constructs an enumeration with keys equal to their value.
 *
 * For example:
 *
 *   var COLORS = keyMirror({blue: null, red: null});
 *   var myColor = COLORS.blue;
 *   var isColorValid = !!COLORS[myColor];
 *
 * The last line could not be performed if the values of the generated enum were
 * not equal to their keys.
 *
 *   Input:  {key1: val1, key2: val2}
 *   Output: {key1: key1, key2: key2}
 *
 * @param {object} obj
 * @return {object}
 */
var keyMirror = function(obj) {
  var ret = {};
  var key;
  if (!(obj instanceof Object && !Array.isArray(obj))) {
    throw new Error('keyMirror(...): Argument must be an object.');
  }
  for (key in obj) {
    if (!obj.hasOwnProperty(key)) {
      continue;
    }
    ret[key] = key;
  }
  return ret;
};

module.exports = keyMirror;

},{}],5:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _ApiRequest=require('./ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _Constants=require('../Utils/Constants');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var AccessToken=function(){function AccessToken(){_classCallCheck(this,AccessToken);}_createClass(AccessToken,null,[{key:'get',value:function get(verify){if(typeof verify==='undefined'){verify=false;}return new Promise(function(resolve,reject){if(AccessToken._accessToken){return resolve(AccessToken._accessToken);}var access_token=localStorage.getItem(_Constants.Config.Storage.ACCESS_TOKEN);if(access_token===null){AccessToken.clear();return reject(new Error({code:403,message:'Unauthorized'}));}AccessToken.set(access_token,true).then(resolve);});}},{key:'set',value:function set(access_token,dontUpdateStorage){AccessToken._accessToken=access_token;return new Promise(function(resolve,reject){if(!dontUpdateStorage){localStorage.setItem(_Constants.Config.Storage.ACCESS_TOKEN,access_token);}resolve(access_token);});}},{key:'clear',value:function clear(){AccessToken._accessToken=null;return localStorage.removeItem(_Constants.Config.Storage.ACCESS_TOKEN);}}]);return AccessToken;}();exports.default=AccessToken;

},{"../Utils/Constants":14,"./ApiRequest":6}],6:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _ApiUtils=require('./ApiUtils');var _ApiUtils2=_interopRequireDefault(_ApiUtils);var _AccessToken=require('./AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);var _superagent=require('superagent');var _superagent2=_interopRequireDefault(_superagent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var ApiRequest=function(){_createClass(ApiRequest,null,[{key:'updateNetworkIndicator',value:function updateNetworkIndicator(){var dir=arguments.length<=0||arguments[0]===undefined?'-':arguments[0];if(dir==='+'){ApiRequest.activeRequests++;}else {ApiRequest.activeRequests--;}if(ApiRequest.activeRequests<=0){ApiRequest.activeRequests=0;}else {}}},{key:'create',value:function create(method,endpoint){return new this(method,endpoint);}},{key:'createAnon',value:function createAnon(method,endpoint){var request=new this(method,endpoint);request.setAnonymous(true);return request;}},{key:'get',value:function get(endpoint){return new this('get',endpoint);}},{key:'post',value:function post(endpoint){return new this('post',endpoint);}},{key:'put',value:function put(endpoint){return new this('put',endpoint);}},{key:'delete',value:function _delete(endpoint){return new this('delete',endpoint);}}]);function ApiRequest(method,endpoint){_classCallCheck(this,ApiRequest);if(endpoint===undefined){endpoint=method;method='get';}else {method=method.toLowerCase();}if(endpoint.indexOf('?')!==-1){throw new Error('You must set query string data via the `query` function');}this.isAnonymous=false;this.handleErrors=true;this.ignoreNetworkError=false;this.url=_ApiUtils2.default.buildUrl(endpoint);this._setupRequest(method);}_createClass(ApiRequest,[{key:'setAnonymous',value:function setAnonymous(isAnonymous){this.isAnonymous=isAnonymous;return this;}},{key:'setHandleErrors',value:function setHandleErrors(handleErrors){this.handleErrors=handleErrors;return this;}},{key:'setIgnoreNetworkError',value:function setIgnoreNetworkError(ignoreNetworkError){this.ignoreNetworkError=ignoreNetworkError;return this;}},{key:'configure',value:function configure(callback){callback(this.request);return this;}},{key:'send',value:function send(callback,errCallback){var _this=this;if(this.isAnonymous){return this._sendIt(callback,errCallback);}_AccessToken2.default.get().then(function(token){_this.query({token:token});_this._sendIt(callback,errCallback);});}},{key:'data',value:function data(_data){this.requestBody=JSON.stringify(_data);return this;}},{key:'query',value:function query(data){this.queryData=Object.assign(this.queryData,data);return this;}},{key:'header',value:function header(_header,value){this.requestHeaders[_header]=value;return this;}},{key:'headers',value:function headers(_headers){this.requestHeaders=Object.assign(this.requestHeaders,_headers);return this;}},{key:'_setupRequest',value:function _setupRequest(method){this.requestMethod=!method?'get':method;this.requestHeaders={'Accept':'application/json','Content-Type':'application/json'};this.queryData={};this.requestBody={};this.request=null;}},{key:'_sendIt',value:function _sendIt(callback,errCallback){var _this2=this;ApiRequest.updateNetworkIndicator('+');this.request=_superagent2.default[this.requestMethod](this.url);if(!_Utils2.default.isEmpty(this.queryData)){this.request.query(this.queryData);}if(!_Utils2.default.isEmpty(this.requestHeaders)){this.request.set(this.requestHeaders);}this.request.send(this.requestBody).end(function(err,res){ApiRequest.updateNetworkIndicator();if(res.ok){callback(res.body);}else if(res.unauthorized){_AccessToken2.default.clear();_Actions2.default.noauth();}else {if(_this2.handleErrors){_ApiUtils2.default.handleError(res.body.error);}if(errCallback)errCallback(res.body.error);}});}}]);return ApiRequest;}();ApiRequest.activeRequests=0;exports.default=ApiRequest;

},{"../Utils/Actions":13,"../Utils/Utils":17,"./AccessToken":5,"./ApiUtils":7,"superagent":"superagent"}],7:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _Constants=require('../Utils/Constants');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var DEFAULT_ERROR='There was a problem with your request';var ApiUtils=function(){function ApiUtils(){_classCallCheck(this,ApiUtils);}_createClass(ApiUtils,null,[{key:'handleError',value:function handleError(err){console.warn(err);_Utils2.default.showError(err.message||DEFAULT_ERROR);}},{key:'handleNetworkError',value:function handleNetworkError(err){console.warn(err);}},{key:'buildUrl',value:function buildUrl(endpoint){endpoint=_Utils2.default.trimChar(endpoint,'/');if(endpoint.indexOf(_Constants.Config.api_root)===-1){endpoint=_Constants.Config.api_root+endpoint;}return endpoint;}}]);return ApiUtils;}();exports.default=ApiUtils;

},{"../Utils/Constants":14,"../Utils/Utils":17}],8:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LoginForm=function(_React$Component){_inherits(LoginForm,_React$Component);function LoginForm(props){_classCallCheck(this,LoginForm);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(LoginForm).call(this,props));_this.state={};_this.onSubmit=_this.onSubmit.bind(_this);return _this;}_createClass(LoginForm,[{key:'render',value:function render(){return _react2.default.createElement('form',{className:'navbar-form navbar-right',role:'form',onSubmit:this.onSubmit},_react2.default.createElement('div',{className:'form-group',style:styles.formField},_react2.default.createElement('input',{ref:'username',type:'text',placeholder:'username',className:'form-control'})),_react2.default.createElement('div',{className:'form-group',style:styles.formField},_react2.default.createElement('input',{ref:'password',type:'password',placeholder:'password',className:'form-control'})),_react2.default.createElement('button',{type:'submit',className:'btn btn-default'},'Sign in'));}},{key:'onSubmit',value:function onSubmit(e){e.preventDefault();var data={username:this.refs.username.value,password:this.refs.password.value};_Actions2.default.login(data);}}]);return LoginForm;}(_react2.default.Component);LoginForm.propTypes={};LoginForm.defaultProps={};exports.default=LoginForm;var styles={formField:{margin:3}};

},{"../Api/ApiRequest":6,"../Utils/Actions":13,"react":"react"}],9:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _dropzone=require('dropzone');var _dropzone2=_interopRequireDefault(_dropzone);var _Constants=require('../Utils/Constants');var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _ApiUtils=require('../Api/ApiUtils');var _ApiUtils2=_interopRequireDefault(_ApiUtils);var _AccessToken=require('../Api/AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SRDropzone=function(_React$Component){_inherits(SRDropzone,_React$Component);function SRDropzone(props){_classCallCheck(this,SRDropzone);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SRDropzone).call(this,props));_this.dropzone=null;_this.state={};return _this;}_createClass(SRDropzone,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_AccessToken2.default.get().then(function(token){var dzOptions={url:_ApiUtils2.default.buildUrl('/upload-file?token='+token),dictDefaultMessage:"Dragon Drop Images or Click to Upload",init:function init(){this.on("success",function(file,response){console.log(file,response);});this.on("addedfile",function(file){var dzName=file.previewElement.querySelector('[data-dz-name]');dzName.innerHTML=_Constants.Config.uploads_dir+file.name;});}};_this2.dropzone=new _dropzone2.default(_this2.refs.dropzone,dzOptions);});}},{key:'render',value:function render(){return _react2.default.createElement('div',{ref:'dropzone',style:this.props.style,className:'dropzone'},this.props.children);}}]);return SRDropzone;}(_react2.default.Component);SRDropzone.propTypes={style:_react2.default.PropTypes.object,activeStyle:_react2.default.PropTypes.object,multiple:_react2.default.PropTypes.bool};SRDropzone.defaultProps={style:{},activeStyle:{},multiple:true};exports.default=SRDropzone;

},{"../Api/AccessToken":5,"../Api/ApiUtils":7,"../Utils/Constants":14,"../Utils/Utils":17,"dropzone":"dropzone","react":"react"}],10:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserMenu=function(_React$Component){_inherits(UserMenu,_React$Component);function UserMenu(props){_classCallCheck(this,UserMenu);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UserMenu).call(this,props));_this.state={user:_this.props.user};return _this;}_createClass(UserMenu,[{key:'componentWillMount',value:function componentWillMount(){this.stopListening=_CurrentUser2.default.listen(this._onUserChange.bind(this));this.setState({user:_CurrentUser2.default.get()});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopListening();}},{key:'render',value:function render(){return _react2.default.createElement('ul',{className:'nav navbar-nav navbar-right'},_react2.default.createElement('li',{className:'dropdown'},_react2.default.createElement('a',{href:'#',className:'dropdown-toggle','data-toggle':'dropdown',role:'button','aria-haspopup':'true','aria-expanded':'false'},this.state.user.username,_react2.default.createElement('span',{className:'caret'})),_react2.default.createElement('ul',{className:'dropdown-menu'},_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'/admin/page-editor'},_react2.default.createElement('span',{className:'glyphicon glyphicon-plus-sign','aria-hidden':'true',style:styles.icon}),'Add Page')),_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'/admin/page-inventory'},_react2.default.createElement('span',{className:'glyphicon glyphicon-edit','aria-hidden':'true',style:styles.icon}),'Edit Something')),_react2.default.createElement('li',{role:'separator',className:'divider'}),_react2.default.createElement('li',{className:'dropdown-header'},'My Account'),_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'#',onClick:this._onLogoutPress},_react2.default.createElement('span',{className:'glyphicon glyphicon-log-out','aria-hidden':'true',style:styles.icon}),'Sign Out')))));}},{key:'_onLogoutPress',value:function _onLogoutPress(e){e.preventDefault();_Actions2.default.logout();}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({user:user});}}]);return UserMenu;}(_react2.default.Component);UserMenu.propTypes={user:_react2.default.PropTypes.object};UserMenu.defaultProps={user:{}};exports.default=UserMenu;var styles={icon:{paddingRight:'5px'}};

},{"../Stores/CurrentUser":12,"../Utils/Actions":13,"react":"react"}],11:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);var _LoginForm=require('./LoginForm');var _LoginForm2=_interopRequireDefault(_LoginForm);var _UserMenu=require('./UserMenu');var _UserMenu2=_interopRequireDefault(_UserMenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserNav=function(_React$Component){_inherits(UserNav,_React$Component);function UserNav(props){_classCallCheck(this,UserNav);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UserNav).call(this,props));_this.state={loading:true,user:{}};return _this;}_createClass(UserNav,[{key:'componentWillMount',value:function componentWillMount(){var _this2=this;this.stopListening=_CurrentUser2.default.listen(this._onUserChange.bind(this));this.stopAuthListen=_Actions2.default.noauth.listen(function(){return _this2.setState({loading:false});});this.setState({user:_CurrentUser2.default.get()});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopListening();this.stopAuthListen();}},{key:'renderLoginForm',value:function renderLoginForm(){return _react2.default.createElement(_LoginForm2.default,null);}},{key:'renderUserMenu',value:function renderUserMenu(){return _react2.default.createElement(_UserMenu2.default,{user:this.state.user});}},{key:'render',value:function render(){if(this.state.loading){return null;}return _react2.default.createElement('div',{style:styles.container},this.state.user.id?this.renderUserMenu():this.renderLoginForm());}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({user:user,loading:false});}}]);return UserNav;}(_react2.default.Component);UserNav.propTypes={};UserNav.defaultProps={};exports.default=UserNav;var styles={container:{height:'56px'},username:{margin:3,lineHeight:'44px',color:'white'}};

},{"../Stores/CurrentUser":12,"../Utils/Actions":13,"./LoginForm":8,"./UserMenu":10,"react":"react"}],12:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _reflux=require('reflux');var _reflux2=_interopRequireDefault(_reflux);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _Constants=require('../Utils/Constants');var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _ApiUtils=require('../Api/ApiUtils');var _ApiUtils2=_interopRequireDefault(_ApiUtils);var _AccessToken=require('../Api/AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var defaultUser={id:null,username:null,session_id:null};var currentUser=Object.assign({},defaultUser);exports.default=_reflux2.default.createStore({listenables:[_Actions2.default],init:function init(){},get:function get(){return currentUser;},update:function update(userUpdates){currentUser=Object.assign({},userUpdates);this.trigger(currentUser);},onLogin:function onLogin(creds){_ApiRequest2.default.post('/account/login').data(creds).setAnonymous(true).send(function(res){_AccessToken2.default.set(res.data.session_id).then(function(){return _Actions2.default.login.completed(res);});},_Actions2.default.login.failed);},onLoginCompleted:function onLoginCompleted(response){var user=response.data;this.update(user);},onLogout:function onLogout(){_ApiRequest2.default.post('/account/logout').setHandleErrors(false).setIgnoreNetworkError(true).send(_Actions2.default.logout.completed,_Actions2.default.logout.failed);this.update(defaultUser);},onLogoutCompleted:function onLogoutCompleted(){_AccessToken2.default.clear();},onLogoutFailed:function onLogoutFailed(){_AccessToken2.default.clear();},onLoadUser:function onLoadUser(){_ApiRequest2.default.get('/account').send(_Actions2.default.loadUser.completed,_Actions2.default.loadUser.failed);},onLoadUserCompleted:function onLoadUserCompleted(response){this.update(response.data);}});

},{"../Api/AccessToken":5,"../Api/ApiRequest":6,"../Api/ApiUtils":7,"../Utils/Actions":13,"../Utils/Constants":14,"reflux":"reflux"}],13:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _reflux=require('reflux');var _reflux2=_interopRequireDefault(_reflux);var _AccessToken=require('../Api/AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var Actions=_reflux2.default.createActions(["auth","unauth","noauth",{"login":{asyncResult:true}},{"logout":{asyncResult:true}},{"loadUser":{asyncResult:true}}]);Actions.auth.listen(function(){_AccessToken2.default.get(true).then(function(accessToken){return Actions.loadUser(accessToken);}).catch(function(){return Actions.noauth();});});exports.default=Actions;

},{"../Api/AccessToken":5,"../Api/ApiRequest":6,"reflux":"reflux"}],14:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var keyMirror=require('keyMirror');var HOST_NAME="clefoodblog.com";var ENV=window.location.hostname===HOST_NAME?'production':'dev';var isProd=true,apiVersion='v1',apiHost='http://'+HOST_NAME+'/api',siteRoot='http://'+HOST_NAME;switch(ENV){case 'dev':isProd=false;apiHost='http://dev.'+HOST_NAME+'/api';siteRoot='http://dev.'+HOST_NAME;break;}var Config=exports.Config={ENV:ENV,api_root:apiHost+'/',site_root:siteRoot+'/',uploads_dir:siteRoot+'/uploads/',Storage:keyMirror({ACCESS_TOKEN:null})};

},{"keyMirror":4}],15:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _jquery=require('jquery');var _jquery2=_interopRequireDefault(_jquery);var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _UserNav=require('../Components/UserNav');var _UserNav2=_interopRequireDefault(_UserNav);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Initialize=function(){function Initialize(){_classCallCheck(this,Initialize);}_createClass(Initialize,null,[{key:'globals',value:function globals(){window.jQuery=_jquery2.default;}},{key:'bootstrap',value:function bootstrap(){require('bootstrap');}},{key:'onReady',value:function onReady(){var baButton=document.getElementById('btnComingSoon');if(baButton){baButton.onclick=function(){if(ga)ga('send','event','buttons','click','stay tuned');console.log('send','event','buttons','click','stay tuned');return false;};}_reactDom2.default.render(_react2.default.createElement(_UserNav2.default,null),document.getElementById('UserNav'));}},{key:'authUser',value:function authUser(){_Actions2.default.auth();}},{key:'onLoad',value:function onLoad(){Initialize.globals();Initialize.bootstrap();Initialize.onReady();Initialize.authUser();}}]);return Initialize;}();exports.default=Initialize;

},{"../Components/UserNav":11,"../Utils/Actions":13,"bootstrap":"bootstrap","jquery":"jquery","react":"react","react-dom":"react-dom"}],16:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _path=require('path');var _path2=_interopRequireDefault(_path);var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _PageEditor=require('../Views/PageEditor');var _PageEditor2=_interopRequireDefault(_PageEditor);var _PageInventory=require('../Views/PageInventory');var _PageInventory2=_interopRequireDefault(_PageInventory);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Routes=function(){function Routes(){_classCallCheck(this,Routes);}_createClass(Routes,null,[{key:'current',value:function current(pathname){var basename=_path2.default.basename(pathname)||Routes.homeRoute;var camelName=basename.replace(/-([a-z])/g,function(g){return g[1].toUpperCase();});if(typeof Routes[camelName]==='function'){Routes[camelName]();}}},{key:'home',value:function home(){console.log('Home route');}},{key:'pageEditor',value:function pageEditor(){_reactDom2.default.render(_react2.default.createElement(_PageEditor2.default,null),document.getElementById('PageEditor'));}},{key:'pageInventory',value:function pageInventory(){_reactDom2.default.render(_react2.default.createElement(_PageInventory2.default,null),document.getElementById('PageInventory'));}}]);return Routes;}();Routes.homeRoute='home';exports.default=Routes;

},{"../Utils/Utils":17,"../Views/PageEditor":18,"../Views/PageInventory":19,"path":1,"react":"react","react-dom":"react-dom"}],17:[function(require,module,exports){
'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Constants=require('./Constants');var _humaneJs=require('humane-js');var _humaneJs2=_interopRequireDefault(_humaneJs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Utils=function(){function Utils(){_classCallCheck(this,Utils);}_createClass(Utils,null,[{key:'getJSONP',value:function getJSONP(url,callback){var ref=window.document.getElementsByTagName('script')[0];var script=window.document.createElement('script');script.src=url+(url.indexOf('?')+1?'&':'?')+'callback='+callback;ref.parentNode.insertBefore(script,ref);script.onload=function(){this.remove();};}},{key:'quoteRegex',value:function quoteRegex(regex){return regex.replace(/([()[{*+.$^\\|?])/g,'\\$1');}},{key:'trimChar',value:function trimChar(str,chr){chr=Utils.quoteRegex(chr);return str.replace(new RegExp('^'+chr+'+|'+chr+'+$','g'),"");}},{key:'toQueryString',value:function toQueryString(obj,prefix){var str=[];for(var p in obj){if(obj.hasOwnProperty(p)){var k=prefix?prefix+"["+p+"]":p,v=obj[p];str.push((typeof v==='undefined'?'undefined':_typeof(v))=="object"?Utils.toQueryString(v,k):encodeURIComponent(k)+"="+encodeURIComponent(v));}}return str.join("&");}},{key:'isEmpty',value:function isEmpty(obj){if(obj==null)return true;if(obj.length>0)return false;if(obj.length===0)return true;if(Object.getOwnPropertyNames(obj).length>0)return false;return true;}},{key:'cleanForUrl',value:function cleanForUrl(str){return str.replace(/(^\-+|[^a-zA-Z0-9\/_| -]+|\-+$)/g,'').toLowerCase().replace(/[\/_| -]+/g,'-');}}]);return Utils;}();Utils.showMessage=_humaneJs2.default.spawn({addnCls:'bg-info text-info',waitForMove:true});Utils.showSuccess=_humaneJs2.default.spawn({addnCls:'bg-success text-success',waitForMove:true});Utils.showError=_humaneJs2.default.spawn({addnCls:'bg-danger text-danger',timeout:5000,clickToClose:true,waitForMove:true});exports.default=Utils;

},{"./Constants":14,"humane-js":3}],18:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _moment=require('moment');var _moment2=_interopRequireDefault(_moment);var _reactMediumEditor=require('react-medium-editor');var _reactMediumEditor2=_interopRequireDefault(_reactMediumEditor);var _reactBootstrapDatetimepicker=require('react-bootstrap-datetimepicker');var _reactBootstrapDatetimepicker2=_interopRequireDefault(_reactBootstrapDatetimepicker);var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);var _SRDropzone=require('../Components/SRDropzone');var _SRDropzone2=_interopRequireDefault(_SRDropzone);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PageEditor=function(_React$Component){_inherits(PageEditor,_React$Component);function PageEditor(props){_classCallCheck(this,PageEditor);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PageEditor).call(this,props));_this.postTimestamp=null;_this.hasCustomUri=false;_this.state={authorized:true,publishing:false,processing:false,user:_this.props.user,article:"",uri:"",pageId:null};_this._onSubmitPage=_this._onSubmitPage.bind(_this);_this._onPublish=_this._onPublish.bind(_this);_this._onPostDateChange=_this._onPostDateChange.bind(_this);_this._onUpdatePageUri=_this._onUpdatePageUri.bind(_this);_this._onChangeUri=_this._onChangeUri.bind(_this);_this._onBlurUri=_this._onBlurUri.bind(_this);_this._onArticleChange=_this._onArticleChange.bind(_this);_this._onUserChange=_this._onUserChange.bind(_this);return _this;}_createClass(PageEditor,[{key:'componentWillMount',value:function componentWillMount(){this.stopUserSubscribe=_CurrentUser2.default.listen(this._onUserChange);var user=_CurrentUser2.default.get();this.setState({authorized:!!user.id,user:user});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopUserSubscribe();}},{key:'renderProgressBar',value:function renderProgressBar(){var barClassName=this.state.publishing?'progress-bar-success':'progress-bar-info';return _react2.default.createElement('div',{className:'progress',style:{height:"auto"}},_react2.default.createElement('div',{className:"progress-bar "+barClassName+" progress-bar-striped active",role:'progressbar','aria-valuenow':'100','aria-valuemin':'0','aria-valuemax':'100',style:styles.progressBar},this.state.publishing?'Publishing...':'Saving...'));}},{key:'renderSubmitButton',value:function renderSubmitButton(){if(this.state.processing){return this.renderProgressBar();}return _react2.default.createElement('div',null,_react2.default.createElement('button',{type:'submit',className:'btn btn-lg btn-info',style:styles.button},_react2.default.createElement('span',{className:'glyphicon glyphicon-plus-sign'}),' Save Page'),_react2.default.createElement('button',{type:'button',className:'btn btn-lg btn-success',style:styles.button,onClick:this._onPublish},_react2.default.createElement('span',{className:'glyphicon glyphicon-ok-sign'}),' Publish Page'));}},{key:'render',value:function render(){var _this2=this;if(!this.state.authorized)return _react2.default.createElement('h4',null,'Must be logged in :(');var imageButton={name:'image',action:'image',aria:'image',tagNames:['img'],contentDefault:'<i class="glyphicon glyphicon-picture"></i>',contentFA:'<i class="fa fa-picture-o"></i>'};var editorOptions={placeholder:{text:"Article body..."},toolbar:{buttons:['bold','italic','anchor','h2','h3','quote','unorderedlist',imageButton]}};var categories=["Reviews","Recipes","How To's","Friday Food Fight","Where To Find..."];return _react2.default.createElement('form',{ref:'addNewPage',className:'',role:'form',onSubmit:function onSubmit(e){return _this2._onSubmitPage(e);}},_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-12'},_react2.default.createElement('h1',null,'Page Editor'))),_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-4'},_react2.default.createElement('p',{className:'lead'},_react2.default.createElement('em',null,'Data about data:'))),_react2.default.createElement('div',{className:'col-xs-8'},_react2.default.createElement('p',{className:'lead'},_react2.default.createElement('em',null,'Spit your knowledge game:')))),_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-4'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement(_reactBootstrapDatetimepicker2.default,{size:'lg',defaultText:'',inputProps:{placeholder:"Article Date/Time"},format:'x',inputFormat:'YYYY-MM-DD hh:mm A',onChange:this._onPostDateChange})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'pageUri',type:'text',className:'form-control input-lg',placeholder:'Custom-Page-Url',value:this.state.uri,onChange:this._onChangeUri,onBlur:this._onBlurUri})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('select',{ref:'pageCategory',className:'form-control input-lg'},_react2.default.createElement('option',{value:''},' Choose Category '),categories.map(function(category,index){return _react2.default.createElement('option',{key:'category-'+category},category);}))),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'previewImage',className:'form-control input-lg',type:'text',placeholder:'Preview Image URL'})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'metaTitle',className:'form-control input-lg',type:'text',placeholder:'Enter meta title'})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('textarea',{ref:'metaDescription',className:'form-control input-lg',rows:'2',placeholder:'Enter meta description'})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'metaKeywords',className:'form-control input-lg',type:'text',placeholder:'Enter meta keywords'}))),_react2.default.createElement('div',{className:'col-xs-8'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'pageTitle',className:'form-control input-lg',type:'text',placeholder:'Headline',onChange:this._onUpdatePageUri})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement(_reactMediumEditor2.default,{style:styles.editor,className:'form-control input-lg',text:this.state.article,onChange:this._onArticleChange,options:editorOptions})),this.renderSubmitButton(),_react2.default.createElement('input',{ref:'pageId',type:'hidden',name:'pageId',value:this.state.pageId}))),_react2.default.createElement('div',{className:'row',style:styles.uploaderRow},_react2.default.createElement('div',{className:'col-xs-12'},_react2.default.createElement(_SRDropzone2.default,{style:styles.previewImage,activeStyle:styles.dragActive,multiple:false}))));}},{key:'_onPostDateChange',value:function _onPostDateChange(datetime){this.postTimestamp=datetime;this._onUpdatePageUri();}},{key:'_getPostDateFormat',value:function _getPostDateFormat(){var format=arguments.length<=0||arguments[0]===undefined?"YYYY-MM-DD HH:mm:00":arguments[0];var dateFormat=_moment2.default.unix(this.postTimestamp/1000).format(format);if(dateFormat=='Invalid date'){return "";}return dateFormat;}},{key:'_getPageData',value:function _getPageData(){var publish=arguments.length<=0||arguments[0]===undefined?false:arguments[0];return {title:this.refs.pageTitle.value,article:this.state.article,uri:this.state.uri||this.refs.pageUri.value,category:this.refs.pageCategory.value,preview_image:this.refs.previewImage.value,meta_title:this.refs.metaTitle.value,meta_description:this.refs.metaDescription.value,meta_keywords:this.refs.metaKeywords.value,post_date:this.postTimestamp?this._getPostDateFormat():null,publish:publish};}},{key:'_onPublish',value:function _onPublish(e){this._onSubmitPage(e,true);}},{key:'_onSubmitPage',value:function _onSubmitPage(e){var _this3=this;var publish=arguments.length<=1||arguments[1]===undefined?false:arguments[1];e.preventDefault();if(this.state.processing)return;var endpoint=this.state.pageId?'/page/'+this.state.pageId:'/page';this.setState({processing:true,publishing:publish});_ApiRequest2.default.post(endpoint).data(this._getPageData(publish)).send(function(res){var page=res.data,message=publish?'Page published!':'Page saved!';_Utils2.default.showSuccess(message);_this3.setState({processing:false,pageId:page.id});});}},{key:'_clearForm',value:function _clearForm(){this.refs.addNewPage.reset();this.postTimestamp=null;this.hasCustomUri=false;this.setState({processing:false,article:"",uri:""});}},{key:'_getUriFromTitle',value:function _getUriFromTitle(){var headline=this.refs.pageTitle.value||'untitled',postDate=this.postTimestamp?this._getPostDateFormat("-YYYY-MM-DD"):"";return _Utils2.default.cleanForUrl(headline+postDate);}},{key:'_onBlurUri',value:function _onBlurUri(e){if(!e.target.value){this.hasCustomUri=false;this._onUpdatePageUri();}}},{key:'_onChangeUri',value:function _onChangeUri(e){this.hasCustomUri=true;this.setState({uri:this.refs.pageUri.value});return true;}},{key:'_onUpdatePageUri',value:function _onUpdatePageUri(){if(this.hasCustomUri)return;this.setState({uri:this._getUriFromTitle()});}},{key:'_onArticleChange',value:function _onArticleChange(article,medium){this.setState({article:article});}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({authorized:!!user.id});}}]);return PageEditor;}(_react2.default.Component);PageEditor.propTypes={};PageEditor.defaultProps={};exports.default=PageEditor;var styles={button:{width:'48%',margin:'0 1%'},editor:{height:"auto",minHeight:"20em"},previewImage:{color:"rgb(150,150,150)",borderWidth:2,borderColor:"rgba(150,150,150,.8)",borderStyle:"dashed",fontWeight:"bold",textAlign:"center",padding:"40px 0"},dragActive:{borderColor:'rgb(120,120,120)'},progressBar:{fontSize:"18px",padding:"10px 0",width:"100%"},uploaderRow:{marginTop:"15px"}};

},{"../Api/ApiRequest":6,"../Components/SRDropzone":9,"../Stores/CurrentUser":12,"../Utils/Utils":17,"moment":"moment","react":"react","react-bootstrap-datetimepicker":"react-bootstrap-datetimepicker","react-medium-editor":"react-medium-editor"}],19:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PageInventory=function(_React$Component){_inherits(PageInventory,_React$Component);function PageInventory(props){_classCallCheck(this,PageInventory);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PageInventory).call(this,props));_this.state={authorized:true,user:_this.props.user};_this._onUserChange=_this._onUserChange.bind(_this);return _this;}_createClass(PageInventory,[{key:'componentWillMount',value:function componentWillMount(){this.stopUserSubscribe=_CurrentUser2.default.listen(this._onUserChange);var user=_CurrentUser2.default.get();this.setState({authorized:!!user.id,user:user});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopUserSubscribe();}},{key:'render',value:function render(){if(!this.state.authorized)return _react2.default.createElement('h4',null,'Must be logged in :(');return _react2.default.createElement('div',null,'Page Inventory');}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({authorized:!!user.id});}}]);return PageInventory;}(_react2.default.Component);PageInventory.propTypes={};PageInventory.defaultProps={};exports.default=PageInventory;var styles={container:{}};

},{"../Api/ApiRequest":6,"../Stores/CurrentUser":12,"../Utils/Utils":17,"react":"react"}],20:[function(require,module,exports){
'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _Initialize=require('./Utils/Initialize');var _Initialize2=_interopRequireDefault(_Initialize);var _Routes=require('./Utils/Routes');var _Routes2=_interopRequireDefault(_Routes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}_Initialize2.default.onLoad();_Routes2.default.current(window.location.pathname);

},{"./Utils/Initialize":15,"./Utils/Routes":16,"react":"react","react-dom":"react-dom"}]},{},[20])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9odW1hbmUtanMvaHVtYW5lLmpzIiwibm9kZV9tb2R1bGVzL2tleU1pcnJvci9pbmRleC5qcyIsInJlc291cmNlcy9qcy9BcGkvQWNjZXNzVG9rZW4uanMiLCJyZXNvdXJjZXMvanMvQXBpL0FwaVJlcXVlc3QuanMiLCJyZXNvdXJjZXMvanMvQXBpL0FwaVV0aWxzLmpzIiwicmVzb3VyY2VzL2pzL0NvbXBvbmVudHMvTG9naW5Gb3JtLmpzIiwicmVzb3VyY2VzL2pzL0NvbXBvbmVudHMvU1JEcm9wem9uZS5qcyIsInJlc291cmNlcy9qcy9Db21wb25lbnRzL1VzZXJNZW51LmpzIiwicmVzb3VyY2VzL2pzL0NvbXBvbmVudHMvVXNlck5hdi5qcyIsInJlc291cmNlcy9qcy9TdG9yZXMvQ3VycmVudFVzZXIuanMiLCJyZXNvdXJjZXMvanMvVXRpbHMvQWN0aW9ucy5qcyIsInJlc291cmNlcy9qcy9VdGlscy9Db25zdGFudHMuanMiLCJyZXNvdXJjZXMvanMvVXRpbHMvSW5pdGlhbGl6ZS5qcyIsInJlc291cmNlcy9qcy9VdGlscy9Sb3V0ZXMuanMiLCJyZXNvdXJjZXMvanMvVXRpbHMvVXRpbHMuanMiLCJyZXNvdXJjZXMvanMvVmlld3MvUGFnZUVkaXRvci5qcyIsInJlc291cmNlcy9qcy9WaWV3cy9QYWdlSW52ZW50b3J5LmpzIiwicmVzb3VyY2VzL2pzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDaE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QU8sUUFBUCxDQUFnQixRQUFoQixDQUFmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyByZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggYXJyYXkgd2l0aCBkaXJlY3RvcnkgbmFtZXMgdGhlcmVcbi8vIG11c3QgYmUgbm8gc2xhc2hlcywgZW1wdHkgZWxlbWVudHMsIG9yIGRldmljZSBuYW1lcyAoYzpcXCkgaW4gdGhlIGFycmF5XG4vLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcbi8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocylcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uXG4vLyAncm9vdCcgaXMganVzdCBhIHNsYXNoLCBvciBub3RoaW5nLlxudmFyIHNwbGl0UGF0aFJlID1cbiAgICAvXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLztcbnZhciBzcGxpdFBhdGggPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59O1xuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG59O1xuXG4vLyBwYXRoLm5vcm1hbGl6ZShwYXRoKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5qb2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59O1xuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlbGF0aXZlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gZXhwb3J0cy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG5cbiAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHtcbiAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG4gIH1cblxuICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gIH1cblxuICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuXG4gIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XG59O1xuXG5leHBvcnRzLnNlcCA9ICcvJztcbmV4cG9ydHMuZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCksXG4gICAgICByb290ID0gcmVzdWx0WzBdLFxuICAgICAgZGlyID0gcmVzdWx0WzFdO1xuXG4gIGlmICghcm9vdCAmJiAhZGlyKSB7XG4gICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgcmV0dXJuICcuJztcbiAgfVxuXG4gIGlmIChkaXIpIHtcbiAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3QgKyBkaXI7XG59O1xuXG5cbmV4cG9ydHMuYmFzZW5hbWUgPSBmdW5jdGlvbihwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz9cbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn07XG5cblxuZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gc3BsaXRQYXRoKHBhdGgpWzNdO1xufTtcblxuZnVuY3Rpb24gZmlsdGVyICh4cywgZikge1xuICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGYoeHNbaV0sIGksIHhzKSkgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4XG52YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYidcbiAgICA/IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfVxuICAgIDogZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikge1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDtcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG4gICAgfVxuO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIGh1bWFuZS5qc1xuICogSHVtYW5pemVkIE1lc3NhZ2VzIGZvciBOb3RpZmljYXRpb25zXG4gKiBAYXV0aG9yIE1hcmMgSGFydGVyIChAd2F2ZGVkKVxuICogQGV4YW1wbGVcbiAqICAgaHVtYW5lLmxvZygnaGVsbG8gd29ybGQnKTtcbiAqIEBsaWNlbnNlIE1JVFxuICogU2VlIG1vcmUgdXNhZ2UgZXhhbXBsZXMgYXQ6IGh0dHA6Ly93YXZkZWQuZ2l0aHViLmNvbS9odW1hbmUtanMvXG4gKi9cblxuOyFmdW5jdGlvbiAobmFtZSwgY29udGV4dCwgZGVmaW5pdGlvbikge1xuICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24obmFtZSwgY29udGV4dClcbiAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgID09PSAnb2JqZWN0JykgZGVmaW5lKGRlZmluaXRpb24pXG4gICBlbHNlIGNvbnRleHRbbmFtZV0gPSBkZWZpbml0aW9uKG5hbWUsIGNvbnRleHQpXG59KCdodW1hbmUnLCB0aGlzLCBmdW5jdGlvbiAobmFtZSwgY29udGV4dCkge1xuICAgdmFyIHdpbiA9IHdpbmRvd1xuICAgdmFyIGRvYyA9IGRvY3VtZW50XG5cbiAgIHZhciBFTlYgPSB7XG4gICAgICBvbjogZnVuY3Rpb24gKGVsLCB0eXBlLCBjYikge1xuICAgICAgICAgJ2FkZEV2ZW50TGlzdGVuZXInIGluIHdpbiA/IGVsLmFkZEV2ZW50TGlzdGVuZXIodHlwZSxjYixmYWxzZSkgOiBlbC5hdHRhY2hFdmVudCgnb24nK3R5cGUsY2IpXG4gICAgICB9LFxuICAgICAgb2ZmOiBmdW5jdGlvbiAoZWwsIHR5cGUsIGNiKSB7XG4gICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcicgaW4gd2luID8gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLGNiLGZhbHNlKSA6IGVsLmRldGFjaEV2ZW50KCdvbicrdHlwZSxjYilcbiAgICAgIH0sXG4gICAgICBiaW5kOiBmdW5jdGlvbiAoZm4sIGN0eCkge1xuICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgZm4uYXBwbHkoY3R4LGFyZ3VtZW50cykgfVxuICAgICAgfSxcbiAgICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScgfSxcbiAgICAgIGNvbmZpZzogZnVuY3Rpb24gKHByZWZlcnJlZCwgZmFsbGJhY2spIHtcbiAgICAgICAgIHJldHVybiBwcmVmZXJyZWQgIT0gbnVsbCA/IHByZWZlcnJlZCA6IGZhbGxiYWNrXG4gICAgICB9LFxuICAgICAgdHJhbnNTdXBwb3J0OiBmYWxzZSxcbiAgICAgIHVzZUZpbHRlcjogL21zaWUgWzY3OF0vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLCAvLyBzbmlmZiwgc25pZmZcbiAgICAgIF9jaGVja1RyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIHZhciBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgdmFyIHZlbmRvcnMgPSB7IHdlYmtpdDogJ3dlYmtpdCcsIE1vejogJycsIE86ICdvJywgbXM6ICdNUycgfVxuXG4gICAgICAgICBmb3IgKHZhciB2ZW5kb3IgaW4gdmVuZG9ycylcbiAgICAgICAgICAgIGlmICh2ZW5kb3IgKyAnVHJhbnNpdGlvbicgaW4gZWwuc3R5bGUpIHtcbiAgICAgICAgICAgICAgIHRoaXMudmVuZG9yUHJlZml4ID0gdmVuZG9yc1t2ZW5kb3JdXG4gICAgICAgICAgICAgICB0aGlzLnRyYW5zU3VwcG9ydCA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgIH1cbiAgIH1cbiAgIEVOVi5fY2hlY2tUcmFuc2l0aW9uKClcblxuICAgdmFyIEh1bWFuZSA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICBvIHx8IChvID0ge30pXG4gICAgICB0aGlzLnF1ZXVlID0gW11cbiAgICAgIHRoaXMuYmFzZUNscyA9IG8uYmFzZUNscyB8fCAnaHVtYW5lJ1xuICAgICAgdGhpcy5hZGRuQ2xzID0gby5hZGRuQ2xzIHx8ICcnXG4gICAgICB0aGlzLnRpbWVvdXQgPSAndGltZW91dCcgaW4gbyA/IG8udGltZW91dCA6IDI1MDBcbiAgICAgIHRoaXMud2FpdEZvck1vdmUgPSBvLndhaXRGb3JNb3ZlIHx8IGZhbHNlXG4gICAgICB0aGlzLmNsaWNrVG9DbG9zZSA9IG8uY2xpY2tUb0Nsb3NlIHx8IGZhbHNlXG4gICAgICB0aGlzLnRpbWVvdXRBZnRlck1vdmUgPSBvLnRpbWVvdXRBZnRlck1vdmUgfHwgZmFsc2VcbiAgICAgIHRoaXMuY29udGFpbmVyID0gby5jb250YWluZXJcblxuICAgICAgdHJ5IHsgdGhpcy5fc2V0dXBFbCgpIH0gLy8gYXR0ZW1wdCB0byBzZXR1cCBlbGVtZW50c1xuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgRU5WLm9uKHdpbiwnbG9hZCcsRU5WLmJpbmQodGhpcy5fc2V0dXBFbCwgdGhpcykpIC8vIGRvbSB3YXNuJ3QgcmVhZHksIHdhaXQgdGlsbCByZWFkeVxuICAgICAgfVxuICAgfVxuXG4gICBIdW1hbmUucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IEh1bWFuZSxcbiAgICAgIF9zZXR1cEVsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICB2YXIgZWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgIGlmICghdGhpcy5jb250YWluZXIpe1xuICAgICAgICAgICBpZihkb2MuYm9keSkgdGhpcy5jb250YWluZXIgPSBkb2MuYm9keTtcbiAgICAgICAgICAgZWxzZSB0aHJvdyAnZG9jdW1lbnQuYm9keSBpcyBudWxsJ1xuICAgICAgICAgfVxuICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpXG4gICAgICAgICB0aGlzLmVsID0gZWxcbiAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnQgPSBFTlYuYmluZChmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHRpbWVvdXRBZnRlck1vdmUgPSBFTlYuY29uZmlnKHRoaXMuY3VycmVudE1zZy50aW1lb3V0QWZ0ZXJNb3ZlLHRoaXMudGltZW91dEFmdGVyTW92ZSlcbiAgICAgICAgICAgIGlmICghdGltZW91dEFmdGVyTW92ZSl7XG4gICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgc2V0VGltZW91dChFTlYuYmluZCh0aGlzLnJlbW92ZSx0aGlzKSx0aW1lb3V0QWZ0ZXJNb3ZlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgfSx0aGlzKVxuXG4gICAgICAgICB0aGlzLnRyYW5zRXZlbnQgPSBFTlYuYmluZCh0aGlzLl9hZnRlckFuaW1hdGlvbix0aGlzKVxuICAgICAgICAgdGhpcy5fcnVuKClcbiAgICAgIH0sXG4gICAgICBfYWZ0ZXJUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICBpZiAoIUVOVi5jb25maWcodGhpcy5jdXJyZW50TXNnLndhaXRGb3JNb3ZlLHRoaXMud2FpdEZvck1vdmUpKSB0aGlzLnJlbW92ZSgpXG5cbiAgICAgICAgIGVsc2UgaWYgKCF0aGlzLnJlbW92ZUV2ZW50c1NldCkge1xuICAgICAgICAgICAgRU5WLm9uKGRvYy5ib2R5LCdtb3VzZW1vdmUnLHRoaXMucmVtb3ZlRXZlbnQpXG4gICAgICAgICAgICBFTlYub24oZG9jLmJvZHksJ2NsaWNrJyx0aGlzLnJlbW92ZUV2ZW50KVxuICAgICAgICAgICAgRU5WLm9uKGRvYy5ib2R5LCdrZXlwcmVzcycsdGhpcy5yZW1vdmVFdmVudClcbiAgICAgICAgICAgIEVOVi5vbihkb2MuYm9keSwndG91Y2hzdGFydCcsdGhpcy5yZW1vdmVFdmVudClcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzU2V0ID0gdHJ1ZVxuICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9ydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIGlmICh0aGlzLl9hbmltYXRpbmcgfHwgIXRoaXMucXVldWUubGVuZ3RoIHx8ICF0aGlzLmVsKSByZXR1cm5cblxuICAgICAgICAgdGhpcy5fYW5pbWF0aW5nID0gdHJ1ZVxuICAgICAgICAgaWYgKHRoaXMuY3VycmVudFRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jdXJyZW50VGltZXIpXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lciA9IG51bGxcbiAgICAgICAgIH1cblxuICAgICAgICAgdmFyIG1zZyA9IHRoaXMucXVldWUuc2hpZnQoKVxuICAgICAgICAgdmFyIGNsaWNrVG9DbG9zZSA9IEVOVi5jb25maWcobXNnLmNsaWNrVG9DbG9zZSx0aGlzLmNsaWNrVG9DbG9zZSlcblxuICAgICAgICAgaWYgKGNsaWNrVG9DbG9zZSkge1xuICAgICAgICAgICAgRU5WLm9uKHRoaXMuZWwsJ2NsaWNrJyx0aGlzLnJlbW92ZUV2ZW50KVxuICAgICAgICAgICAgRU5WLm9uKHRoaXMuZWwsJ3RvdWNoc3RhcnQnLHRoaXMucmVtb3ZlRXZlbnQpXG4gICAgICAgICB9XG5cbiAgICAgICAgIHZhciB0aW1lb3V0ID0gRU5WLmNvbmZpZyhtc2cudGltZW91dCx0aGlzLnRpbWVvdXQpXG5cbiAgICAgICAgIGlmICh0aW1lb3V0ID4gMClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRpbWVyID0gc2V0VGltZW91dChFTlYuYmluZCh0aGlzLl9hZnRlclRpbWVvdXQsdGhpcyksIHRpbWVvdXQpXG5cbiAgICAgICAgIGlmIChFTlYuaXNBcnJheShtc2cuaHRtbCkpIG1zZy5odG1sID0gJzx1bD48bGk+Jyttc2cuaHRtbC5qb2luKCc8bGk+JykrJzwvdWw+J1xuXG4gICAgICAgICB0aGlzLmVsLmlubmVySFRNTCA9IG1zZy5odG1sXG4gICAgICAgICB0aGlzLmN1cnJlbnRNc2cgPSBtc2dcbiAgICAgICAgIHRoaXMuZWwuY2xhc3NOYW1lID0gdGhpcy5iYXNlQ2xzXG4gICAgICAgICBpZiAoRU5WLnRyYW5zU3VwcG9ydCkge1xuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgICAgICAgICAgc2V0VGltZW91dChFTlYuYmluZCh0aGlzLl9zaG93TXNnLHRoaXMpLDUwKVxuICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dNc2coKVxuICAgICAgICAgfVxuXG4gICAgICB9LFxuICAgICAgX3NldE9wYWNpdHk6IGZ1bmN0aW9uIChvcGFjaXR5KSB7XG4gICAgICAgICBpZiAoRU5WLnVzZUZpbHRlcil7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICB0aGlzLmVsLmZpbHRlcnMuaXRlbSgnRFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEnKS5PcGFjaXR5ID0gb3BhY2l0eSoxMDBcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyKXt9XG4gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5vcGFjaXR5ID0gU3RyaW5nKG9wYWNpdHkpXG4gICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3Nob3dNc2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIHZhciBhZGRuQ2xzID0gRU5WLmNvbmZpZyh0aGlzLmN1cnJlbnRNc2cuYWRkbkNscyx0aGlzLmFkZG5DbHMpXG4gICAgICAgICBpZiAoRU5WLnRyYW5zU3VwcG9ydCkge1xuICAgICAgICAgICAgdGhpcy5lbC5jbGFzc05hbWUgPSB0aGlzLmJhc2VDbHMrJyAnK2FkZG5DbHMrJyAnK3RoaXMuYmFzZUNscysnLWFuaW1hdGUnXG4gICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gMFxuICAgICAgICAgICAgdGhpcy5lbC5jbGFzc05hbWUgPSB0aGlzLmJhc2VDbHMrJyAnK2FkZG5DbHMrJyAnK3RoaXMuYmFzZUNscysnLWpzLWFuaW1hdGUnXG4gICAgICAgICAgICB0aGlzLl9zZXRPcGFjaXR5KDApIC8vIHJlc2V0IHZhbHVlIHNvIGhvdmVyIHN0YXRlcyB3b3JrXG4gICAgICAgICAgICB0aGlzLmVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG5cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpc1xuICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgIGlmIChvcGFjaXR5IDwgMSkge1xuICAgICAgICAgICAgICAgICAgb3BhY2l0eSArPSAwLjFcbiAgICAgICAgICAgICAgICAgIGlmIChvcGFjaXR5ID4gMSkgb3BhY2l0eSA9IDFcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3NldE9wYWNpdHkob3BhY2l0eSlcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIGVsc2UgY2xlYXJJbnRlcnZhbChpbnRlcnZhbClcbiAgICAgICAgICAgIH0sIDMwKVxuICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9oaWRlTXNnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICB2YXIgYWRkbkNscyA9IEVOVi5jb25maWcodGhpcy5jdXJyZW50TXNnLmFkZG5DbHMsdGhpcy5hZGRuQ2xzKVxuICAgICAgICAgaWYgKEVOVi50cmFuc1N1cHBvcnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWwuY2xhc3NOYW1lID0gdGhpcy5iYXNlQ2xzKycgJythZGRuQ2xzXG4gICAgICAgICAgICBFTlYub24odGhpcy5lbCxFTlYudmVuZG9yUHJlZml4ID8gRU5WLnZlbmRvclByZWZpeCsnVHJhbnNpdGlvbkVuZCcgOiAndHJhbnNpdGlvbmVuZCcsdGhpcy50cmFuc0V2ZW50KVxuICAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgb3BhY2l0eSA9IDFcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpc1xuICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgIGlmKG9wYWNpdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICBvcGFjaXR5IC09IDAuMVxuICAgICAgICAgICAgICAgICAgaWYgKG9wYWNpdHkgPCAwKSBvcGFjaXR5ID0gMFxuICAgICAgICAgICAgICAgICAgc2VsZi5fc2V0T3BhY2l0eShvcGFjaXR5KTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2VsZi5lbC5jbGFzc05hbWUgPSBzZWxmLmJhc2VDbHMrJyAnK2FkZG5DbHNcbiAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXG4gICAgICAgICAgICAgICAgICBzZWxmLl9hZnRlckFuaW1hdGlvbigpXG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAzMClcbiAgICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfYWZ0ZXJBbmltYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIGlmIChFTlYudHJhbnNTdXBwb3J0KSBFTlYub2ZmKHRoaXMuZWwsRU5WLnZlbmRvclByZWZpeCA/IEVOVi52ZW5kb3JQcmVmaXgrJ1RyYW5zaXRpb25FbmQnIDogJ3RyYW5zaXRpb25lbmQnLHRoaXMudHJhbnNFdmVudClcblxuICAgICAgICAgaWYgKHRoaXMuY3VycmVudE1zZy5jYikgdGhpcy5jdXJyZW50TXNnLmNiKClcbiAgICAgICAgIHRoaXMuZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXG4gICAgICAgICB0aGlzLl9hbmltYXRpbmcgPSBmYWxzZVxuICAgICAgICAgdGhpcy5fcnVuKClcbiAgICAgIH0sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICB2YXIgY2IgPSB0eXBlb2YgZSA9PSAnZnVuY3Rpb24nID8gZSA6IG51bGxcblxuICAgICAgICAgRU5WLm9mZihkb2MuYm9keSwnbW91c2Vtb3ZlJyx0aGlzLnJlbW92ZUV2ZW50KVxuICAgICAgICAgRU5WLm9mZihkb2MuYm9keSwnY2xpY2snLHRoaXMucmVtb3ZlRXZlbnQpXG4gICAgICAgICBFTlYub2ZmKGRvYy5ib2R5LCdrZXlwcmVzcycsdGhpcy5yZW1vdmVFdmVudClcbiAgICAgICAgIEVOVi5vZmYoZG9jLmJvZHksJ3RvdWNoc3RhcnQnLHRoaXMucmVtb3ZlRXZlbnQpXG4gICAgICAgICBFTlYub2ZmKHRoaXMuZWwsJ2NsaWNrJyx0aGlzLnJlbW92ZUV2ZW50KVxuICAgICAgICAgRU5WLm9mZih0aGlzLmVsLCd0b3VjaHN0YXJ0Jyx0aGlzLnJlbW92ZUV2ZW50KVxuICAgICAgICAgdGhpcy5yZW1vdmVFdmVudHNTZXQgPSBmYWxzZVxuXG4gICAgICAgICBpZiAoY2IgJiYgdGhpcy5jdXJyZW50TXNnKSB0aGlzLmN1cnJlbnRNc2cuY2IgPSBjYlxuICAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGluZykgdGhpcy5faGlkZU1zZygpXG4gICAgICAgICBlbHNlIGlmIChjYikgY2IoKVxuICAgICAgfSxcbiAgICAgIGxvZzogZnVuY3Rpb24gKGh0bWwsIG8sIGNiLCBkZWZhdWx0cykge1xuICAgICAgICAgdmFyIG1zZyA9IHt9XG4gICAgICAgICBpZiAoZGVmYXVsdHMpXG4gICAgICAgICAgIGZvciAodmFyIG9wdCBpbiBkZWZhdWx0cylcbiAgICAgICAgICAgICAgIG1zZ1tvcHRdID0gZGVmYXVsdHNbb3B0XVxuXG4gICAgICAgICBpZiAodHlwZW9mIG8gPT0gJ2Z1bmN0aW9uJykgY2IgPSBvXG4gICAgICAgICBlbHNlIGlmIChvKVxuICAgICAgICAgICAgZm9yICh2YXIgb3B0IGluIG8pIG1zZ1tvcHRdID0gb1tvcHRdXG5cbiAgICAgICAgIG1zZy5odG1sID0gaHRtbFxuICAgICAgICAgaWYgKGNiKSBtc2cuY2IgPSBjYlxuICAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKG1zZylcbiAgICAgICAgIHRoaXMuX3J1bigpXG4gICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgfSxcbiAgICAgIHNwYXduOiBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcbiAgICAgICAgIHZhciBzZWxmID0gdGhpc1xuICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChodG1sLCBvLCBjYikge1xuICAgICAgICAgICAgc2VsZi5sb2cuY2FsbChzZWxmLGh0bWwsbyxjYixkZWZhdWx0cylcbiAgICAgICAgICAgIHJldHVybiBzZWxmXG4gICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY3JlYXRlOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbmV3IEh1bWFuZShvKSB9XG4gICB9XG4gICByZXR1cm4gbmV3IEh1bWFuZSgpXG59KTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGFuIGVudW1lcmF0aW9uIHdpdGgga2V5cyBlcXVhbCB0byB0aGVpciB2YWx1ZS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgIHZhciBDT0xPUlMgPSBrZXlNaXJyb3Ioe2JsdWU6IG51bGwsIHJlZDogbnVsbH0pO1xuICogICB2YXIgbXlDb2xvciA9IENPTE9SUy5ibHVlO1xuICogICB2YXIgaXNDb2xvclZhbGlkID0gISFDT0xPUlNbbXlDb2xvcl07XG4gKlxuICogVGhlIGxhc3QgbGluZSBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIGlmIHRoZSB2YWx1ZXMgb2YgdGhlIGdlbmVyYXRlZCBlbnVtIHdlcmVcbiAqIG5vdCBlcXVhbCB0byB0aGVpciBrZXlzLlxuICpcbiAqICAgSW5wdXQ6ICB7a2V5MTogdmFsMSwga2V5MjogdmFsMn1cbiAqICAgT3V0cHV0OiB7a2V5MToga2V5MSwga2V5Mjoga2V5Mn1cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbnZhciBrZXlNaXJyb3IgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIHJldCA9IHt9O1xuICB2YXIga2V5O1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgIUFycmF5LmlzQXJyYXkob2JqKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2tleU1pcnJvciguLi4pOiBBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4nKTtcbiAgfVxuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmV0W2tleV0gPSBrZXk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5TWlycm9yO1xuIiwiaW1wb3J0IEFwaVJlcXVlc3QgZnJvbSAnLi9BcGlSZXF1ZXN0JztcbmltcG9ydCB7Q29uZmlnfSBmcm9tICcuLi9VdGlscy9Db25zdGFudHMnO1xuXG4vKipcbiAqIEFwcGxpY2F0aW9uLXdpZGUgYWNjZXNzX3Rva2VuIHN0b3JhZ2UvcmV0cmlldmFsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY2Vzc1Rva2VuIHtcbiAgLyoqXG4gICAqIEdldCB0aGUgQWNjZXNzVG9rZW4gYW5kIGxvY2FsbHkgY2FjaGUgaXQgdG8gYXZvaWQgdW5lY2Nlc3NhcnkgZmV0Y2hlcy5cbiAgICogQHJldHVybnMgUHJvbWlzZVxuICAgKi9cbiAgc3RhdGljIGdldCh2ZXJpZnkpIHtcbiAgICBpZiAodHlwZW9mIHZlcmlmeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZlcmlmeSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoQWNjZXNzVG9rZW4uX2FjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKEFjY2Vzc1Rva2VuLl9hY2Nlc3NUb2tlbik7XG4gICAgICB9XG5cbiAgICAgIGxldCBhY2Nlc3NfdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDb25maWcuU3RvcmFnZS5BQ0NFU1NfVE9LRU4pO1xuXG4gICAgICBpZiAoYWNjZXNzX3Rva2VuID09PSBudWxsKSB7XG4gICAgICAgIEFjY2Vzc1Rva2VuLmNsZWFyKCk7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKHtjb2RlOiA0MDMsIG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnfSkpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiAodmVyaWZ5KSB7XG4gICAgICAvLyAgIEFwaVJlcXVlc3QucG9zdCgnL3Nlc3Npb24vdmVyaWZ5JylcbiAgICAgIC8vICAgICAuc2V0SGFuZGxlRXJyb3JzKGZhbHNlKVxuICAgICAgLy8gICAgIC5zZXRJZ25vcmVOZXR3b3JrRXJyb3IodHJ1ZSlcbiAgICAgIC8vICAgICAuc2VuZCgoKSA9PiB7XG4gICAgICAvLyAgICAgICBBY2Nlc3NUb2tlbi5zZXQoYWNjZXNzX3Rva2VuLCB0cnVlKS50aGVuKHJlc29sdmUpO1xuICAgICAgLy8gICAgIH0sIChlcnIpID0+IHtcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBWZXJpZmljYXRpb24gRXJyb3I6ICcsIGVycik7XG4gICAgICAvLyAgICAgICBBY2Nlc3NUb2tlbi5jbGVhcigpO1xuICAgICAgLy8gICAgICAgcmVqZWN0KGVycik7XG4gICAgICAvLyAgICAgfSk7XG4gICAgICAvLyB9XG5cbiAgICAgIEFjY2Vzc1Rva2VuLnNldChhY2Nlc3NfdG9rZW4sIHRydWUpLnRoZW4ocmVzb2x2ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhY2Nlc3NfdG9rZW4gaW4gdGhlIGxvY2FsIGNhY2hlLCBhbmQgKGJ5IGRlZmF1bHQpIGluIGxvY2FsU3RvcmFnZS5cbiAgICogQHBhcmFtIGFjY2Vzc190b2tlblxuICAgKiBAcGFyYW0gZG9udFVwZGF0ZVN0b3JhZ2VcbiAgICovXG4gIHN0YXRpYyBzZXQoYWNjZXNzX3Rva2VuLCBkb250VXBkYXRlU3RvcmFnZSkge1xuICAgIEFjY2Vzc1Rva2VuLl9hY2Nlc3NUb2tlbiA9IGFjY2Vzc190b2tlbjtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoISBkb250VXBkYXRlU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDb25maWcuU3RvcmFnZS5BQ0NFU1NfVE9LRU4sIGFjY2Vzc190b2tlbik7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoYWNjZXNzX3Rva2VuKTtcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgYWNjZXNzX3Rva2VuIGZyb20gbG9jYWwgY2FjaGUgYW5kIGxvY2FsU3RvcmFnZVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIHN0YXRpYyBjbGVhcigpIHtcbiAgICBBY2Nlc3NUb2tlbi5fYWNjZXNzVG9rZW4gPSBudWxsO1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShDb25maWcuU3RvcmFnZS5BQ0NFU1NfVE9LRU4pO1xuICB9XG59IiwiaW1wb3J0IFV0aWxzIGZyb20gJy4uL1V0aWxzL1V0aWxzJztcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IEFwaVV0aWxzIGZyb20gJy4vQXBpVXRpbHMnO1xuaW1wb3J0IEFjY2Vzc1Rva2VuIGZyb20gJy4vQWNjZXNzVG9rZW4nO1xuaW1wb3J0IFJlcXVlc3QgZnJvbSAnc3VwZXJhZ2VudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaVJlcXVlc3Qge1xuXG4gIHN0YXRpYyBhY3RpdmVSZXF1ZXN0cyA9IDA7XG5cbiAgc3RhdGljIHVwZGF0ZU5ldHdvcmtJbmRpY2F0b3IoZGlyID0gJy0nKSB7XG4gICAgaWYgKGRpciA9PT0gJysnKSB7XG4gICAgICBBcGlSZXF1ZXN0LmFjdGl2ZVJlcXVlc3RzKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIEFwaVJlcXVlc3QuYWN0aXZlUmVxdWVzdHMtLTtcbiAgICB9XG5cbiAgICBpZiAoQXBpUmVxdWVzdC5hY3RpdmVSZXF1ZXN0cyA8PSAwKSB7XG4gICAgICBBcGlSZXF1ZXN0LmFjdGl2ZVJlcXVlc3RzID0gMDtcbiAgICAgIC8vIGhpZGUgbmV0d29yayBhY3Rpdml0eSBpbmRpY2F0b3JcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2hvdyBuZXR3b3JrIGFjdGl2aXR5IGluZGljYXRvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQVBJIFJlcXVlc3QgT2JqZWN0XG4gICAqIEBwYXJhbSBtZXRob2Qge3N0cmluZ30gZ2V0fHBvc3R8cHV0fGRlbHxoZWFkfG9wdGlvbnMgKG9wdGlvbmFsLCBkZWZhdWx0OiBnZXQpXG4gICAqIEBwYXJhbSBlbmRwb2ludCB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShtZXRob2QsIGVuZHBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG1ldGhvZCwgZW5kcG9pbnQpO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUFub24obWV0aG9kLCBlbmRwb2ludCkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IHRoaXMobWV0aG9kLCBlbmRwb2ludCk7XG4gICAgcmVxdWVzdC5zZXRBbm9ueW1vdXModHJ1ZSk7XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQoZW5kcG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoJ2dldCcsIGVuZHBvaW50KTtcbiAgfVxuXG4gIHN0YXRpYyBwb3N0KGVuZHBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKCdwb3N0JywgZW5kcG9pbnQpO1xuICB9XG5cbiAgc3RhdGljIHB1dChlbmRwb2ludCkge1xuICAgIHJldHVybiBuZXcgdGhpcygncHV0JywgZW5kcG9pbnQpO1xuICB9XG5cbiAgc3RhdGljIGRlbGV0ZShlbmRwb2ludCkge1xuICAgIHJldHVybiBuZXcgdGhpcygnZGVsZXRlJywgZW5kcG9pbnQpO1xuICB9XG5cbiAgY29uc3RydWN0b3IobWV0aG9kLCBlbmRwb2ludCkge1xuICAgIGlmIChlbmRwb2ludCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmRwb2ludCA9IG1ldGhvZDtcbiAgICAgIG1ldGhvZCA9ICdnZXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXRob2QgPSBtZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoZW5kcG9pbnQuaW5kZXhPZignPycpICE9PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBzZXQgcXVlcnkgc3RyaW5nIGRhdGEgdmlhIHRoZSBgcXVlcnlgIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pc0Fub255bW91cyA9IGZhbHNlO1xuICAgIHRoaXMuaGFuZGxlRXJyb3JzID0gdHJ1ZTtcbiAgICB0aGlzLmlnbm9yZU5ldHdvcmtFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMudXJsID0gQXBpVXRpbHMuYnVpbGRVcmwoZW5kcG9pbnQpO1xuICAgIHRoaXMuX3NldHVwUmVxdWVzdChtZXRob2QpO1xuICB9XG5cbiAgc2V0QW5vbnltb3VzKGlzQW5vbnltb3VzKSB7XG4gICAgdGhpcy5pc0Fub255bW91cyA9IGlzQW5vbnltb3VzO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRIYW5kbGVFcnJvcnMoaGFuZGxlRXJyb3JzKSB7XG4gICAgdGhpcy5oYW5kbGVFcnJvcnMgPSBoYW5kbGVFcnJvcnM7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldElnbm9yZU5ldHdvcmtFcnJvcihpZ25vcmVOZXR3b3JrRXJyb3IpIHtcbiAgICB0aGlzLmlnbm9yZU5ldHdvcmtFcnJvciA9IGlnbm9yZU5ldHdvcmtFcnJvcjtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY29uZmlndXJlKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5yZXF1ZXN0KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2VuZChjYWxsYmFjaywgZXJyQ2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5pc0Fub255bW91cykge1xuICAgICAgcmV0dXJuIHRoaXMuX3NlbmRJdChjYWxsYmFjaywgZXJyQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8vIFNlbmQgd2l0aCBwcm9wZXIgYXV0aGVudGljYXRpb246XG4gICAgQWNjZXNzVG9rZW4uZ2V0KClcbiAgICAgIC50aGVuKHRva2VuID0+IHtcbiAgICAgICAgdGhpcy5xdWVyeSh7dG9rZW59KTtcbiAgICAgICAgdGhpcy5fc2VuZEl0KGNhbGxiYWNrLCBlcnJDYWxsYmFjayk7XG4gICAgICB9KVxuICAgICAgLy8gLmNhdGNoKCgpID0+IEFjdGlvbnMubG9nb3V0KCkpO1xuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICogSGVscGVyL1dyYXBwZXIgRnVuY3Rpb25zICpcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgZGF0YShkYXRhKSB7XG4gICAgdGhpcy5yZXF1ZXN0Qm9keSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBxdWVyeShkYXRhKSB7XG4gICAgdGhpcy5xdWVyeURhdGEgPSBPYmplY3QuYXNzaWduKHRoaXMucXVlcnlEYXRhLCBkYXRhKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaGVhZGVyKGhlYWRlciwgdmFsdWUpIHtcbiAgICB0aGlzLnJlcXVlc3RIZWFkZXJzW2hlYWRlcl0gPSB2YWx1ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IE9iamVjdC5hc3NpZ24odGhpcy5yZXF1ZXN0SGVhZGVycywgaGVhZGVycylcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3NldHVwUmVxdWVzdChtZXRob2QpIHtcbiAgICB0aGlzLnJlcXVlc3RNZXRob2QgPSAoISBtZXRob2QpID8gJ2dldCcgOiBtZXRob2Q7XG4gICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG5cbiAgICB0aGlzLnF1ZXJ5RGF0YSA9IHt9O1xuICAgIHRoaXMucmVxdWVzdEJvZHkgPSB7fTtcbiAgICB0aGlzLnJlcXVlc3QgPSBudWxsO1xuICB9XG5cbiAgX3NlbmRJdChjYWxsYmFjaywgZXJyQ2FsbGJhY2spIHtcbiAgICBBcGlSZXF1ZXN0LnVwZGF0ZU5ldHdvcmtJbmRpY2F0b3IoJysnKTtcblxuICAgIHRoaXMucmVxdWVzdCA9IFJlcXVlc3RbdGhpcy5yZXF1ZXN0TWV0aG9kXSh0aGlzLnVybCk7XG5cbiAgICBpZiAoISBVdGlscy5pc0VtcHR5KHRoaXMucXVlcnlEYXRhKSkge1xuICAgICAgdGhpcy5yZXF1ZXN0LnF1ZXJ5KHRoaXMucXVlcnlEYXRhKTtcbiAgICB9XG5cbiAgICBpZiAoISBVdGlscy5pc0VtcHR5KHRoaXMucmVxdWVzdEhlYWRlcnMpKSB7XG4gICAgICB0aGlzLnJlcXVlc3Quc2V0KHRoaXMucmVxdWVzdEhlYWRlcnMpO1xuICAgIH1cblxuICAgIHRoaXMucmVxdWVzdFxuICAgICAgLnNlbmQodGhpcy5yZXF1ZXN0Qm9keSlcbiAgICAgIC8vLndpdGhDcmVkZW50aWFscygpXG4gICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBBcGlSZXF1ZXN0LnVwZGF0ZU5ldHdvcmtJbmRpY2F0b3IoKTtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIC8vIEkga25vdyB3aGVuIHRoYXQgaG90IGxpbmUgYmxpbmc6XG4gICAgICAgICAgY2FsbGJhY2socmVzLmJvZHkpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcy51bmF1dGhvcml6ZWQpIHtcbiAgICAgICAgICAvLyBVbmF1dGhvcml6ZWQgcmVxdWVzdDpcbiAgICAgICAgICBBY2Nlc3NUb2tlbi5jbGVhcigpO1xuICAgICAgICAgIEFjdGlvbnMubm9hdXRoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTmV0d29yayByZXNwb25zZSB3YXMgbm90IE9LOlxuICAgICAgICAgIGlmICh0aGlzLmhhbmRsZUVycm9ycykge1xuICAgICAgICAgICAgQXBpVXRpbHMuaGFuZGxlRXJyb3IocmVzLmJvZHkuZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBDYWxsIHRoZSBlcnJvciBjYWxsYmFjayBzbyB2aWV3cyBjYW4gcmVzcG9uZDpcbiAgICAgICAgICBpZiAoZXJyQ2FsbGJhY2spIGVyckNhbGxiYWNrKHJlcy5ib2R5LmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgVXRpbHMgZnJvbSAnLi4vVXRpbHMvVXRpbHMnO1xuaW1wb3J0IHtDb25maWd9IGZyb20gJy4uL1V0aWxzL0NvbnN0YW50cyc7XG5cbmNvbnN0IERFRkFVTFRfRVJST1IgPSAnVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHlvdXIgcmVxdWVzdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaVV0aWxzIHtcblxuICBzdGF0aWMgaGFuZGxlRXJyb3IoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKGVycik7XG4gICAgVXRpbHMuc2hvd0Vycm9yKGVyci5tZXNzYWdlIHx8IERFRkFVTFRfRVJST1IpO1xuICB9XG5cbiAgc3RhdGljIGhhbmRsZU5ldHdvcmtFcnJvcihlcnIpIHtcbiAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAvLyBzaG93IG9mZmxpbmUgbW9kZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBlbmRwb2ludFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGJ1aWxkVXJsKGVuZHBvaW50KSB7XG4gICAgICBlbmRwb2ludCA9IFV0aWxzLnRyaW1DaGFyKGVuZHBvaW50LCAnLycpO1xuXG4gICAgICBpZiAoZW5kcG9pbnQuaW5kZXhPZihDb25maWcuYXBpX3Jvb3QpID09PSAtMSkge1xuICAgICAgICAgIGVuZHBvaW50ID0gQ29uZmlnLmFwaV9yb290ICsgZW5kcG9pbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbmRwb2ludDtcbiAgfVxuXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IEFwaVJlcXVlc3QgZnJvbSAnLi4vQXBpL0FwaVJlcXVlc3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbkZvcm0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge307XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7fTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7fTtcblxuICAgIHRoaXMub25TdWJtaXQgPSB0aGlzLm9uU3VibWl0LmJpbmQodGhpcyk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIGNsYXNzTmFtZT1cIm5hdmJhci1mb3JtIG5hdmJhci1yaWdodFwiIHJvbGU9XCJmb3JtXCIgb25TdWJtaXQ9e3RoaXMub25TdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIiBzdHlsZT17c3R5bGVzLmZvcm1GaWVsZH0+XG4gICAgICAgICAgPGlucHV0IHJlZj1cInVzZXJuYW1lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cInVzZXJuYW1lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiIHN0eWxlPXtzdHlsZXMuZm9ybUZpZWxkfT5cbiAgICAgICAgICA8aW5wdXQgcmVmPVwicGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiPlNpZ24gaW48L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG5cbiAgb25TdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnJlZnMudXNlcm5hbWUudmFsdWUsXG4gICAgICBwYXNzd29yZDogdGhpcy5yZWZzLnBhc3N3b3JkLnZhbHVlLFxuICAgIH07XG5cbiAgICBBY3Rpb25zLmxvZ2luKGRhdGEpO1xuICB9XG59XG5cbnZhciBzdHlsZXMgPSB7XG4gIGZvcm1GaWVsZDoge1xuICAgIG1hcmdpbjogMyxcbiAgfSxcbn07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEcm9wem9uZSBmcm9tICdkcm9wem9uZSc7XG5pbXBvcnQge0NvbmZpZ30gZnJvbSAnLi4vVXRpbHMvQ29uc3RhbnRzJztcbmltcG9ydCBVdGlscyBmcm9tICcuLi9VdGlscy9VdGlscyc7XG5pbXBvcnQgQXBpVXRpbHMgZnJvbSAnLi4vQXBpL0FwaVV0aWxzJztcbmltcG9ydCBBY2Nlc3NUb2tlbiBmcm9tICcuLi9BcGkvQWNjZXNzVG9rZW4nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTUkRyb3B6b25lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBhY3RpdmVTdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBtdWx0aXBsZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIH07XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgc3R5bGU6IHt9LFxuICAgIGFjdGl2ZVN0eWxlOiB7fSxcbiAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuZHJvcHpvbmUgPSBudWxsO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgQWNjZXNzVG9rZW4uZ2V0KClcbiAgICAgIC50aGVuKHRva2VuID0+IHtcbiAgICAgICAgbGV0IGR6T3B0aW9ucyA9IHtcbiAgICAgICAgICB1cmw6IEFwaVV0aWxzLmJ1aWxkVXJsKCcvdXBsb2FkLWZpbGU/dG9rZW49Jyt0b2tlbiksXG4gICAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiBcIkRyYWdvbiBEcm9wIEltYWdlcyBvciBDbGljayB0byBVcGxvYWRcIixcbiAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdGhpcy5vbihcInN1Y2Nlc3NcIiwgKGZpbGUsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGUsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm9uKFwiYWRkZWRmaWxlXCIsIGZpbGUgPT4ge1xuICAgICAgICAgICAgICAvLyBBcHBlbmQgYmFzZVVybCB0byB0aGUgZmlsZSBwcmV2aWV3IGVsZW1lbnQuXG4gICAgICAgICAgICAgIGxldCBkek5hbWUgPSBmaWxlLnByZXZpZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWR6LW5hbWVdJylcbiAgICAgICAgICAgICAgZHpOYW1lLmlubmVySFRNTCA9IENvbmZpZy51cGxvYWRzX2RpciArIGZpbGUubmFtZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kcm9wem9uZSA9IG5ldyBEcm9wem9uZSh0aGlzLnJlZnMuZHJvcHpvbmUsIGR6T3B0aW9ucyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiByZWY9XCJkcm9wem9uZVwiIHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfSBjbGFzc05hbWU9XCJkcm9wem9uZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbnMgZnJvbSAnLi4vVXRpbHMvQWN0aW9ucyc7XG5pbXBvcnQgQ3VycmVudFVzZXIgZnJvbSAnLi4vU3RvcmVzL0N1cnJlbnRVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHVzZXI6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIH07XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICB1c2VyOiB7fSxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1c2VyOiB0aGlzLnByb3BzLnVzZXIsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmcgPSBDdXJyZW50VXNlci5saXN0ZW4odGhpcy5fb25Vc2VyQ2hhbmdlLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7dXNlcjogQ3VycmVudFVzZXIuZ2V0KCl9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RvcExpc3RlbmluZygpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdmJhci1uYXYgbmF2YmFyLXJpZ2h0XCI+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxuICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiIHJvbGU9XCJidXR0b25cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxuICAgICAgICAgICAge3RoaXMuc3RhdGUudXNlci51c2VybmFtZX1cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNhcmV0XCI+PC9zcGFuPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiL2FkbWluL3BhZ2UtZWRpdG9yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wbHVzLXNpZ25cIiBhcmlhLWhpZGRlbj1cInRydWVcIiBzdHlsZT17c3R5bGVzLmljb259Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICBBZGQgUGFnZVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiL2FkbWluL3BhZ2UtaW52ZW50b3J5XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1lZGl0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgc3R5bGU9e3N0eWxlcy5pY29ufT48L3NwYW4+XG4gICAgICAgICAgICAgICAgRWRpdCBTb21ldGhpbmdcbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSByb2xlPVwic2VwYXJhdG9yXCIgY2xhc3NOYW1lPVwiZGl2aWRlclwiPjwvbGk+XG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24taGVhZGVyXCI+TXkgQWNjb3VudDwvbGk+XG4gICAgICAgICAgICA8bGk+PGEgaHJlZj1cIiNcIiBvbkNsaWNrPXt0aGlzLl9vbkxvZ291dFByZXNzfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1sb2ctb3V0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgc3R5bGU9e3N0eWxlcy5pY29ufT48L3NwYW4+XG4gICAgICAgICAgICAgIFNpZ24gT3V0XG4gICAgICAgICAgICA8L2E+PC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG5cbiAgX29uTG9nb3V0UHJlc3MoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBBY3Rpb25zLmxvZ291dCgpO1xuICB9XG5cbiAgX29uVXNlckNoYW5nZSh1c2VyKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7dXNlcn0pO1xuICB9XG59XG5cbnZhciBzdHlsZXMgPSB7XG4gIGljb246IHtcbiAgICBwYWRkaW5nUmlnaHQ6ICc1cHgnLFxuICB9LFxufTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbnMgZnJvbSAnLi4vVXRpbHMvQWN0aW9ucyc7XG5pbXBvcnQgQ3VycmVudFVzZXIgZnJvbSAnLi4vU3RvcmVzL0N1cnJlbnRVc2VyJztcbmltcG9ydCBMb2dpbkZvcm0gZnJvbSAnLi9Mb2dpbkZvcm0nO1xuaW1wb3J0IFVzZXJNZW51IGZyb20gJy4vVXNlck1lbnUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHt9O1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge307XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgIHVzZXI6IHt9LFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5zdG9wTGlzdGVuaW5nID0gQ3VycmVudFVzZXIubGlzdGVuKHRoaXMuX29uVXNlckNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnN0b3BBdXRoTGlzdGVuID0gQWN0aW9ucy5ub2F1dGgubGlzdGVuKCgpID0+IHRoaXMuc2V0U3RhdGUoe2xvYWRpbmc6IGZhbHNlfSkpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7dXNlcjogQ3VycmVudFVzZXIuZ2V0KCl9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RvcExpc3RlbmluZygpO1xuICAgIHRoaXMuc3RvcEF1dGhMaXN0ZW4oKTtcbiAgfVxuXG4gIHJlbmRlckxvZ2luRm9ybSgpIHtcbiAgICByZXR1cm4gPExvZ2luRm9ybSAvPjtcbiAgfVxuXG4gIHJlbmRlclVzZXJNZW51KCkge1xuICAgIHJldHVybiAoXG4gICAgICA8VXNlck1lbnUgdXNlcj17dGhpcy5zdGF0ZS51c2VyfSAvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubG9hZGluZykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgICB7dGhpcy5zdGF0ZS51c2VyLmlkID8gdGhpcy5yZW5kZXJVc2VyTWVudSgpIDogdGhpcy5yZW5kZXJMb2dpbkZvcm0oKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBfb25Vc2VyQ2hhbmdlKHVzZXIpIHtcbiAgICB0aGlzLnNldFN0YXRlKHt1c2VyLCBsb2FkaW5nOiBmYWxzZX0pO1xuICB9XG5cbn1cblxudmFyIHN0eWxlcyA9IHtcbiAgY29udGFpbmVyOiB7XG4gICAgaGVpZ2h0OiAnNTZweCcsXG4gIH0sXG4gIHVzZXJuYW1lOiB7XG4gICAgbWFyZ2luOiAzLFxuICAgIGxpbmVIZWlnaHQ6ICc0NHB4JyxcbiAgICBjb2xvcjogJ3doaXRlJyxcbiAgfSxcbn07IiwiaW1wb3J0IFJlZmx1eCBmcm9tICdyZWZsdXgnO1xuXG5pbXBvcnQgQWN0aW9ucyBmcm9tICcuLi9VdGlscy9BY3Rpb25zJztcbmltcG9ydCB7Q29uZmlnfSBmcm9tICcuLi9VdGlscy9Db25zdGFudHMnO1xuaW1wb3J0IEFwaVJlcXVlc3QgZnJvbSAnLi4vQXBpL0FwaVJlcXVlc3QnO1xuaW1wb3J0IEFwaVV0aWxzIGZyb20gJy4uL0FwaS9BcGlVdGlscyc7XG5pbXBvcnQgQWNjZXNzVG9rZW4gZnJvbSAnLi4vQXBpL0FjY2Vzc1Rva2VuJztcblxuY29uc3QgZGVmYXVsdFVzZXIgPSB7XG4gIGlkOiBudWxsLFxuICB1c2VybmFtZTogbnVsbCxcbiAgc2Vzc2lvbl9pZDogbnVsbCxcbn07XG5cbi8vIGNvcHkgZGVmYXVsdFVzZXIgdG8gY3VycmVudFVzZXJcbmxldCBjdXJyZW50VXNlciA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRVc2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgUmVmbHV4LmNyZWF0ZVN0b3JlKHtcbiAgLy8gdGhpcyB3aWxsIHNldCB1cCBsaXN0ZW5lcnMgdG8gYWxsIHB1Ymxpc2hlcnMgaW4gQWN0aW9ucywgdXNpbmcgb25LZXluYW1lIChvciBrZXluYW1lKSBhcyBjYWxsYmFja3NcbiAgbGlzdGVuYWJsZXM6IFtBY3Rpb25zXSxcblxuICAvLyBJbml0aWFsIHNldHVwXG4gIGluaXQoKSB7XG4gICAgLy8gbm8gb3BcbiAgfSxcblxuICBnZXQoKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRVc2VyO1xuICB9LFxuXG4gIHVwZGF0ZSh1c2VyVXBkYXRlcykge1xuICAgIGN1cnJlbnRVc2VyID0gT2JqZWN0LmFzc2lnbih7fSwgdXNlclVwZGF0ZXMpO1xuICAgIHRoaXMudHJpZ2dlcihjdXJyZW50VXNlcik7XG4gIH0sXG5cbiAgLy8gVXNlciBMb2dpbjpcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBvbkxvZ2luKGNyZWRzKSB7XG4gICAgQXBpUmVxdWVzdC5wb3N0KCcvYWNjb3VudC9sb2dpbicpXG4gICAgICAuZGF0YShjcmVkcylcbiAgICAgIC5zZXRBbm9ueW1vdXModHJ1ZSlcbiAgICAgIC5zZW5kKHJlcyA9PiB7XG4gICAgICAgIEFjY2Vzc1Rva2VuLnNldChyZXMuZGF0YS5zZXNzaW9uX2lkKVxuICAgICAgICAgIC50aGVuKCgpID0+IEFjdGlvbnMubG9naW4uY29tcGxldGVkKHJlcykpO1xuICAgICAgfSwgQWN0aW9ucy5sb2dpbi5mYWlsZWQpO1xuICB9LFxuICBvbkxvZ2luQ29tcGxldGVkKHJlc3BvbnNlKSB7XG4gICAgbGV0IHVzZXIgPSByZXNwb25zZS5kYXRhO1xuICAgIHRoaXMudXBkYXRlKHVzZXIpO1xuICB9LFxuXG4gIC8vIFVzZXIgTG9nb3V0OlxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIG9uTG9nb3V0KCkge1xuICAgIEFwaVJlcXVlc3QucG9zdCgnL2FjY291bnQvbG9nb3V0JylcbiAgICAgIC5zZXRIYW5kbGVFcnJvcnMoZmFsc2UpXG4gICAgICAuc2V0SWdub3JlTmV0d29ya0Vycm9yKHRydWUpXG4gICAgICAuc2VuZChBY3Rpb25zLmxvZ291dC5jb21wbGV0ZWQsIEFjdGlvbnMubG9nb3V0LmZhaWxlZCk7XG5cbiAgICAvLyByZXNldCBjdXJyZW50VXNlciB0byBkZWZhdWx0XG4gICAgdGhpcy51cGRhdGUoZGVmYXVsdFVzZXIpO1xuICB9LFxuICBvbkxvZ291dENvbXBsZXRlZCgpIHtcbiAgICBBY2Nlc3NUb2tlbi5jbGVhcigpO1xuICB9LFxuICBvbkxvZ291dEZhaWxlZCgpIHtcbiAgICBBY2Nlc3NUb2tlbi5jbGVhcigpO1xuICB9LFxuXG4gIC8vIExvYWQgVXNlcjpcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBvbkxvYWRVc2VyKCkge1xuICAgIEFwaVJlcXVlc3QuZ2V0KCcvYWNjb3VudCcpXG4gICAgICAuc2VuZChBY3Rpb25zLmxvYWRVc2VyLmNvbXBsZXRlZCwgQWN0aW9ucy5sb2FkVXNlci5mYWlsZWQpO1xuICB9LFxuICBvbkxvYWRVc2VyQ29tcGxldGVkKHJlc3BvbnNlKSB7XG4gICAgdGhpcy51cGRhdGUocmVzcG9uc2UuZGF0YSk7XG4gIH0sXG59KTsiLCJpbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQgQWNjZXNzVG9rZW4gZnJvbSAnLi4vQXBpL0FjY2Vzc1Rva2VuJztcbmltcG9ydCBBcGlSZXF1ZXN0IGZyb20gJy4uL0FwaS9BcGlSZXF1ZXN0JztcblxuLy8gRWFjaCBhY3Rpb24gaXMgbGlrZSBhbiBldmVudCBjaGFubmVsIGZvciBvbmUgc3BlY2lmaWMgZXZlbnQuIEFjdGlvbnMgYXJlIGNhbGxlZCBieSBjb21wb25lbnRzLlxuLy8gVGhlIHN0b3JlIGlzIGxpc3RlbmluZyB0byBhbGwgYWN0aW9ucywgYW5kIHRoZSBjb21wb25lbnRzIGluIHR1cm4gYXJlIGxpc3RlbmluZyB0byB0aGUgc3RvcmUuXG4vLyBUaHVzIHRoZSBmbG93IGlzOiBVc2VyIGludGVyYWN0aW9uIC0+IGNvbXBvbmVudCBjYWxscyBhY3Rpb24gLT4gc3RvcmUgcmVhY3RzIGFuZCB0cmlnZ2VycyAtPiBjb21wb25lbnRzIHVwZGF0ZVxuXG52YXIgQWN0aW9ucyA9IFJlZmx1eC5jcmVhdGVBY3Rpb25zKFtcbiAgLy8gdXNlciBhY3Rpb25zXG4gIFwiYXV0aFwiLFxuICBcInVuYXV0aFwiLFxuICBcIm5vYXV0aFwiLFxuICB7XCJsb2dpblwiOiB7YXN5bmNSZXN1bHQ6IHRydWV9fSxcbiAge1wibG9nb3V0XCI6IHthc3luY1Jlc3VsdDogdHJ1ZX19LFxuICB7XCJsb2FkVXNlclwiOiB7YXN5bmNSZXN1bHQ6IHRydWV9fSxcbl0pO1xuXG4vKiBVc2VyIEFjdGlvbnNcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbkFjdGlvbnMuYXV0aC5saXN0ZW4oKCkgPT4ge1xuICBBY2Nlc3NUb2tlbi5nZXQodHJ1ZSlcbiAgICAudGhlbihhY2Nlc3NUb2tlbiA9PiBBY3Rpb25zLmxvYWRVc2VyKGFjY2Vzc1Rva2VuKSlcbiAgICAuY2F0Y2goKCkgPT4gQWN0aW9ucy5ub2F1dGgoKSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQWN0aW9uczsiLCJ2YXIga2V5TWlycm9yID0gcmVxdWlyZSgna2V5TWlycm9yJyk7XG5cbmNvbnN0IEhPU1RfTkFNRSA9IFwiY2xlZm9vZGJsb2cuY29tXCI7XG5jb25zdCBFTlYgPSAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSBIT1NUX05BTUUpID8gJ3Byb2R1Y3Rpb24nIDogJ2Rldic7XG5cbnZhciBpc1Byb2QgICAgID0gdHJ1ZSxcbiAgICBhcGlWZXJzaW9uID0gJ3YxJyxcbiAgICBhcGlIb3N0ICAgID0gJ2h0dHA6Ly8nK0hPU1RfTkFNRSsnL2FwaScsXG4gICAgc2l0ZVJvb3QgICA9ICdodHRwOi8vJytIT1NUX05BTUU7XG5cbnN3aXRjaCAoRU5WKSB7XG4gICAgY2FzZSAnZGV2JzpcbiAgICAgICAgaXNQcm9kICAgPSBmYWxzZTtcbiAgICAgICAgYXBpSG9zdCAgPSAnaHR0cDovL2Rldi4nK0hPU1RfTkFNRSsnL2FwaSc7XG4gICAgICAgIHNpdGVSb290ID0gJ2h0dHA6Ly9kZXYuJytIT1NUX05BTUU7XG4gICAgICAgIGJyZWFrO1xufVxuXG5leHBvcnQgdmFyIENvbmZpZyA9IHtcbiAgRU5WOiBFTlYsXG4gIGFwaV9yb290OiBhcGlIb3N0KycvJyxcbiAgc2l0ZV9yb290OiBzaXRlUm9vdCsnLycsXG4gIHVwbG9hZHNfZGlyOiBzaXRlUm9vdCsnL3VwbG9hZHMvJyxcblxuICBTdG9yYWdlOiBrZXlNaXJyb3Ioe1xuICAgIEFDQ0VTU19UT0tFTjogbnVsbCxcbiAgfSksXG59O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IFVzZXJOYXYgZnJvbSAnLi4vQ29tcG9uZW50cy9Vc2VyTmF2JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5pdGlhbGl6ZSB7XG5cbiAgc3RhdGljIGdsb2JhbHMoKSB7XG4gICAgLy8gRXhwb3NlIGdsb2JhbHMgbGlrZSBqUXVlcnlcbiAgICB3aW5kb3cualF1ZXJ5ID0gJDtcbiAgfVxuXG4gIHN0YXRpYyBib290c3RyYXAoKSB7XG4gICAgcmVxdWlyZSgnYm9vdHN0cmFwJyk7XG4gIH1cblxuICBzdGF0aWMgb25SZWFkeSgpIHtcbiAgICAvLyBDbGljayBvbiBiaWcgYnV0dG9uOlxuICAgIGxldCBiYUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5Db21pbmdTb29uJyk7XG4gICAgaWYgKGJhQnV0dG9uKSB7XG4gICAgICBiYUJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKGdhKSBnYSgnc2VuZCcsICdldmVudCcsICdidXR0b25zJywgJ2NsaWNrJywgJ3N0YXkgdHVuZWQnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbmQnLCAnZXZlbnQnLCAnYnV0dG9ucycsICdjbGljaycsICdzdGF5IHR1bmVkJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU2hvdyB0aGF0IHVzZXIgbmF2OlxuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxVc2VyTmF2IC8+LFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1VzZXJOYXYnKVxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgYXV0aFVzZXIoKSB7XG4gICAgQWN0aW9ucy5hdXRoKCk7XG4gIH1cblxuICBzdGF0aWMgb25Mb2FkKCkge1xuICAgIEluaXRpYWxpemUuZ2xvYmFscygpO1xuICAgIEluaXRpYWxpemUuYm9vdHN0cmFwKCk7XG4gICAgSW5pdGlhbGl6ZS5vblJlYWR5KCk7XG4gICAgSW5pdGlhbGl6ZS5hdXRoVXNlcigpO1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBVdGlscyBmcm9tICcuLi9VdGlscy9VdGlscyc7XG5pbXBvcnQgUGFnZUVkaXRvciBmcm9tICcuLi9WaWV3cy9QYWdlRWRpdG9yJztcbmltcG9ydCBQYWdlSW52ZW50b3J5IGZyb20gJy4uL1ZpZXdzL1BhZ2VJbnZlbnRvcnknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3V0ZXMge1xuXG4gIHN0YXRpYyBob21lUm91dGUgPSAnaG9tZSc7XG5cbiAgc3RhdGljIGN1cnJlbnQocGF0aG5hbWUpIHtcbiAgICB2YXIgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKHBhdGhuYW1lKSB8fCBSb3V0ZXMuaG9tZVJvdXRlO1xuICAgIHZhciBjYW1lbE5hbWUgPSBiYXNlbmFtZS5yZXBsYWNlKC8tKFthLXpdKS9nLCBmdW5jdGlvbiAoZykgeyByZXR1cm4gZ1sxXS50b1VwcGVyQ2FzZSgpOyB9KTtcbiAgICBpZiAodHlwZW9mIFJvdXRlc1tjYW1lbE5hbWVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBSb3V0ZXNbY2FtZWxOYW1lXSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBDdXN0b20gUm91dGVzOlxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBzdGF0aWMgaG9tZSgpIHtcbiAgICBjb25zb2xlLmxvZygnSG9tZSByb3V0ZScpO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEFkbWluIFJvdXRlczpcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgc3RhdGljIHBhZ2VFZGl0b3IoKSB7XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPFBhZ2VFZGl0b3IgLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUGFnZUVkaXRvcicpXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBwYWdlSW52ZW50b3J5KCkge1xuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxQYWdlSW52ZW50b3J5IC8+LFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1BhZ2VJbnZlbnRvcnknKVxuICAgICk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29uZmlnLCB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCBIdW1hbmUgZnJvbSAnaHVtYW5lLWpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbHMge1xuXG4gIHN0YXRpYyBzaG93TWVzc2FnZSA9IEh1bWFuZS5zcGF3bih7XG4gICAgYWRkbkNsczogJ2JnLWluZm8gdGV4dC1pbmZvJyxcbiAgICB3YWl0Rm9yTW92ZTogdHJ1ZSxcbiAgfSk7XG5cbiAgc3RhdGljIHNob3dTdWNjZXNzID0gSHVtYW5lLnNwYXduKHtcbiAgICBhZGRuQ2xzOiAnYmctc3VjY2VzcyB0ZXh0LXN1Y2Nlc3MnLFxuICAgIHdhaXRGb3JNb3ZlOiB0cnVlLFxuICB9KTtcblxuICBzdGF0aWMgc2hvd0Vycm9yID0gSHVtYW5lLnNwYXduKHtcbiAgICBhZGRuQ2xzOiAnYmctZGFuZ2VyIHRleHQtZGFuZ2VyJyxcbiAgICB0aW1lb3V0OiA1MDAwLFxuICAgIGNsaWNrVG9DbG9zZTogdHJ1ZSxcbiAgICB3YWl0Rm9yTW92ZTogdHJ1ZSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEdldCBKU09OIGRhdGEgZnJvbSBhbm90aGVyIHNlcnZlci4gU3VwcG9ydGVkIGJhY2sgdG8gSUU2LlxuICAgKiBjcmVkaXQ6IGh0dHA6Ly9nb21ha2V0aGluZ3MuY29tL2RpdGNoaW5nLWpxdWVyeVxuICAgKiBAcGFyYW0gdXJsXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKi9cbiAgc3RhdGljIGdldEpTT05QKHVybCwgY2FsbGJhY2spIHtcblxuICAgIC8vIENyZWF0ZSBzY3JpcHQgd2l0aCB1cmwgYW5kIGNhbGxiYWNrIChpZiBzcGVjaWZpZWQpXG4gICAgdmFyIHJlZiA9IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggJ3NjcmlwdCcgKVsgMCBdO1xuICAgIHZhciBzY3JpcHQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NjcmlwdCcgKTtcbiAgICBzY3JpcHQuc3JjID0gdXJsICsgKHVybC5pbmRleE9mKCAnPycgKSArIDEgPyAnJicgOiAnPycpICsgJ2NhbGxiYWNrPScgKyBjYWxsYmFjaztcblxuICAgIC8vIEluc2VydCBzY3JpcHQgdGFnIGludG8gdGhlIERPTSAoYXBwZW5kIHRvIDxoZWFkPilcbiAgICByZWYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIHNjcmlwdCwgcmVmICk7XG5cbiAgICAvLyBBZnRlciB0aGUgc2NyaXB0IGlzIGxvYWRlZCAoYW5kIGV4ZWN1dGVkKSwgcmVtb3ZlIGl0XG4gICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgfTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFF1b3RlcyB0aGUgZ2l2ZW4gc3RyaW5nIHNvIGl0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBhIFJlZ3VsYXIgRXhwcmVzc2lvbi5cbiAgICogQHBhcmFtIHJlZ2V4XG4gICAqIEByZXR1cm5zIHsqfHN0cmluZ3x2b2lkfFhNTH1cbiAgICovXG4gIHN0YXRpYyBxdW90ZVJlZ2V4KHJlZ2V4KSB7XG4gICAgICByZXR1cm4gcmVnZXgucmVwbGFjZSgvKFsoKVt7KisuJF5cXFxcfD9dKS9nLCAnXFxcXCQxJyk7XG4gIH1cblxuICAvKipcbiAgICogVHJpbSB0aGUgZ2l2ZW4gY2hhcmFjdGVyIGZyb20gYm90aCBlbmRzIG9mIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAqIEBwYXJhbSBzdHJcbiAgICogQHBhcmFtIGNoclxuICAgKiBAcmV0dXJucyB7KnxzdHJpbmd8dm9pZHxYTUx9XG4gICAqL1xuICBzdGF0aWMgdHJpbUNoYXIoc3RyLCBjaHIpIHtcbiAgICAgIGNociA9IFV0aWxzLnF1b3RlUmVnZXgoY2hyKTtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIGNociArICcrfCcgKyBjaHIgKyAnKyQnLCAnZycpLCBcIlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGFuIG9iamVjdCB0byBhIHF1ZXJ5IHN0cmluZy5cbiAgICogY3JlZGl0OiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE0ODk5XG4gICAqIEBwYXJhbSBvYmpcbiAgICogQHBhcmFtIHByZWZpeFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIHRvUXVlcnlTdHJpbmcob2JqLCBwcmVmaXgpIHtcbiAgICB2YXIgc3RyID0gW107XG4gICAgZm9yICh2YXIgcCBpbiBvYmopIHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgdmFyIGsgPSBwcmVmaXggPyBwcmVmaXggKyBcIltcIiArIHAgKyBcIl1cIiA6IHAsIHYgPSBvYmpbcF07XG4gICAgICAgIHN0ci5wdXNoKHR5cGVvZiB2ID09IFwib2JqZWN0XCIgP1xuICAgICAgICAgIFV0aWxzLnRvUXVlcnlTdHJpbmcodiwgaykgOiBlbmNvZGVVUklDb21wb25lbnQoaykgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2KSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHIuam9pbihcIiZcIik7XG4gIH1cblxuICAvKipcbiAgICogSXMgb2JqZWN0IGVtcHR5P1xuICAgKiBAcGFyYW0gIG9ialxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzRW1wdHkob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAob2JqLmxlbmd0aCA+IDApIHJldHVybiBmYWxzZTtcbiAgICBpZiAob2JqLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHN0cmluZyBmb3IgdXNlIGluIFVSTFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHN0clxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHVyaVxuICAgKiBDcmVkaXQ6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0OTYyMzY5LzU3ODAzODVcbiAgICovXG4gIHN0YXRpYyBjbGVhbkZvclVybChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyheXFwtK3xbXmEtekEtWjAtOVxcL198IC1dK3xcXC0rJCkvZywgJycpXG4gICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9bXFwvX3wgLV0rL2csICctJyk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgRWRpdG9yIGZyb20gJ3JlYWN0LW1lZGl1bS1lZGl0b3InO1xuaW1wb3J0IERhdGVUaW1lSW5wdXQgZnJvbSAncmVhY3QtYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyJztcblxuaW1wb3J0IFV0aWxzIGZyb20gJy4uL1V0aWxzL1V0aWxzJztcbmltcG9ydCBBcGlSZXF1ZXN0IGZyb20gJy4uL0FwaS9BcGlSZXF1ZXN0JztcbmltcG9ydCBDdXJyZW50VXNlciBmcm9tICcuLi9TdG9yZXMvQ3VycmVudFVzZXInO1xuaW1wb3J0IFNSRHJvcHpvbmUgZnJvbSAnLi4vQ29tcG9uZW50cy9TUkRyb3B6b25lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZUVkaXRvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7fTtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5wb3N0VGltZXN0YW1wID0gbnVsbDtcbiAgICB0aGlzLmhhc0N1c3RvbVVyaSA9IGZhbHNlO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICBwdWJsaXNoaW5nOiBmYWxzZSxcbiAgICAgIHByb2Nlc3Npbmc6IGZhbHNlLFxuICAgICAgdXNlcjogdGhpcy5wcm9wcy51c2VyLFxuICAgICAgYXJ0aWNsZTogXCJcIixcbiAgICAgIHVyaTogXCJcIixcbiAgICAgIHBhZ2VJZDogbnVsbCxcbiAgICB9O1xuXG4gICAgdGhpcy5fb25TdWJtaXRQYWdlID0gdGhpcy5fb25TdWJtaXRQYWdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25QdWJsaXNoID0gdGhpcy5fb25QdWJsaXNoLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Qb3N0RGF0ZUNoYW5nZSA9IHRoaXMuX29uUG9zdERhdGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblVwZGF0ZVBhZ2VVcmkgPSB0aGlzLl9vblVwZGF0ZVBhZ2VVcmkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVVyaSA9IHRoaXMuX29uQ2hhbmdlVXJpLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25CbHVyVXJpID0gdGhpcy5fb25CbHVyVXJpLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25BcnRpY2xlQ2hhbmdlID0gdGhpcy5fb25BcnRpY2xlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Vc2VyQ2hhbmdlID0gdGhpcy5fb25Vc2VyQ2hhbmdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5zdG9wVXNlclN1YnNjcmliZSA9IEN1cnJlbnRVc2VyLmxpc3Rlbih0aGlzLl9vblVzZXJDaGFuZ2UpO1xuXG4gICAgbGV0IHVzZXIgPSBDdXJyZW50VXNlci5nZXQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF1dGhvcml6ZWQ6ICEhIHVzZXIuaWQsXG4gICAgICB1c2VyLFxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wVXNlclN1YnNjcmliZSgpO1xuICB9XG5cbiAgcmVuZGVyUHJvZ3Jlc3NCYXIoKSB7XG4gICAgbGV0IGJhckNsYXNzTmFtZSA9IHRoaXMuc3RhdGUucHVibGlzaGluZyA/ICdwcm9ncmVzcy1iYXItc3VjY2VzcycgOiAncHJvZ3Jlc3MtYmFyLWluZm8nO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCIgc3R5bGU9e3toZWlnaHQ6IFwiYXV0b1wifX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcInByb2dyZXNzLWJhciBcIitiYXJDbGFzc05hbWUrXCIgcHJvZ3Jlc3MtYmFyLXN0cmlwZWQgYWN0aXZlXCJ9IHJvbGU9XCJwcm9ncmVzc2JhclwiIGFyaWEtdmFsdWVub3c9XCIxMDBcIiBhcmlhLXZhbHVlbWluPVwiMFwiIGFyaWEtdmFsdWVtYXg9XCIxMDBcIiBzdHlsZT17c3R5bGVzLnByb2dyZXNzQmFyfT5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5wdWJsaXNoaW5nID8gJ1B1Ymxpc2hpbmcuLi4nIDogJ1NhdmluZy4uLid9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclN1Ym1pdEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5wcm9jZXNzaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJQcm9ncmVzc0JhcigpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJidG4gYnRuLWxnIGJ0bi1pbmZvXCIgc3R5bGU9e3N0eWxlcy5idXR0b259PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tcGx1cy1zaWduXCI+PC9zcGFuPlxuICAgICAgICAgIHsnIFNhdmUgUGFnZSd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxnIGJ0bi1zdWNjZXNzXCIgc3R5bGU9e3N0eWxlcy5idXR0b259IG9uQ2xpY2s9e3RoaXMuX29uUHVibGlzaH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1vay1zaWduXCI+PC9zcGFuPlxuICAgICAgICAgIHsnIFB1Ymxpc2ggUGFnZSd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoISB0aGlzLnN0YXRlLmF1dGhvcml6ZWQpIHJldHVybiA8aDQ+TXVzdCBiZSBsb2dnZWQgaW4gOig8L2g0PjtcblxuICAgIGxldCBpbWFnZUJ1dHRvbiA9IHtcbiAgICAgIG5hbWU6ICdpbWFnZScsXG4gICAgICBhY3Rpb246ICdpbWFnZScsXG4gICAgICBhcmlhOiAnaW1hZ2UnLFxuICAgICAgdGFnTmFtZXM6IFsnaW1nJ10sXG4gICAgICBjb250ZW50RGVmYXVsdDogJzxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1waWN0dXJlXCI+PC9pPicsXG4gICAgICBjb250ZW50RkE6ICc8aSBjbGFzcz1cImZhIGZhLXBpY3R1cmUtb1wiPjwvaT4nXG4gICAgfTtcbiAgICBsZXQgZWRpdG9yT3B0aW9ucyA9IHtcbiAgICAgIHBsYWNlaG9sZGVyOiB7dGV4dDogXCJBcnRpY2xlIGJvZHkuLi5cIn0sXG4gICAgICB0b29sYmFyOiB7XG4gICAgICAgIGJ1dHRvbnM6IFsnYm9sZCcsICdpdGFsaWMnLCAnYW5jaG9yJywgJ2gyJywgJ2gzJywgJ3F1b3RlJywgJ3Vub3JkZXJlZGxpc3QnLCBpbWFnZUJ1dHRvbl0sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBsZXQgY2F0ZWdvcmllcyA9IFtcIlJldmlld3NcIiwgXCJSZWNpcGVzXCIsIFwiSG93IFRvJ3NcIiwgXCJGcmlkYXkgRm9vZCBGaWdodFwiLCBcIldoZXJlIFRvIEZpbmQuLi5cIl07XG5cbiAgICAvLyBhZGQgLmhhcy1zdWNjZXNzIG9yIC5oYXMtZXJyb3JcbiAgICAvLyAuZ2x5cGhpY29uLW9rIG9yIC5nbHlwaGljb24tcmVtb3ZlXG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIHJlZj1cImFkZE5ld1BhZ2VcIiBjbGFzc05hbWU9XCJcIiByb2xlPVwiZm9ybVwiIG9uU3VibWl0PXtlID0+IHRoaXMuX29uU3VibWl0UGFnZShlKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTJcIj5cbiAgICAgICAgICAgIDxoMT5QYWdlIEVkaXRvcjwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTRcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj48ZW0+RGF0YSBhYm91dCBkYXRhOjwvZW0+PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLThcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj48ZW0+U3BpdCB5b3VyIGtub3dsZWRnZSBnYW1lOjwvZW0+PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPERhdGVUaW1lSW5wdXRcbiAgICAgICAgICAgICAgICBzaXplPXsnbGcnfVxuICAgICAgICAgICAgICAgIGRlZmF1bHRUZXh0PXsnJ31cbiAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7cGxhY2Vob2xkZXI6IFwiQXJ0aWNsZSBEYXRlL1RpbWVcIn19XG4gICAgICAgICAgICAgICAgZm9ybWF0PXsneCd9XG4gICAgICAgICAgICAgICAgaW5wdXRGb3JtYXQ9eydZWVlZLU1NLUREIGhoOm1tIEEnfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl9vblBvc3REYXRlQ2hhbmdlfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGlucHV0IHJlZj1cInBhZ2VVcmlcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ3VzdG9tLVBhZ2UtVXJsXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5fb25DaGFuZ2VVcml9XG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cj17dGhpcy5fb25CbHVyVXJpfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPHNlbGVjdCByZWY9XCJwYWdlQ2F0ZWdvcnlcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+4oCUIENob29zZSBDYXRlZ29yeSDigJQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICg8b3B0aW9uIGtleT17J2NhdGVnb3J5LScrY2F0ZWdvcnl9PntjYXRlZ29yeX08L29wdGlvbj4pO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCByZWY9XCJwcmV2aWV3SW1hZ2VcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiUHJldmlldyBJbWFnZSBVUkxcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGlucHV0IHJlZj1cIm1ldGFUaXRsZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBtZXRhIHRpdGxlXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSByZWY9XCJtZXRhRGVzY3JpcHRpb25cIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiByb3dzPVwiMlwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbWV0YSBkZXNjcmlwdGlvblwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8aW5wdXQgcmVmPVwibWV0YUtleXdvcmRzXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIG1ldGEga2V5d29yZHNcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHJlZj1cInBhZ2VUaXRsZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJIZWFkbGluZVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5fb25VcGRhdGVQYWdlVXJpfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMuZWRpdG9yfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgdGV4dD17dGhpcy5zdGF0ZS5hcnRpY2xlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl9vbkFydGljbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17ZWRpdG9yT3B0aW9uc30gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3RoaXMucmVuZGVyU3VibWl0QnV0dG9uKCl9XG4gICAgICAgICAgICA8aW5wdXQgcmVmPVwicGFnZUlkXCIgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJwYWdlSWRcIiB2YWx1ZT17dGhpcy5zdGF0ZS5wYWdlSWR9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIHN0eWxlPXtzdHlsZXMudXBsb2FkZXJSb3d9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICA8U1JEcm9wem9uZVxuICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLnByZXZpZXdJbWFnZX1cbiAgICAgICAgICAgICAgYWN0aXZlU3R5bGU9e3N0eWxlcy5kcmFnQWN0aXZlfVxuICAgICAgICAgICAgICBtdWx0aXBsZT17ZmFsc2V9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cblxuICBfb25Qb3N0RGF0ZUNoYW5nZShkYXRldGltZSkge1xuICAgIHRoaXMucG9zdFRpbWVzdGFtcCA9IGRhdGV0aW1lO1xuICAgIHRoaXMuX29uVXBkYXRlUGFnZVVyaSgpO1xuICB9XG5cbiAgX2dldFBvc3REYXRlRm9ybWF0KGZvcm1hdCA9IFwiWVlZWS1NTS1ERCBISDptbTowMFwiKSB7XG4gICAgbGV0IGRhdGVGb3JtYXQgPSBtb21lbnQudW5peCh0aGlzLnBvc3RUaW1lc3RhbXAgLyAxMDAwKS5mb3JtYXQoZm9ybWF0KTtcbiAgICBpZiAoZGF0ZUZvcm1hdCA9PSAnSW52YWxpZCBkYXRlJykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiBkYXRlRm9ybWF0O1xuICB9XG5cbiAgX2dldFBhZ2VEYXRhKHB1Ymxpc2ggPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogdGhpcy5yZWZzLnBhZ2VUaXRsZS52YWx1ZSxcbiAgICAgIGFydGljbGU6IHRoaXMuc3RhdGUuYXJ0aWNsZSwgLy8gdGhpcy5yZWZzLnBhZ2VBcnRpY2xlLnZhbHVlLFxuICAgICAgdXJpOiB0aGlzLnN0YXRlLnVyaSB8fCB0aGlzLnJlZnMucGFnZVVyaS52YWx1ZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnJlZnMucGFnZUNhdGVnb3J5LnZhbHVlLFxuICAgICAgcHJldmlld19pbWFnZTogdGhpcy5yZWZzLnByZXZpZXdJbWFnZS52YWx1ZSxcbiAgICAgIG1ldGFfdGl0bGU6IHRoaXMucmVmcy5tZXRhVGl0bGUudmFsdWUsXG4gICAgICBtZXRhX2Rlc2NyaXB0aW9uOiB0aGlzLnJlZnMubWV0YURlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAgbWV0YV9rZXl3b3JkczogdGhpcy5yZWZzLm1ldGFLZXl3b3Jkcy52YWx1ZSxcbiAgICAgIHBvc3RfZGF0ZTogdGhpcy5wb3N0VGltZXN0YW1wID8gdGhpcy5fZ2V0UG9zdERhdGVGb3JtYXQoKSA6IG51bGwsXG4gICAgICBwdWJsaXNoOiBwdWJsaXNoLFxuICAgIH07XG4gIH1cblxuICBfb25QdWJsaXNoKGUpIHtcbiAgICB0aGlzLl9vblN1Ym1pdFBhZ2UoZSwgdHJ1ZSk7XG4gIH1cblxuICBfb25TdWJtaXRQYWdlKGUsIHB1Ymxpc2ggPSBmYWxzZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5zdGF0ZS5wcm9jZXNzaW5nKSByZXR1cm47XG5cbiAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLnN0YXRlLnBhZ2VJZCA/ICcvcGFnZS8nICsgdGhpcy5zdGF0ZS5wYWdlSWQgOiAnL3BhZ2UnO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7cHJvY2Vzc2luZzogdHJ1ZSwgcHVibGlzaGluZzogcHVibGlzaH0pO1xuICAgIEFwaVJlcXVlc3QucG9zdChlbmRwb2ludClcbiAgICAgIC5kYXRhKHRoaXMuX2dldFBhZ2VEYXRhKHB1Ymxpc2gpKVxuICAgICAgLnNlbmQocmVzID0+IHtcbiAgICAgICAgbGV0IHBhZ2UgPSByZXMuZGF0YSxcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBwdWJsaXNoID8gJ1BhZ2UgcHVibGlzaGVkIScgOiAnUGFnZSBzYXZlZCEnO1xuICAgICAgICBVdGlscy5zaG93U3VjY2VzcyhtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgcGFnZUlkOiBwYWdlLmlkLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gdGhpcy5fY2xlYXJGb3JtKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9jbGVhckZvcm0oKSB7XG4gICAgdGhpcy5yZWZzLmFkZE5ld1BhZ2UucmVzZXQoKTtcbiAgICB0aGlzLnBvc3RUaW1lc3RhbXAgPSBudWxsO1xuICAgIHRoaXMuaGFzQ3VzdG9tVXJpID0gZmFsc2U7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBwcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgIGFydGljbGU6IFwiXCIsXG4gICAgICB1cmk6IFwiXCIsXG4gICAgfSk7XG4gIH1cblxuICBfZ2V0VXJpRnJvbVRpdGxlKCkge1xuICAgIGxldCBoZWFkbGluZSA9IHRoaXMucmVmcy5wYWdlVGl0bGUudmFsdWUgfHwgJ3VudGl0bGVkJyxcbiAgICAgICAgcG9zdERhdGUgPSB0aGlzLnBvc3RUaW1lc3RhbXAgPyB0aGlzLl9nZXRQb3N0RGF0ZUZvcm1hdChcIi1ZWVlZLU1NLUREXCIpIDogXCJcIjtcbiAgICByZXR1cm4gVXRpbHMuY2xlYW5Gb3JVcmwoaGVhZGxpbmUrcG9zdERhdGUpO1xuICB9XG5cbiAgX29uQmx1clVyaShlKSB7XG4gICAgaWYgKCEgZS50YXJnZXQudmFsdWUpIHtcbiAgICAgIHRoaXMuaGFzQ3VzdG9tVXJpID0gZmFsc2U7XG4gICAgICB0aGlzLl9vblVwZGF0ZVBhZ2VVcmkoKTtcbiAgICB9XG4gIH1cblxuICBfb25DaGFuZ2VVcmkoZSkge1xuICAgIHRoaXMuaGFzQ3VzdG9tVXJpID0gdHJ1ZTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe3VyaTogdGhpcy5yZWZzLnBhZ2VVcmkudmFsdWV9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9vblVwZGF0ZVBhZ2VVcmkoKSB7XG4gICAgaWYgKHRoaXMuaGFzQ3VzdG9tVXJpKSByZXR1cm47XG5cbiAgICB0aGlzLnNldFN0YXRlKHt1cmk6IHRoaXMuX2dldFVyaUZyb21UaXRsZSgpfSk7XG4gIH1cblxuICBfb25BcnRpY2xlQ2hhbmdlKGFydGljbGUsIG1lZGl1bSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2FydGljbGV9KTtcbiAgfVxuXG4gIF9vblVzZXJDaGFuZ2UodXNlcikge1xuICAgIHRoaXMuc2V0U3RhdGUoe2F1dGhvcml6ZWQ6ICEhIHVzZXIuaWR9KTtcbiAgfVxufVxuXG5cbnZhciBzdHlsZXMgPSB7XG4gIGJ1dHRvbjoge1xuICAgIHdpZHRoOiAnNDglJyxcbiAgICBtYXJnaW46ICcwIDElJyxcbiAgfSxcbiAgZWRpdG9yOiB7XG4gICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICBtaW5IZWlnaHQ6IFwiMjBlbVwiLFxuICB9LFxuICBwcmV2aWV3SW1hZ2U6IHtcbiAgICBjb2xvcjogXCJyZ2IoMTUwLDE1MCwxNTApXCIsXG4gICAgYm9yZGVyV2lkdGg6IDIsXG4gICAgYm9yZGVyQ29sb3I6IFwicmdiYSgxNTAsMTUwLDE1MCwuOClcIixcbiAgICBib3JkZXJTdHlsZTogXCJkYXNoZWRcIixcbiAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgcGFkZGluZzogXCI0MHB4IDBcIixcbiAgfSxcbiAgZHJhZ0FjdGl2ZToge1xuICAgIGJvcmRlckNvbG9yOiAncmdiKDEyMCwxMjAsMTIwKScsXG4gIH0sXG4gIHByb2dyZXNzQmFyOiB7XG4gICAgZm9udFNpemU6IFwiMThweFwiLFxuICAgIHBhZGRpbmc6IFwiMTBweCAwXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICB9LFxuICB1cGxvYWRlclJvdzoge1xuICAgIG1hcmdpblRvcDogXCIxNXB4XCIsXG4gIH0sXG59OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBVdGlscyBmcm9tICcuLi9VdGlscy9VdGlscyc7XG5pbXBvcnQgQXBpUmVxdWVzdCBmcm9tICcuLi9BcGkvQXBpUmVxdWVzdCc7XG5pbXBvcnQgQ3VycmVudFVzZXIgZnJvbSAnLi4vU3RvcmVzL0N1cnJlbnRVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZUludmVudG9yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7fTtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICB1c2VyOiB0aGlzLnByb3BzLnVzZXIsXG4gICAgfTtcblxuICAgIHRoaXMuX29uVXNlckNoYW5nZSA9IHRoaXMuX29uVXNlckNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuc3RvcFVzZXJTdWJzY3JpYmUgPSBDdXJyZW50VXNlci5saXN0ZW4odGhpcy5fb25Vc2VyQ2hhbmdlKTtcblxuICAgIGxldCB1c2VyID0gQ3VycmVudFVzZXIuZ2V0KCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdXRob3JpemVkOiAhISB1c2VyLmlkLFxuICAgICAgdXNlcixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RvcFVzZXJTdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoISB0aGlzLnN0YXRlLmF1dGhvcml6ZWQpIHJldHVybiA8aDQ+TXVzdCBiZSBsb2dnZWQgaW4gOig8L2g0PjtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlBhZ2UgSW52ZW50b3J5PC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIF9vblVzZXJDaGFuZ2UodXNlcikge1xuICAgIHRoaXMuc2V0U3RhdGUoe2F1dGhvcml6ZWQ6ICEhIHVzZXIuaWR9KTtcbiAgfVxufVxuXG5cbnZhciBzdHlsZXMgPSB7XG4gIGNvbnRhaW5lcjoge30sXG59OyIsIi8vIG1haW4uanNcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBJbml0aWFsaXplIGZyb20gJy4vVXRpbHMvSW5pdGlhbGl6ZSc7XG5pbXBvcnQgUm91dGVzIGZyb20gJy4vVXRpbHMvUm91dGVzJztcblxuLy8gUnVuIHRoYXQgaW5pdDpcbkluaXRpYWxpemUub25Mb2FkKCk7XG5cbi8vIEluaXRpYWxpemUgY3VycmVudCByb3V0ZVxuUm91dGVzLmN1cnJlbnQod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTsiXX0=
