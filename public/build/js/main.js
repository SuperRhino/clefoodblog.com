(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe =
    /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
var splitPath = function(filename) {
  return splitPathRe.exec(filename).slice(1);
};

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function(path) {
  var result = splitPath(path),
      root = result[0],
      dir = result[1];

  if (!root && !dir) {
    // No dirname whatsoever
    return '.';
  }

  if (dir) {
    // It has a dirname, strip trailing slash
    dir = dir.substr(0, dir.length - 1);
  }

  return root + dir;
};


exports.basename = function(path, ext) {
  var f = splitPath(path)[2];
  // TODO: make this comparison case-insensitive on windows?
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};


exports.extname = function(path) {
  return splitPath(path)[3];
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

}).call(this,require('_process'))

},{"_process":2}],2:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        setTimeout(drainQueue, 0);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],3:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

"use strict";

/**
 * Constructs an enumeration with keys equal to their value.
 *
 * For example:
 *
 *   var COLORS = keyMirror({blue: null, red: null});
 *   var myColor = COLORS.blue;
 *   var isColorValid = !!COLORS[myColor];
 *
 * The last line could not be performed if the values of the generated enum were
 * not equal to their keys.
 *
 *   Input:  {key1: val1, key2: val2}
 *   Output: {key1: key1, key2: key2}
 *
 * @param {object} obj
 * @return {object}
 */
var keyMirror = function(obj) {
  var ret = {};
  var key;
  if (!(obj instanceof Object && !Array.isArray(obj))) {
    throw new Error('keyMirror(...): Argument must be an object.');
  }
  for (key in obj) {
    if (!obj.hasOwnProperty(key)) {
      continue;
    }
    ret[key] = key;
  }
  return ret;
};

module.exports = keyMirror;

},{}],4:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _ApiRequest=require('./ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _Constants=require('../Utils/Constants');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var AccessToken=function(){function AccessToken(){_classCallCheck(this,AccessToken);}_createClass(AccessToken,null,[{key:'get',value:function get(verify){if(typeof verify==='undefined'){verify=false;}return new Promise(function(resolve,reject){if(AccessToken._accessToken){return resolve(AccessToken._accessToken);}var access_token=localStorage.getItem(_Constants.Config.Storage.ACCESS_TOKEN);if(access_token===null){AccessToken.clear();return reject(new Error({code:403,message:'Unauthorized'}));}AccessToken.set(access_token,true).then(resolve);});}},{key:'set',value:function set(access_token,dontUpdateStorage){AccessToken._accessToken=access_token;return new Promise(function(resolve,reject){if(!dontUpdateStorage){localStorage.setItem(_Constants.Config.Storage.ACCESS_TOKEN,access_token);}resolve(access_token);});}},{key:'clear',value:function clear(){AccessToken._accessToken=null;return localStorage.removeItem(_Constants.Config.Storage.ACCESS_TOKEN);}}]);return AccessToken;}();exports.default=AccessToken;

},{"../Utils/Constants":13,"./ApiRequest":5}],5:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _ApiUtils=require('./ApiUtils');var _ApiUtils2=_interopRequireDefault(_ApiUtils);var _AccessToken=require('./AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);var _superagent=require('superagent');var _superagent2=_interopRequireDefault(_superagent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var ApiRequest=function(){_createClass(ApiRequest,null,[{key:'updateNetworkIndicator',value:function updateNetworkIndicator(){var dir=arguments.length<=0||arguments[0]===undefined?'-':arguments[0];if(dir==='+'){ApiRequest.activeRequests++;}else {ApiRequest.activeRequests--;}if(ApiRequest.activeRequests<=0){ApiRequest.activeRequests=0;}else {}}},{key:'create',value:function create(method,endpoint){return new this(method,endpoint);}},{key:'createAnon',value:function createAnon(method,endpoint){var request=new this(method,endpoint);request.setAnonymous(true);return request;}},{key:'get',value:function get(endpoint){return new this('get',endpoint);}},{key:'post',value:function post(endpoint){return new this('post',endpoint);}},{key:'put',value:function put(endpoint){return new this('put',endpoint);}},{key:'delete',value:function _delete(endpoint){return new this('delete',endpoint);}}]);function ApiRequest(method,endpoint){_classCallCheck(this,ApiRequest);if(endpoint===undefined){endpoint=method;method='get';}else {method=method.toLowerCase();}if(endpoint.indexOf('?')!==-1){throw new Error('You must set query string data via the `query` function');}this.isAnonymous=false;this.handleErrors=true;this.ignoreNetworkError=false;this.url=_ApiUtils2.default.buildUrl(endpoint);this._setupRequest(method);}_createClass(ApiRequest,[{key:'setAnonymous',value:function setAnonymous(isAnonymous){this.isAnonymous=isAnonymous;return this;}},{key:'setHandleErrors',value:function setHandleErrors(handleErrors){this.handleErrors=handleErrors;return this;}},{key:'setIgnoreNetworkError',value:function setIgnoreNetworkError(ignoreNetworkError){this.ignoreNetworkError=ignoreNetworkError;return this;}},{key:'configure',value:function configure(callback){callback(this.request);return this;}},{key:'send',value:function send(callback,errCallback){var _this=this;if(this.isAnonymous){return this._sendIt(callback,errCallback);}_AccessToken2.default.get().then(function(token){_this.query({token:token});_this._sendIt(callback,errCallback);});}},{key:'data',value:function data(_data){this.requestBody=JSON.stringify(_data);return this;}},{key:'query',value:function query(data){this.queryData=Object.assign(this.queryData,data);return this;}},{key:'header',value:function header(_header,value){this.requestHeaders[_header]=value;return this;}},{key:'headers',value:function headers(_headers){this.requestHeaders=Object.assign(this.requestHeaders,_headers);return this;}},{key:'_setupRequest',value:function _setupRequest(method){this.requestMethod=!method?'get':method;this.requestHeaders={'Accept':'application/json','Content-Type':'application/json'};this.queryData={};this.requestBody={};this.request=null;}},{key:'_sendIt',value:function _sendIt(callback,errCallback){var _this2=this;ApiRequest.updateNetworkIndicator('+');this.request=_superagent2.default[this.requestMethod](this.url);if(!_Utils2.default.isEmpty(this.queryData)){this.request.query(this.queryData);}if(!_Utils2.default.isEmpty(this.requestHeaders)){this.request.set(this.requestHeaders);}this.request.send(this.requestBody).end(function(err,res){ApiRequest.updateNetworkIndicator();if(res.ok){callback(res.body);}else if(res.unauthorized){_AccessToken2.default.clear();_Actions2.default.noauth();}else {if(_this2.handleErrors){_ApiUtils2.default.handleError(res.body.error);}if(errCallback)errCallback(res.body.error);}});}}]);return ApiRequest;}();ApiRequest.activeRequests=0;exports.default=ApiRequest;

},{"../Utils/Actions":12,"../Utils/Utils":16,"./AccessToken":4,"./ApiUtils":6,"superagent":"superagent"}],6:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _Constants=require('../Utils/Constants');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var DEFAULT_ERROR='There was a problem with your request';var ApiUtils=function(){function ApiUtils(){_classCallCheck(this,ApiUtils);}_createClass(ApiUtils,null,[{key:'handleError',value:function handleError(err){console.warn(err);_Utils2.default.showError(err.message||DEFAULT_ERROR);}},{key:'handleNetworkError',value:function handleNetworkError(err){console.warn(err);}},{key:'buildUrl',value:function buildUrl(endpoint){endpoint=_Utils2.default.trimChar(endpoint,'/');if(endpoint.indexOf(_Constants.Config.api_root)===-1){endpoint=_Constants.Config.api_root+endpoint;}return endpoint;}}]);return ApiUtils;}();exports.default=ApiUtils;

},{"../Utils/Constants":13,"../Utils/Utils":16}],7:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LoginForm=function(_React$Component){_inherits(LoginForm,_React$Component);function LoginForm(props){_classCallCheck(this,LoginForm);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(LoginForm).call(this,props));_this.state={};_this.onSubmit=_this.onSubmit.bind(_this);return _this;}_createClass(LoginForm,[{key:'render',value:function render(){return _react2.default.createElement('form',{className:'navbar-form navbar-right',role:'form',onSubmit:this.onSubmit},_react2.default.createElement('div',{className:'form-group',style:styles.formField},_react2.default.createElement('input',{ref:'username',type:'text',placeholder:'username',className:'form-control'})),_react2.default.createElement('div',{className:'form-group',style:styles.formField},_react2.default.createElement('input',{ref:'password',type:'password',placeholder:'password',className:'form-control'})),_react2.default.createElement('button',{type:'submit',className:'btn btn-default'},'Sign in'));}},{key:'onSubmit',value:function onSubmit(e){e.preventDefault();var data={username:this.refs.username.value,password:this.refs.password.value};_Actions2.default.login(data);}}]);return LoginForm;}(_react2.default.Component);LoginForm.propTypes={};LoginForm.defaultProps={};exports.default=LoginForm;var styles={formField:{margin:3}};

},{"../Api/ApiRequest":5,"../Utils/Actions":12,"react":"react"}],8:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _dropzone=require('dropzone');var _dropzone2=_interopRequireDefault(_dropzone);var _Constants=require('../Utils/Constants');var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _ApiUtils=require('../Api/ApiUtils');var _ApiUtils2=_interopRequireDefault(_ApiUtils);var _AccessToken=require('../Api/AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SRDropzone=function(_React$Component){_inherits(SRDropzone,_React$Component);function SRDropzone(props){_classCallCheck(this,SRDropzone);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SRDropzone).call(this,props));_this.dropzone=null;_this.state={};return _this;}_createClass(SRDropzone,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_AccessToken2.default.get().then(function(token){var dzOptions={url:_ApiUtils2.default.buildUrl('/upload-file?token='+token),dictDefaultMessage:"<h3>Dragon Drop Images</h3><p> or Click to Upload</p>",init:function init(){this.on("success",function(file,response){console.log(file,response);});this.on("addedfile",function(file){var dzName=file.previewElement.querySelector('[data-dz-name]');dzName.innerHTML=_Constants.Config.uploads_dir+file.name;});}};_this2.dropzone=new _dropzone2.default(_this2.refs.dropzone,dzOptions);});}},{key:'render',value:function render(){return _react2.default.createElement('div',{ref:'dropzone',style:this.props.style,className:'dropzone'},this.props.children);}}]);return SRDropzone;}(_react2.default.Component);SRDropzone.propTypes={style:_react2.default.PropTypes.object,activeStyle:_react2.default.PropTypes.object,multiple:_react2.default.PropTypes.bool};SRDropzone.defaultProps={style:{},activeStyle:{},multiple:true};exports.default=SRDropzone;

},{"../Api/AccessToken":4,"../Api/ApiUtils":6,"../Utils/Constants":13,"../Utils/Utils":16,"dropzone":"dropzone","react":"react"}],9:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserMenu=function(_React$Component){_inherits(UserMenu,_React$Component);function UserMenu(props){_classCallCheck(this,UserMenu);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UserMenu).call(this,props));_this.state={user:_this.props.user};return _this;}_createClass(UserMenu,[{key:'componentWillMount',value:function componentWillMount(){this.stopListening=_CurrentUser2.default.listen(this._onUserChange.bind(this));this.setState({user:_CurrentUser2.default.get()});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopListening();}},{key:'render',value:function render(){return _react2.default.createElement('ul',{className:'nav navbar-nav navbar-right'},_react2.default.createElement('li',{className:'dropdown'},_react2.default.createElement('a',{href:'#',className:'dropdown-toggle','data-toggle':'dropdown',role:'button','aria-haspopup':'true','aria-expanded':'false'},this.state.user.username,_react2.default.createElement('span',{className:'caret'})),_react2.default.createElement('ul',{className:'dropdown-menu'},_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'/admin/page-editor'},_react2.default.createElement('span',{className:'glyphicon glyphicon-plus-sign','aria-hidden':'true',style:styles.icon}),'Add Page')),_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'/admin/page-inventory'},_react2.default.createElement('span',{className:'glyphicon glyphicon-edit','aria-hidden':'true',style:styles.icon}),'Edit Something')),_react2.default.createElement('li',{role:'separator',className:'divider'}),_react2.default.createElement('li',{className:'dropdown-header'},'My Account'),_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'#',onClick:this._onLogoutPress},_react2.default.createElement('span',{className:'glyphicon glyphicon-log-out','aria-hidden':'true',style:styles.icon}),'Sign Out')))));}},{key:'_onLogoutPress',value:function _onLogoutPress(e){e.preventDefault();_Actions2.default.logout();}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({user:user});}}]);return UserMenu;}(_react2.default.Component);UserMenu.propTypes={user:_react2.default.PropTypes.object};UserMenu.defaultProps={user:{}};exports.default=UserMenu;var styles={icon:{paddingRight:'5px'}};

},{"../Stores/CurrentUser":11,"../Utils/Actions":12,"react":"react"}],10:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);var _LoginForm=require('./LoginForm');var _LoginForm2=_interopRequireDefault(_LoginForm);var _UserMenu=require('./UserMenu');var _UserMenu2=_interopRequireDefault(_UserMenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserNav=function(_React$Component){_inherits(UserNav,_React$Component);function UserNav(props){_classCallCheck(this,UserNav);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UserNav).call(this,props));_this.state={loading:true,user:{}};return _this;}_createClass(UserNav,[{key:'componentWillMount',value:function componentWillMount(){var _this2=this;this.stopListening=_CurrentUser2.default.listen(this._onUserChange.bind(this));this.stopAuthListen=_Actions2.default.noauth.listen(function(){return _this2.setState({loading:false});});this.setState({user:_CurrentUser2.default.get()});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopListening();this.stopAuthListen();}},{key:'renderLoginForm',value:function renderLoginForm(){return _react2.default.createElement(_LoginForm2.default,null);}},{key:'renderUserMenu',value:function renderUserMenu(){return _react2.default.createElement(_UserMenu2.default,{user:this.state.user});}},{key:'render',value:function render(){if(this.state.loading){return null;}return _react2.default.createElement('div',{style:styles.container},this.state.user.id?this.renderUserMenu():this.renderLoginForm());}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({user:user,loading:false});}}]);return UserNav;}(_react2.default.Component);UserNav.propTypes={};UserNav.defaultProps={};exports.default=UserNav;var styles={container:{height:'56px'},username:{margin:3,lineHeight:'44px',color:'white'}};

},{"../Stores/CurrentUser":11,"../Utils/Actions":12,"./LoginForm":7,"./UserMenu":9,"react":"react"}],11:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _reflux=require('reflux');var _reflux2=_interopRequireDefault(_reflux);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _Constants=require('../Utils/Constants');var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _ApiUtils=require('../Api/ApiUtils');var _ApiUtils2=_interopRequireDefault(_ApiUtils);var _AccessToken=require('../Api/AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var defaultUser={id:null,username:null,session_id:null};var currentUser=Object.assign({},defaultUser);exports.default=_reflux2.default.createStore({listenables:[_Actions2.default],init:function init(){},get:function get(){return currentUser;},update:function update(userUpdates){currentUser=Object.assign({},userUpdates);this.trigger(currentUser);},onLogin:function onLogin(creds){_ApiRequest2.default.post('/account/login').data(creds).setAnonymous(true).send(function(res){_AccessToken2.default.set(res.data.session_id).then(function(){return _Actions2.default.login.completed(res);});},_Actions2.default.login.failed);},onLoginCompleted:function onLoginCompleted(response){var user=response.data;this.update(user);},onLogout:function onLogout(){_ApiRequest2.default.post('/account/logout').setHandleErrors(false).setIgnoreNetworkError(true).send(_Actions2.default.logout.completed,_Actions2.default.logout.failed);this.update(defaultUser);},onLogoutCompleted:function onLogoutCompleted(){_AccessToken2.default.clear();},onLogoutFailed:function onLogoutFailed(){_AccessToken2.default.clear();},onLoadUser:function onLoadUser(){_ApiRequest2.default.get('/account').send(_Actions2.default.loadUser.completed,_Actions2.default.loadUser.failed);},onLoadUserCompleted:function onLoadUserCompleted(response){this.update(response.data);}});

},{"../Api/AccessToken":4,"../Api/ApiRequest":5,"../Api/ApiUtils":6,"../Utils/Actions":12,"../Utils/Constants":13,"reflux":"reflux"}],12:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _reflux=require('reflux');var _reflux2=_interopRequireDefault(_reflux);var _AccessToken=require('../Api/AccessToken');var _AccessToken2=_interopRequireDefault(_AccessToken);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var Actions=_reflux2.default.createActions(["auth","unauth","noauth",{"login":{asyncResult:true}},{"logout":{asyncResult:true}},{"loadUser":{asyncResult:true}}]);Actions.auth.listen(function(){_AccessToken2.default.get(true).then(function(accessToken){return Actions.loadUser(accessToken);}).catch(function(){return Actions.noauth();});});exports.default=Actions;

},{"../Api/AccessToken":4,"../Api/ApiRequest":5,"reflux":"reflux"}],13:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var keyMirror=require('keyMirror');var HOST_NAME="clefoodblog.com";var ENV=window.location.hostname===HOST_NAME?'production':'dev';var isProd=true,apiVersion='v1',apiHost='http://'+HOST_NAME+'/api',siteRoot='http://'+HOST_NAME;switch(ENV){case 'dev':isProd=false;apiHost='http://dev.'+HOST_NAME+'/api';siteRoot='http://dev.'+HOST_NAME;break;}var Config=exports.Config={ENV:ENV,api_root:apiHost+'/',site_root:siteRoot+'/',uploads_dir:siteRoot+'/uploads/',Storage:keyMirror({ACCESS_TOKEN:null})};

},{"keyMirror":3}],14:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _jquery=require('jquery');var _jquery2=_interopRequireDefault(_jquery);var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _Actions=require('../Utils/Actions');var _Actions2=_interopRequireDefault(_Actions);var _UserNav=require('../Components/UserNav');var _UserNav2=_interopRequireDefault(_UserNav);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Initialize=function(){function Initialize(){_classCallCheck(this,Initialize);}_createClass(Initialize,null,[{key:'globals',value:function globals(){window.jQuery=_jquery2.default;}},{key:'bootstrap',value:function bootstrap(){require('bootstrap');}},{key:'onReady',value:function onReady(){var baButton=document.getElementById('btnComingSoon');if(baButton){baButton.onclick=function(){if(ga)ga('send','event','buttons','click','stay tuned');console.log('send','event','buttons','click','stay tuned');return false;};}_reactDom2.default.render(_react2.default.createElement(_UserNav2.default,null),document.getElementById('UserNav'));}},{key:'authUser',value:function authUser(){_Actions2.default.auth();}},{key:'onLoad',value:function onLoad(){Initialize.globals();Initialize.bootstrap();Initialize.onReady();Initialize.authUser();}}]);return Initialize;}();exports.default=Initialize;

},{"../Components/UserNav":10,"../Utils/Actions":12,"bootstrap":"bootstrap","jquery":"jquery","react":"react","react-dom":"react-dom"}],15:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _path=require('path');var _path2=_interopRequireDefault(_path);var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _PageEditor=require('../Views/PageEditor');var _PageEditor2=_interopRequireDefault(_PageEditor);var _PageInventory=require('../Views/PageInventory');var _PageInventory2=_interopRequireDefault(_PageInventory);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Routes=function(){function Routes(){_classCallCheck(this,Routes);}_createClass(Routes,null,[{key:'current',value:function current(pathname){var basename=_path2.default.basename(pathname)||Routes.homeRoute;var camelName=basename.replace(/-([a-z])/g,function(g){return g[1].toUpperCase();});if(typeof Routes[camelName]==='function'){Routes[camelName]();}}},{key:'home',value:function home(){console.log('Home route');}},{key:'pageEditor',value:function pageEditor(){var pageId=_Utils2.default.getQueryParam('id')||null;if(pageId)pageId=parseInt(pageId);_reactDom2.default.render(_react2.default.createElement(_PageEditor2.default,{pageId:pageId}),document.getElementById('PageEditor'));}},{key:'pageInventory',value:function pageInventory(){_reactDom2.default.render(_react2.default.createElement(_PageInventory2.default,null),document.getElementById('PageInventory'));}}]);return Routes;}();Routes.homeRoute='home';exports.default=Routes;

},{"../Utils/Utils":16,"../Views/PageEditor":17,"../Views/PageInventory":18,"path":1,"react":"react","react-dom":"react-dom"}],16:[function(require,module,exports){
'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _Constants=require('./Constants');var _humaneJs=require('humane-js');var _humaneJs2=_interopRequireDefault(_humaneJs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Utils=function(){function Utils(){_classCallCheck(this,Utils);}_createClass(Utils,null,[{key:'getJSONP',value:function getJSONP(url,callback){var ref=window.document.getElementsByTagName('script')[0];var script=window.document.createElement('script');script.src=url+(url.indexOf('?')+1?'&':'?')+'callback='+callback;ref.parentNode.insertBefore(script,ref);script.onload=function(){this.remove();};}},{key:'quoteRegex',value:function quoteRegex(regex){return regex.replace(/([()[{*+.$^\\|?])/g,'\\$1');}},{key:'trimChar',value:function trimChar(str,chr){chr=Utils.quoteRegex(chr);return str.replace(new RegExp('^'+chr+'+|'+chr+'+$','g'),"");}},{key:'toQueryString',value:function toQueryString(obj,prefix){var str=[];for(var p in obj){if(obj.hasOwnProperty(p)){var k=prefix?prefix+"["+p+"]":p,v=obj[p];str.push((typeof v==='undefined'?'undefined':_typeof(v))=="object"?Utils.toQueryString(v,k):encodeURIComponent(k)+"="+encodeURIComponent(v));}}return str.join("&");}},{key:'getQueryParam',value:function getQueryParam(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return '';return decodeURIComponent(results[2].replace(/\+/g," "));}},{key:'isEmpty',value:function isEmpty(obj){if(obj==null)return true;if(obj.length>0)return false;if(obj.length===0)return true;if(Object.getOwnPropertyNames(obj).length>0)return false;return true;}},{key:'cleanForUrl',value:function cleanForUrl(str){return str.replace(/(^\-+|[^a-zA-Z0-9\/_| -]+|\-+$)/g,'').toLowerCase().replace(/[\/_| -]+/g,'-');}}]);return Utils;}();Utils.showMessage=_humaneJs2.default.spawn({addnCls:'bg-info text-info',waitForMove:true});Utils.showSuccess=_humaneJs2.default.spawn({addnCls:'bg-success text-success',waitForMove:true});Utils.showError=_humaneJs2.default.spawn({addnCls:'bg-danger text-danger',timeout:5000,clickToClose:true,waitForMove:true});exports.default=Utils;

},{"./Constants":13,"humane-js":"humane-js"}],17:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _moment=require('moment');var _moment2=_interopRequireDefault(_moment);var _reactMediumEditor=require('react-medium-editor');var _reactMediumEditor2=_interopRequireDefault(_reactMediumEditor);var _reactBootstrapDatetimepicker=require('react-bootstrap-datetimepicker');var _reactBootstrapDatetimepicker2=_interopRequireDefault(_reactBootstrapDatetimepicker);var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);var _SRDropzone=require('../Components/SRDropzone');var _SRDropzone2=_interopRequireDefault(_SRDropzone);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var categories=["Reviews","Recipes","How To's","Friday Food Fight","Where To Find...","Interviews"];var PageEditor=function(_React$Component){_inherits(PageEditor,_React$Component);function PageEditor(props){_classCallCheck(this,PageEditor);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PageEditor).call(this,props));_this.postTimestamp=null;_this.hasCustomUri=false;_this.isLocationSet=!!_Utils2.default.getQueryParam('id');_this.autosaveId=null;_this.state={authorized:true,publishing:false,processing:false,user:_this.props.user,page:{}};_this._savePage=_this._savePage.bind(_this);_this._onSubmitPage=_this._onSubmitPage.bind(_this);_this._onPublish=_this._onPublish.bind(_this);_this._onPostDateChange=_this._onPostDateChange.bind(_this);_this._onUpdatePageUri=_this._onUpdatePageUri.bind(_this);_this._onChangeUri=_this._onChangeUri.bind(_this);_this._onBlurUri=_this._onBlurUri.bind(_this);_this._onChangeTitle=_this._onChangeTitle.bind(_this);_this._onArticleChange=_this._onArticleChange.bind(_this);_this._onUserChange=_this._onUserChange.bind(_this);return _this;}_createClass(PageEditor,[{key:'componentWillMount',value:function componentWillMount(){this.stopUserSubscribe=_CurrentUser2.default.listen(this._onUserChange);var user=_CurrentUser2.default.get();this.setState({authorized:!!user.id,user:user});}},{key:'componentDidMount',value:function componentDidMount(){if(this.props.pageId){this._loadPage(this.props.pageId);}}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopUserSubscribe();}},{key:'renderProgressBar',value:function renderProgressBar(){var barClassName=this.state.publishing?'progress-bar-success':'progress-bar-info';return _react2.default.createElement('div',{className:'progress',style:{height:"auto"}},_react2.default.createElement('div',{className:"progress-bar "+barClassName+" progress-bar-striped active",role:'progressbar','aria-valuenow':'100','aria-valuemin':'0','aria-valuemax':'100',style:styles.progressBar},this.state.publishing?'Publishing...':'Saving...'));}},{key:'renderSubmitButton',value:function renderSubmitButton(){if(this.state.processing){return this.renderProgressBar();}return _react2.default.createElement('div',null,_react2.default.createElement('button',{type:'submit',className:'btn btn-lg btn-info',style:styles.button},_react2.default.createElement('span',{className:'glyphicon glyphicon-plus-sign'}),' Save Page'),_react2.default.createElement('button',{type:'button',className:'btn btn-lg btn-success',style:styles.button,onClick:this._onPublish},_react2.default.createElement('span',{className:'glyphicon glyphicon-ok-sign'}),' Publish Page'));}},{key:'render',value:function render(){var _this2=this;if(!this.state.authorized)return _react2.default.createElement('h4',null,'Must be logged in :(');var imageButton={name:'image',action:'image',aria:'image',tagNames:['img'],contentDefault:'<i class="glyphicon glyphicon-picture"></i>',contentFA:'<i class="fa fa-picture-o"></i>'};var editorOptions={placeholder:{text:"Article body..."},toolbar:{buttons:['bold','italic','anchor','h2','h3','quote','unorderedlist',imageButton,'removeFormat']}};return _react2.default.createElement('form',{ref:'addNewPage',className:'',role:'form',onSubmit:function onSubmit(e){return _this2._onSubmitPage(e);}},_react2.default.createElement('div',{className:'jumbotron',style:styles.uploaderRow},_react2.default.createElement('div',{className:'container'},_react2.default.createElement(_SRDropzone2.default,{style:styles.previewImage,activeStyle:styles.dragActive,multiple:false}))),_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-12'},_react2.default.createElement('h1',null,'Page Editor'))),_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-4'},_react2.default.createElement('p',{className:'lead'},_react2.default.createElement('em',null,'Data about data:'))),_react2.default.createElement('div',{className:'col-xs-8'},_react2.default.createElement('p',{className:'lead'},_react2.default.createElement('em',null,'Spit your knowledge game:')))),_react2.default.createElement('div',{className:'row'},_react2.default.createElement('div',{className:'col-xs-4'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement(_reactBootstrapDatetimepicker2.default,{size:'lg',defaultText:this.state.page.post_date||'',inputProps:{placeholder:"Article Date/Time"},format:'x',inputFormat:'YYYY-MM-DD hh:mm A',onChange:this._onPostDateChange})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'pageUri',type:'text',className:'form-control input-lg',placeholder:'Custom-Page-Url',value:this.state.page.uri,onChange:this._onChangeUri,onBlur:this._onBlurUri})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('select',{ref:'pageCategory',className:'form-control input-lg',value:this.state.page.category,onChange:function onChange(e){return _this2._setStatePage({category:e.target.value});}},_react2.default.createElement('option',{value:''},'— Choose Category —'),categories.map(function(category,index){return _react2.default.createElement('option',{key:'category-'+category,value:category},category);}))),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'previewImage',className:'form-control input-lg',type:'text',placeholder:'Preview Image URL',value:this.state.page.preview_image,onChange:function onChange(e){return _this2._setStatePage({preview_image:e.target.value});}})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'metaTitle',className:'form-control input-lg',type:'text',placeholder:'Enter meta title',value:this.state.page.meta_title,onChange:function onChange(e){return _this2._setStatePage({meta_title:e.target.value});}})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('textarea',{ref:'metaDescription',className:'form-control input-lg',rows:'2',placeholder:'Enter meta description',value:this.state.page.meta_description,onChange:function onChange(e){return _this2._setStatePage({meta_description:e.target.value});}})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'metaKeywords',className:'form-control input-lg',type:'text',placeholder:'Enter meta keywords',value:this.state.page.meta_keywords,onChange:function onChange(e){return _this2._setStatePage({meta_keywords:e.target.value});}}))),_react2.default.createElement('div',{className:'col-xs-8'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('input',{ref:'pageTitle',className:'form-control input-lg',type:'text',placeholder:'Headline',value:this.state.page.title,onChange:this._onChangeTitle})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement(_reactMediumEditor2.default,{style:styles.editor,className:'form-control input-lg',text:this.state.page.article,onChange:this._onArticleChange,options:editorOptions})),this.renderSubmitButton(),_react2.default.createElement('input',{ref:'pageId',type:'hidden',name:'pageId',value:this.state.page.id}))));}},{key:'_loadPage',value:function _loadPage(pageId){var _this3=this;_ApiRequest2.default.get('/pages/'+pageId).send(function(res){var page=res.data;_this3._setWindowLocation(page.id);_this3.setState({page:page});});}},{key:'_setWindowLocation',value:function _setWindowLocation(pageId){if(this.isLocationSet)return;var url=window.location.href+'?id='+pageId;history.pushState(null,document.querySelector("title").innerHTML,url);this.isLocationSet=true;}},{key:'_onPostDateChange',value:function _onPostDateChange(datetime){this.postTimestamp=datetime;this._onUpdatePageUri();}},{key:'_getPostDateFormat',value:function _getPostDateFormat(){var format=arguments.length<=0||arguments[0]===undefined?"YYYY-MM-DD HH:mm:00":arguments[0];var dateFormat=_moment2.default.unix(this.postTimestamp/1000).format(format);if(dateFormat=='Invalid date'){return "";}return dateFormat;}},{key:'_getPageData',value:function _getPageData(){var publish=arguments.length<=0||arguments[0]===undefined?false:arguments[0];return {title:this.refs.pageTitle.value,article:this.state.page.article,uri:this.state.page.uri||this.refs.pageUri.value,category:this.refs.pageCategory.value,preview_image:this.refs.previewImage.value,meta_title:this.refs.metaTitle.value,meta_description:this.refs.metaDescription.value,meta_keywords:this.refs.metaKeywords.value,post_date:this.postTimestamp?this._getPostDateFormat():null,status:publish};}},{key:'_onPublish',value:function _onPublish(e){this._onSubmitPage(e,true);}},{key:'_onSubmitPage',value:function _onSubmitPage(e){var publish=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(!!e)e.preventDefault();if(this.state.processing)return;this._savePage(publish,true);}},{key:'_savePage',value:function _savePage(){var _this4=this;var publish=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var explicitSave=arguments.length<=1||arguments[1]===undefined?false:arguments[1];explicitSave=explicitSave===true;if(explicitSave){this.setState({processing:true,publishing:publish});if(!!this.autosaveId){clearInterval(this.autosaveId);}}var endpoint=this.state.page.id?'/pages/'+this.state.page.id:'/pages';_ApiRequest2.default.post(endpoint).data(this._getPageData(publish)).send(function(res){var page=res.data;if(!explicitSave){_this4.state.page.id=page.id;return;}_Utils2.default.showSuccess(publish?'Page published!':'Page saved!');_this4._setWindowLocation(page.id);_this4.setState({processing:false,page:page});});}},{key:'_clearForm',value:function _clearForm(){this.refs.addNewPage.reset();this.postTimestamp=null;this.hasCustomUri=false;this.setState({processing:false,page:{}});}},{key:'_getUriFromTitle',value:function _getUriFromTitle(){var headline=this.refs.pageTitle.value||'untitled',postDate=this.postTimestamp?this._getPostDateFormat("-YYYY-MM-DD"):"";return _Utils2.default.cleanForUrl(headline+postDate);}},{key:'_onBlurUri',value:function _onBlurUri(e){if(!e.target.value){this.hasCustomUri=false;this._onUpdatePageUri();}}},{key:'_onChangeUri',value:function _onChangeUri(e){this.hasCustomUri=true;this._setStatePage({uri:this.refs.pageUri.value});return true;}},{key:'_onChangeTitle',value:function _onChangeTitle(e){var page={title:this.refs.pageTitle.value};if(!this.hasCustomUri){page.uri=this._getUriFromTitle();}this._setStatePage(page);}},{key:'_onUpdatePageUri',value:function _onUpdatePageUri(){var setTitle=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(this.hasCustomUri)return;this._setStatePage({uri:this._getUriFromTitle()});}},{key:'_onArticleChange',value:function _onArticleChange(article,medium){this._setStatePage({article:article});}},{key:'_setStatePage',value:function _setStatePage(newPage){var state=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];this._startAutosave();var page=this.state.page;Object.assign(page,newPage);Object.assign(state,{page:page});this.setState(state);}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({authorized:!!user.id});}},{key:'_startAutosave',value:function _startAutosave(){if(!this.autosaveId){this.autosaveId=setInterval(this._savePage,5000);}}}]);return PageEditor;}(_react2.default.Component);PageEditor.propTypes={pageId:_react2.default.PropTypes.number};PageEditor.defaultProps={pageId:null};exports.default=PageEditor;var styles={button:{width:'48%',margin:'0 1%'},editor:{height:"auto",minHeight:"20em"},uploaderRow:{paddingLeft:"15px",paddingRight:"15px",paddingTop:"30px",paddingBottom:"30px"},previewImage:{color:"rgb(50,50,50)",borderWidth:0,fontWeight:"bold",fontSize:30,textAlign:"center",minHeight:"auto",background:"transparent"},dragActive:{borderColor:'rgb(120,120,120)'},progressBar:{fontSize:"18px",padding:"10px 0",width:"100%"}};

},{"../Api/ApiRequest":5,"../Components/SRDropzone":8,"../Stores/CurrentUser":11,"../Utils/Utils":16,"moment":"moment","react":"react","react-bootstrap-datetimepicker":"react-bootstrap-datetimepicker","react-medium-editor":"react-medium-editor"}],18:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require('react');var _react2=_interopRequireDefault(_react);var _Utils=require('../Utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _ApiRequest=require('../Api/ApiRequest');var _ApiRequest2=_interopRequireDefault(_ApiRequest);var _CurrentUser=require('../Stores/CurrentUser');var _CurrentUser2=_interopRequireDefault(_CurrentUser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PageInventory=function(_React$Component){_inherits(PageInventory,_React$Component);function PageInventory(props){_classCallCheck(this,PageInventory);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PageInventory).call(this,props));_this.state={loading:true,authorized:true,user:_this.props.user,pages:[]};_this._onUserChange=_this._onUserChange.bind(_this);return _this;}_createClass(PageInventory,[{key:'componentWillMount',value:function componentWillMount(){this.stopUserSubscribe=_CurrentUser2.default.listen(this._onUserChange);this._loadPages();var user=_CurrentUser2.default.get();this.setState({authorized:!!user.id,user:user});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.stopUserSubscribe();}},{key:'renderRow',value:function renderRow(page,index){return _react2.default.createElement('tr',{key:'page-'+index},_react2.default.createElement('td',null,_react2.default.createElement('a',{href:"/admin/page-editor?id="+page.id},page.id)),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:"/admin/page-editor?id="+page.id},page.title)),_react2.default.createElement('td',null,page.status?'Published':''));}},{key:'render',value:function render(){if(this.state.loading)return _react2.default.createElement('h4',null,'Loading...');if(!this.state.authorized)return _react2.default.createElement('h4',null,'Must be logged in :(');if(this.state.pages.length===0){return _react2.default.createElement('h4',null,'No pages available :(');}return _react2.default.createElement('table',{className:'table table-striped table-hover'},_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',null,'ID'),_react2.default.createElement('th',null,'Title'),_react2.default.createElement('th',null,'Status')),this.state.pages.map(this.renderRow.bind(this))));}},{key:'_loadPages',value:function _loadPages(){var _this2=this;_ApiRequest2.default.get('/pages').send(function(res){_this2.setState({loading:false,pages:res.data});},function(){return _this2.setState({loading:false});});}},{key:'_onUserChange',value:function _onUserChange(user){this.setState({authorized:!!user.id});}}]);return PageInventory;}(_react2.default.Component);PageInventory.propTypes={};PageInventory.defaultProps={};exports.default=PageInventory;var styles={container:{}};

},{"../Api/ApiRequest":5,"../Stores/CurrentUser":11,"../Utils/Utils":16,"react":"react"}],19:[function(require,module,exports){
'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _Initialize=require('./Utils/Initialize');var _Initialize2=_interopRequireDefault(_Initialize);var _Routes=require('./Utils/Routes');var _Routes2=_interopRequireDefault(_Routes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}_Initialize2.default.onLoad();_Routes2.default.current(window.location.pathname);

},{"./Utils/Initialize":14,"./Utils/Routes":15,"react":"react","react-dom":"react-dom"}]},{},[19])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9rZXlNaXJyb3IvaW5kZXguanMiLCJyZXNvdXJjZXMvanMvQXBpL0FjY2Vzc1Rva2VuLmpzIiwicmVzb3VyY2VzL2pzL0FwaS9BcGlSZXF1ZXN0LmpzIiwicmVzb3VyY2VzL2pzL0FwaS9BcGlVdGlscy5qcyIsInJlc291cmNlcy9qcy9Db21wb25lbnRzL0xvZ2luRm9ybS5qcyIsInJlc291cmNlcy9qcy9Db21wb25lbnRzL1NSRHJvcHpvbmUuanMiLCJyZXNvdXJjZXMvanMvQ29tcG9uZW50cy9Vc2VyTWVudS5qcyIsInJlc291cmNlcy9qcy9Db21wb25lbnRzL1VzZXJOYXYuanMiLCJyZXNvdXJjZXMvanMvU3RvcmVzL0N1cnJlbnRVc2VyLmpzIiwicmVzb3VyY2VzL2pzL1V0aWxzL0FjdGlvbnMuanMiLCJyZXNvdXJjZXMvanMvVXRpbHMvQ29uc3RhbnRzLmpzIiwicmVzb3VyY2VzL2pzL1V0aWxzL0luaXRpYWxpemUuanMiLCJyZXNvdXJjZXMvanMvVXRpbHMvUm91dGVzLmpzIiwicmVzb3VyY2VzL2pzL1V0aWxzL1V0aWxzLmpzIiwicmVzb3VyY2VzL2pzL1ZpZXdzL1BhZ2VFZGl0b3IuanMiLCJyZXNvdXJjZXMvanMvVmlld3MvUGFnZUludmVudG9yeS5qcyIsInJlc291cmNlcy9qcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2hPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O3U3QkMvQ3FCLDhJQUtSLE9B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QVcsVUFBWCxDQUF1QixPQUFPLCtEQUFQLENBQTdCLEdBRUksS0FBSyxLQUFMLENBQVcsS0FBWCxDQUFpQixNQUFqQixHQUE0QixDQUE1QixDQUErQixDQUNqQyxPQUFPLGdFQUFQLENBRGlDLENBQW5DLE9BS0UsdUNBQU8sVUFBVSxpQ0FBVixDQUFQLENBQ0UsMkNBQ0Usd0NBQ0UsNkNBREYsQ0FFRSxnREFGRixDQUdFLGlEQUhGLENBREYsQ0FNRyxLQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLEdBQWpCLENBQXFCLEtBQUssU0FBTCxDQUFlLElBQWYsQ0FBb0IsSUFBcEIsQ0FBckIsQ0FOSCxDQURGLENBREYsQ0FSTyxnREFzQkksaUJBQ1gscUJBQVcsR0FBWCxDQUFlLFFBQWYsRUFDRyxJQURILENBQ1EsYUFBTyxDQUNYLE9BQUssUUFBTCxDQUFjLENBQ1osUUFBUyxLQUFULENBQ0EsTUFBTyxJQUFJLElBQUosQ0FGVCxFQURXLENBQVAsQ0FLSCxrQkFBTSxPQUFLLFFBQUwsQ0FBYyxDQUFDLFFBQVMsS0FBVCxDQUFmLEdBQU4sQ0FOTCxDQURXLHFEQVVDLEtBQU0sQ0FDbEIsS0FBSyxRQUFMLENBQWMsQ0FBQyxXQUFZLENBQUMsQ0FBRSxLQUFLLEVBQUwsQ0FBOUIsRUFEa0IsWUExRUQsZ0JBQXNCLGdCQUFNLFNBQU4sRUFBdEIsY0FDWixVQUFZLEdBREEsY0FFWixhQUFlLG1CQUZILGNBZ0ZyQixJQUFJLE9BQVMsQ0FDWCxVQUFXLEVBQVgsQ0FERTs7O2liQy9FSixxQkFBVyxNQUFYLEdBR0EsaUJBQU8sT0FBUCxDQUFlLE9BQU8sUUFBUCxDQUFnQixRQUFoQixDQUFmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyByZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggYXJyYXkgd2l0aCBkaXJlY3RvcnkgbmFtZXMgdGhlcmVcbi8vIG11c3QgYmUgbm8gc2xhc2hlcywgZW1wdHkgZWxlbWVudHMsIG9yIGRldmljZSBuYW1lcyAoYzpcXCkgaW4gdGhlIGFycmF5XG4vLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcbi8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocylcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uXG4vLyAncm9vdCcgaXMganVzdCBhIHNsYXNoLCBvciBub3RoaW5nLlxudmFyIHNwbGl0UGF0aFJlID1cbiAgICAvXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLztcbnZhciBzcGxpdFBhdGggPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59O1xuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG59O1xuXG4vLyBwYXRoLm5vcm1hbGl6ZShwYXRoKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5qb2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59O1xuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlbGF0aXZlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gZXhwb3J0cy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG5cbiAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHtcbiAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG4gIH1cblxuICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gIH1cblxuICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuXG4gIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XG59O1xuXG5leHBvcnRzLnNlcCA9ICcvJztcbmV4cG9ydHMuZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCksXG4gICAgICByb290ID0gcmVzdWx0WzBdLFxuICAgICAgZGlyID0gcmVzdWx0WzFdO1xuXG4gIGlmICghcm9vdCAmJiAhZGlyKSB7XG4gICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgcmV0dXJuICcuJztcbiAgfVxuXG4gIGlmIChkaXIpIHtcbiAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3QgKyBkaXI7XG59O1xuXG5cbmV4cG9ydHMuYmFzZW5hbWUgPSBmdW5jdGlvbihwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz9cbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn07XG5cblxuZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gc3BsaXRQYXRoKHBhdGgpWzNdO1xufTtcblxuZnVuY3Rpb24gZmlsdGVyICh4cywgZikge1xuICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGYoeHNbaV0sIGksIHhzKSkgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4XG52YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYidcbiAgICA/IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfVxuICAgIDogZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikge1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDtcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG4gICAgfVxuO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTQgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhbiBlbnVtZXJhdGlvbiB3aXRoIGtleXMgZXF1YWwgdG8gdGhlaXIgdmFsdWUuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKlxuICogICB2YXIgQ09MT1JTID0ga2V5TWlycm9yKHtibHVlOiBudWxsLCByZWQ6IG51bGx9KTtcbiAqICAgdmFyIG15Q29sb3IgPSBDT0xPUlMuYmx1ZTtcbiAqICAgdmFyIGlzQ29sb3JWYWxpZCA9ICEhQ09MT1JTW215Q29sb3JdO1xuICpcbiAqIFRoZSBsYXN0IGxpbmUgY291bGQgbm90IGJlIHBlcmZvcm1lZCBpZiB0aGUgdmFsdWVzIG9mIHRoZSBnZW5lcmF0ZWQgZW51bSB3ZXJlXG4gKiBub3QgZXF1YWwgdG8gdGhlaXIga2V5cy5cbiAqXG4gKiAgIElucHV0OiAge2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9XG4gKiAgIE91dHB1dDoge2tleTE6IGtleTEsIGtleTI6IGtleTJ9XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9ialxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG52YXIga2V5TWlycm9yID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgdmFyIGtleTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlNaXJyb3IoLi4uKTogQXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuJyk7XG4gIH1cbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJldFtrZXldID0ga2V5O1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcjtcbiIsImltcG9ydCBBcGlSZXF1ZXN0IGZyb20gJy4vQXBpUmVxdWVzdCc7XG5pbXBvcnQge0NvbmZpZ30gZnJvbSAnLi4vVXRpbHMvQ29uc3RhbnRzJztcblxuLyoqXG4gKiBBcHBsaWNhdGlvbi13aWRlIGFjY2Vzc190b2tlbiBzdG9yYWdlL3JldHJpZXZhbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2Nlc3NUb2tlbiB7XG4gIC8qKlxuICAgKiBHZXQgdGhlIEFjY2Vzc1Rva2VuIGFuZCBsb2NhbGx5IGNhY2hlIGl0IHRvIGF2b2lkIHVuZWNjZXNzYXJ5IGZldGNoZXMuXG4gICAqIEByZXR1cm5zIFByb21pc2VcbiAgICovXG4gIHN0YXRpYyBnZXQodmVyaWZ5KSB7XG4gICAgaWYgKHR5cGVvZiB2ZXJpZnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2ZXJpZnkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKEFjY2Vzc1Rva2VuLl9hY2Nlc3NUb2tlbikge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShBY2Nlc3NUb2tlbi5fYWNjZXNzVG9rZW4pO1xuICAgICAgfVxuXG4gICAgICBsZXQgYWNjZXNzX3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQ29uZmlnLlN0b3JhZ2UuQUNDRVNTX1RPS0VOKTtcblxuICAgICAgaWYgKGFjY2Vzc190b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICBBY2Nlc3NUb2tlbi5jbGVhcigpO1xuICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcih7Y29kZTogNDAzLCBtZXNzYWdlOiAnVW5hdXRob3JpemVkJ30pKTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgKHZlcmlmeSkge1xuICAgICAgLy8gICBBcGlSZXF1ZXN0LnBvc3QoJy9zZXNzaW9uL3ZlcmlmeScpXG4gICAgICAvLyAgICAgLnNldEhhbmRsZUVycm9ycyhmYWxzZSlcbiAgICAgIC8vICAgICAuc2V0SWdub3JlTmV0d29ya0Vycm9yKHRydWUpXG4gICAgICAvLyAgICAgLnNlbmQoKCkgPT4ge1xuICAgICAgLy8gICAgICAgQWNjZXNzVG9rZW4uc2V0KGFjY2Vzc190b2tlbiwgdHJ1ZSkudGhlbihyZXNvbHZlKTtcbiAgICAgIC8vICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gVmVyaWZpY2F0aW9uIEVycm9yOiAnLCBlcnIpO1xuICAgICAgLy8gICAgICAgQWNjZXNzVG9rZW4uY2xlYXIoKTtcbiAgICAgIC8vICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgLy8gICAgIH0pO1xuICAgICAgLy8gfVxuXG4gICAgICBBY2Nlc3NUb2tlbi5zZXQoYWNjZXNzX3Rva2VuLCB0cnVlKS50aGVuKHJlc29sdmUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYWNjZXNzX3Rva2VuIGluIHRoZSBsb2NhbCBjYWNoZSwgYW5kIChieSBkZWZhdWx0KSBpbiBsb2NhbFN0b3JhZ2UuXG4gICAqIEBwYXJhbSBhY2Nlc3NfdG9rZW5cbiAgICogQHBhcmFtIGRvbnRVcGRhdGVTdG9yYWdlXG4gICAqL1xuICBzdGF0aWMgc2V0KGFjY2Vzc190b2tlbiwgZG9udFVwZGF0ZVN0b3JhZ2UpIHtcbiAgICBBY2Nlc3NUb2tlbi5fYWNjZXNzVG9rZW4gPSBhY2Nlc3NfdG9rZW47XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKCEgZG9udFVwZGF0ZVN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ29uZmlnLlN0b3JhZ2UuQUNDRVNTX1RPS0VOLCBhY2Nlc3NfdG9rZW4pO1xuICAgICAgfVxuXG4gICAgICByZXNvbHZlKGFjY2Vzc190b2tlbik7XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGFjY2Vzc190b2tlbiBmcm9tIGxvY2FsIGNhY2hlIGFuZCBsb2NhbFN0b3JhZ2VcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBzdGF0aWMgY2xlYXIoKSB7XG4gICAgQWNjZXNzVG9rZW4uX2FjY2Vzc1Rva2VuID0gbnVsbDtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oQ29uZmlnLlN0b3JhZ2UuQUNDRVNTX1RPS0VOKTtcbiAgfVxufSIsImltcG9ydCBVdGlscyBmcm9tICcuLi9VdGlscy9VdGlscyc7XG5pbXBvcnQgQWN0aW9ucyBmcm9tICcuLi9VdGlscy9BY3Rpb25zJztcbmltcG9ydCBBcGlVdGlscyBmcm9tICcuL0FwaVV0aWxzJztcbmltcG9ydCBBY2Nlc3NUb2tlbiBmcm9tICcuL0FjY2Vzc1Rva2VuJztcbmltcG9ydCBSZXF1ZXN0IGZyb20gJ3N1cGVyYWdlbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGlSZXF1ZXN0IHtcblxuICBzdGF0aWMgYWN0aXZlUmVxdWVzdHMgPSAwO1xuXG4gIHN0YXRpYyB1cGRhdGVOZXR3b3JrSW5kaWNhdG9yKGRpciA9ICctJykge1xuICAgIGlmIChkaXIgPT09ICcrJykge1xuICAgICAgQXBpUmVxdWVzdC5hY3RpdmVSZXF1ZXN0cysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBBcGlSZXF1ZXN0LmFjdGl2ZVJlcXVlc3RzLS07XG4gICAgfVxuXG4gICAgaWYgKEFwaVJlcXVlc3QuYWN0aXZlUmVxdWVzdHMgPD0gMCkge1xuICAgICAgQXBpUmVxdWVzdC5hY3RpdmVSZXF1ZXN0cyA9IDA7XG4gICAgICAvLyBoaWRlIG5ldHdvcmsgYWN0aXZpdHkgaW5kaWNhdG9yXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNob3cgbmV0d29yayBhY3Rpdml0eSBpbmRpY2F0b3JcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIEFQSSBSZXF1ZXN0IE9iamVjdFxuICAgKiBAcGFyYW0gbWV0aG9kIHtzdHJpbmd9IGdldHxwb3N0fHB1dHxkZWx8aGVhZHxvcHRpb25zIChvcHRpb25hbCwgZGVmYXVsdDogZ2V0KVxuICAgKiBAcGFyYW0gZW5kcG9pbnQge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBjcmVhdGUobWV0aG9kLCBlbmRwb2ludCkge1xuICAgIHJldHVybiBuZXcgdGhpcyhtZXRob2QsIGVuZHBvaW50KTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVBbm9uKG1ldGhvZCwgZW5kcG9pbnQpIHtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyB0aGlzKG1ldGhvZCwgZW5kcG9pbnQpO1xuICAgIHJlcXVlc3Quc2V0QW5vbnltb3VzKHRydWUpO1xuXG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH1cblxuICBzdGF0aWMgZ2V0KGVuZHBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKCdnZXQnLCBlbmRwb2ludCk7XG4gIH1cblxuICBzdGF0aWMgcG9zdChlbmRwb2ludCkge1xuICAgIHJldHVybiBuZXcgdGhpcygncG9zdCcsIGVuZHBvaW50KTtcbiAgfVxuXG4gIHN0YXRpYyBwdXQoZW5kcG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoJ3B1dCcsIGVuZHBvaW50KTtcbiAgfVxuXG4gIHN0YXRpYyBkZWxldGUoZW5kcG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoJ2RlbGV0ZScsIGVuZHBvaW50KTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG1ldGhvZCwgZW5kcG9pbnQpIHtcbiAgICBpZiAoZW5kcG9pbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZW5kcG9pbnQgPSBtZXRob2Q7XG4gICAgICBtZXRob2QgPSAnZ2V0JztcbiAgICB9IGVsc2Uge1xuICAgICAgbWV0aG9kID0gbWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGVuZHBvaW50LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3Qgc2V0IHF1ZXJ5IHN0cmluZyBkYXRhIHZpYSB0aGUgYHF1ZXJ5YCBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHRoaXMuaXNBbm9ueW1vdXMgPSBmYWxzZTtcbiAgICB0aGlzLmhhbmRsZUVycm9ycyA9IHRydWU7XG4gICAgdGhpcy5pZ25vcmVOZXR3b3JrRXJyb3IgPSBmYWxzZTtcbiAgICB0aGlzLnVybCA9IEFwaVV0aWxzLmJ1aWxkVXJsKGVuZHBvaW50KTtcbiAgICB0aGlzLl9zZXR1cFJlcXVlc3QobWV0aG9kKTtcbiAgfVxuXG4gIHNldEFub255bW91cyhpc0Fub255bW91cykge1xuICAgIHRoaXMuaXNBbm9ueW1vdXMgPSBpc0Fub255bW91cztcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0SGFuZGxlRXJyb3JzKGhhbmRsZUVycm9ycykge1xuICAgIHRoaXMuaGFuZGxlRXJyb3JzID0gaGFuZGxlRXJyb3JzO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRJZ25vcmVOZXR3b3JrRXJyb3IoaWdub3JlTmV0d29ya0Vycm9yKSB7XG4gICAgdGhpcy5pZ25vcmVOZXR3b3JrRXJyb3IgPSBpZ25vcmVOZXR3b3JrRXJyb3I7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmZpZ3VyZShjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMucmVxdWVzdCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNlbmQoY2FsbGJhY2ssIGVyckNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuaXNBbm9ueW1vdXMpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZW5kSXQoY2FsbGJhY2ssIGVyckNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHdpdGggcHJvcGVyIGF1dGhlbnRpY2F0aW9uOlxuICAgIEFjY2Vzc1Rva2VuLmdldCgpXG4gICAgICAudGhlbih0b2tlbiA9PiB7XG4gICAgICAgIHRoaXMucXVlcnkoe3Rva2VufSk7XG4gICAgICAgIHRoaXMuX3NlbmRJdChjYWxsYmFjaywgZXJyQ2FsbGJhY2spO1xuICAgICAgfSlcbiAgICAgIC8vIC5jYXRjaCgoKSA9PiBBY3Rpb25zLmxvZ291dCgpKTtcbiAgfVxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqIEhlbHBlci9XcmFwcGVyIEZ1bmN0aW9ucyAqXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIGRhdGEoZGF0YSkge1xuICAgIHRoaXMucmVxdWVzdEJvZHkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcXVlcnkoZGF0YSkge1xuICAgIHRoaXMucXVlcnlEYXRhID0gT2JqZWN0LmFzc2lnbih0aGlzLnF1ZXJ5RGF0YSwgZGF0YSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGhlYWRlcihoZWFkZXIsIHZhbHVlKSB7XG4gICAgdGhpcy5yZXF1ZXN0SGVhZGVyc1toZWFkZXJdID0gdmFsdWU7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMucmVxdWVzdEhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHRoaXMucmVxdWVzdEhlYWRlcnMsIGhlYWRlcnMpXG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9zZXR1cFJlcXVlc3QobWV0aG9kKSB7XG4gICAgdGhpcy5yZXF1ZXN0TWV0aG9kID0gKCEgbWV0aG9kKSA/ICdnZXQnIDogbWV0aG9kO1xuICAgIHRoaXMucmVxdWVzdEhlYWRlcnMgPSB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9O1xuXG4gICAgdGhpcy5xdWVyeURhdGEgPSB7fTtcbiAgICB0aGlzLnJlcXVlc3RCb2R5ID0ge307XG4gICAgdGhpcy5yZXF1ZXN0ID0gbnVsbDtcbiAgfVxuXG4gIF9zZW5kSXQoY2FsbGJhY2ssIGVyckNhbGxiYWNrKSB7XG4gICAgQXBpUmVxdWVzdC51cGRhdGVOZXR3b3JrSW5kaWNhdG9yKCcrJyk7XG5cbiAgICB0aGlzLnJlcXVlc3QgPSBSZXF1ZXN0W3RoaXMucmVxdWVzdE1ldGhvZF0odGhpcy51cmwpO1xuXG4gICAgaWYgKCEgVXRpbHMuaXNFbXB0eSh0aGlzLnF1ZXJ5RGF0YSkpIHtcbiAgICAgIHRoaXMucmVxdWVzdC5xdWVyeSh0aGlzLnF1ZXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKCEgVXRpbHMuaXNFbXB0eSh0aGlzLnJlcXVlc3RIZWFkZXJzKSkge1xuICAgICAgdGhpcy5yZXF1ZXN0LnNldCh0aGlzLnJlcXVlc3RIZWFkZXJzKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlcXVlc3RcbiAgICAgIC5zZW5kKHRoaXMucmVxdWVzdEJvZHkpXG4gICAgICAvLy53aXRoQ3JlZGVudGlhbHMoKVxuICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgQXBpUmVxdWVzdC51cGRhdGVOZXR3b3JrSW5kaWNhdG9yKCk7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAvLyBJIGtub3cgd2hlbiB0aGF0IGhvdCBsaW5lIGJsaW5nOlxuICAgICAgICAgIGNhbGxiYWNrKHJlcy5ib2R5KTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMudW5hdXRob3JpemVkKSB7XG4gICAgICAgICAgLy8gVW5hdXRob3JpemVkIHJlcXVlc3Q6XG4gICAgICAgICAgQWNjZXNzVG9rZW4uY2xlYXIoKTtcbiAgICAgICAgICBBY3Rpb25zLm5vYXV0aCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBPSzpcbiAgICAgICAgICBpZiAodGhpcy5oYW5kbGVFcnJvcnMpIHtcbiAgICAgICAgICAgIEFwaVV0aWxzLmhhbmRsZUVycm9yKHJlcy5ib2R5LmVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ2FsbCB0aGUgZXJyb3IgY2FsbGJhY2sgc28gdmlld3MgY2FuIHJlc3BvbmQ6XG4gICAgICAgICAgaWYgKGVyckNhbGxiYWNrKSBlcnJDYWxsYmFjayhyZXMuYm9keS5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IFV0aWxzIGZyb20gJy4uL1V0aWxzL1V0aWxzJztcbmltcG9ydCB7Q29uZmlnfSBmcm9tICcuLi9VdGlscy9Db25zdGFudHMnO1xuXG5jb25zdCBERUZBVUxUX0VSUk9SID0gJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB5b3VyIHJlcXVlc3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGlVdGlscyB7XG5cbiAgc3RhdGljIGhhbmRsZUVycm9yKGVycikge1xuICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgIFV0aWxzLnNob3dFcnJvcihlcnIubWVzc2FnZSB8fCBERUZBVUxUX0VSUk9SKTtcbiAgfVxuXG4gIHN0YXRpYyBoYW5kbGVOZXR3b3JrRXJyb3IoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKGVycik7XG4gICAgLy8gc2hvdyBvZmZsaW5lIG1vZGVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gZW5kcG9pbnRcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBidWlsZFVybChlbmRwb2ludCkge1xuICAgICAgZW5kcG9pbnQgPSBVdGlscy50cmltQ2hhcihlbmRwb2ludCwgJy8nKTtcblxuICAgICAgaWYgKGVuZHBvaW50LmluZGV4T2YoQ29uZmlnLmFwaV9yb290KSA9PT0gLTEpIHtcbiAgICAgICAgICBlbmRwb2ludCA9IENvbmZpZy5hcGlfcm9vdCArIGVuZHBvaW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZW5kcG9pbnQ7XG4gIH1cblxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9ucyBmcm9tICcuLi9VdGlscy9BY3Rpb25zJztcbmltcG9ydCBBcGlSZXF1ZXN0IGZyb20gJy4uL0FwaS9BcGlSZXF1ZXN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naW5Gb3JtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHt9O1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge307XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge307XG5cbiAgICB0aGlzLm9uU3VibWl0ID0gdGhpcy5vblN1Ym1pdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBjbGFzc05hbWU9XCJuYXZiYXItZm9ybSBuYXZiYXItcmlnaHRcIiByb2xlPVwiZm9ybVwiIG9uU3VibWl0PXt0aGlzLm9uU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCIgc3R5bGU9e3N0eWxlcy5mb3JtRmllbGR9PlxuICAgICAgICAgIDxpbnB1dCByZWY9XCJ1c2VybmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJ1c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIiBzdHlsZT17c3R5bGVzLmZvcm1GaWVsZH0+XG4gICAgICAgICAgPGlucHV0IHJlZj1cInBhc3N3b3JkXCIgdHlwZT1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJwYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIj5TaWduIGluPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfVxuXG4gIG9uU3VibWl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICB1c2VybmFtZTogdGhpcy5yZWZzLnVzZXJuYW1lLnZhbHVlLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMucmVmcy5wYXNzd29yZC52YWx1ZSxcbiAgICB9O1xuXG4gICAgQWN0aW9ucy5sb2dpbihkYXRhKTtcbiAgfVxufVxuXG52YXIgc3R5bGVzID0ge1xuICBmb3JtRmllbGQ6IHtcbiAgICBtYXJnaW46IDMsXG4gIH0sXG59OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRHJvcHpvbmUgZnJvbSAnZHJvcHpvbmUnO1xuaW1wb3J0IHtDb25maWd9IGZyb20gJy4uL1V0aWxzL0NvbnN0YW50cyc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vVXRpbHMvVXRpbHMnO1xuaW1wb3J0IEFwaVV0aWxzIGZyb20gJy4uL0FwaS9BcGlVdGlscyc7XG5pbXBvcnQgQWNjZXNzVG9rZW4gZnJvbSAnLi4vQXBpL0FjY2Vzc1Rva2VuJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU1JEcm9wem9uZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgc3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgYWN0aXZlU3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgbXVsdGlwbGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICB9O1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIHN0eWxlOiB7fSxcbiAgICBhY3RpdmVTdHlsZToge30sXG4gICAgbXVsdGlwbGU6IHRydWUsXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLmRyb3B6b25lID0gbnVsbDtcblxuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIEFjY2Vzc1Rva2VuLmdldCgpXG4gICAgICAudGhlbih0b2tlbiA9PiB7XG4gICAgICAgIGxldCBkek9wdGlvbnMgPSB7XG4gICAgICAgICAgdXJsOiBBcGlVdGlscy5idWlsZFVybCgnL3VwbG9hZC1maWxlP3Rva2VuPScrdG9rZW4pLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogXCI8aDM+RHJhZ29uIERyb3AgSW1hZ2VzPC9oMz48cD4gb3IgQ2xpY2sgdG8gVXBsb2FkPC9wPlwiLFxuICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB0aGlzLm9uKFwic3VjY2Vzc1wiLCAoZmlsZSwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMub24oXCJhZGRlZGZpbGVcIiwgZmlsZSA9PiB7XG4gICAgICAgICAgICAgIC8vIEFwcGVuZCBiYXNlVXJsIHRvIHRoZSBmaWxlIHByZXZpZXcgZWxlbWVudC5cbiAgICAgICAgICAgICAgbGV0IGR6TmFtZSA9IGZpbGUucHJldmlld0VsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZHotbmFtZV0nKVxuICAgICAgICAgICAgICBkek5hbWUuaW5uZXJIVE1MID0gQ29uZmlnLnVwbG9hZHNfZGlyICsgZmlsZS5uYW1lO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRyb3B6b25lID0gbmV3IERyb3B6b25lKHRoaXMucmVmcy5kcm9wem9uZSwgZHpPcHRpb25zKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHJlZj1cImRyb3B6b25lXCIgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9IGNsYXNzTmFtZT1cImRyb3B6b25lXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9ucyBmcm9tICcuLi9VdGlscy9BY3Rpb25zJztcbmltcG9ydCBDdXJyZW50VXNlciBmcm9tICcuLi9TdG9yZXMvQ3VycmVudFVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgdXNlcjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgfTtcblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIHVzZXI6IHt9LFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHVzZXI6IHRoaXMucHJvcHMudXNlcixcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuc3RvcExpc3RlbmluZyA9IEN1cnJlbnRVc2VyLmxpc3Rlbih0aGlzLl9vblVzZXJDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHt1c2VyOiBDdXJyZW50VXNlci5nZXQoKX0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wTGlzdGVuaW5nKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2YmFyLW5hdiBuYXZiYXItcmlnaHRcIj5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duXCI+XG4gICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgcm9sZT1cImJ1dHRvblwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS51c2VyLnVzZXJuYW1lfVxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FyZXRcIj48L3NwYW4+XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIvYWRtaW4vcGFnZS1lZGl0b3JcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLXBsdXMtc2lnblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPXtzdHlsZXMuaWNvbn0+PC9zcGFuPlxuICAgICAgICAgICAgICAgIEFkZCBQYWdlXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIvYWRtaW4vcGFnZS1pbnZlbnRvcnlcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLWVkaXRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiBzdHlsZT17c3R5bGVzLmljb259Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICBFZGl0IFNvbWV0aGluZ1xuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIHJvbGU9XCJzZXBhcmF0b3JcIiBjbGFzc05hbWU9XCJkaXZpZGVyXCI+PC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXJcIj5NeSBBY2NvdW50PC9saT5cbiAgICAgICAgICAgIDxsaT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMuX29uTG9nb3V0UHJlc3N9PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLWxvZy1vdXRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiBzdHlsZT17c3R5bGVzLmljb259Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgU2lnbiBPdXRcbiAgICAgICAgICAgIDwvYT48L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgICk7XG4gIH1cblxuICBfb25Mb2dvdXRQcmVzcyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIEFjdGlvbnMubG9nb3V0KCk7XG4gIH1cblxuICBfb25Vc2VyQ2hhbmdlKHVzZXIpIHtcbiAgICB0aGlzLnNldFN0YXRlKHt1c2VyfSk7XG4gIH1cbn1cblxudmFyIHN0eWxlcyA9IHtcbiAgaWNvbjoge1xuICAgIHBhZGRpbmdSaWdodDogJzVweCcsXG4gIH0sXG59OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9ucyBmcm9tICcuLi9VdGlscy9BY3Rpb25zJztcbmltcG9ydCBDdXJyZW50VXNlciBmcm9tICcuLi9TdG9yZXMvQ3VycmVudFVzZXInO1xuaW1wb3J0IExvZ2luRm9ybSBmcm9tICcuL0xvZ2luRm9ybSc7XG5pbXBvcnQgVXNlck1lbnUgZnJvbSAnLi9Vc2VyTWVudSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge307XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7fTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgdXNlcjoge30sXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmcgPSBDdXJyZW50VXNlci5saXN0ZW4odGhpcy5fb25Vc2VyQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc3RvcEF1dGhMaXN0ZW4gPSBBY3Rpb25zLm5vYXV0aC5saXN0ZW4oKCkgPT4gdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHt1c2VyOiBDdXJyZW50VXNlci5nZXQoKX0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wTGlzdGVuaW5nKCk7XG4gICAgdGhpcy5zdG9wQXV0aExpc3RlbigpO1xuICB9XG5cbiAgcmVuZGVyTG9naW5Gb3JtKCkge1xuICAgIHJldHVybiA8TG9naW5Gb3JtIC8+O1xuICB9XG5cbiAgcmVuZGVyVXNlck1lbnUoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxVc2VyTWVudSB1c2VyPXt0aGlzLnN0YXRlLnVzZXJ9IC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICAgIHt0aGlzLnN0YXRlLnVzZXIuaWQgPyB0aGlzLnJlbmRlclVzZXJNZW51KCkgOiB0aGlzLnJlbmRlckxvZ2luRm9ybSgpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIF9vblVzZXJDaGFuZ2UodXNlcikge1xuICAgIHRoaXMuc2V0U3RhdGUoe3VzZXIsIGxvYWRpbmc6IGZhbHNlfSk7XG4gIH1cblxufVxuXG52YXIgc3R5bGVzID0ge1xuICBjb250YWluZXI6IHtcbiAgICBoZWlnaHQ6ICc1NnB4JyxcbiAgfSxcbiAgdXNlcm5hbWU6IHtcbiAgICBtYXJnaW46IDMsXG4gICAgbGluZUhlaWdodDogJzQ0cHgnLFxuICAgIGNvbG9yOiAnd2hpdGUnLFxuICB9LFxufTsiLCJpbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5cbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL1V0aWxzL0FjdGlvbnMnO1xuaW1wb3J0IHtDb25maWd9IGZyb20gJy4uL1V0aWxzL0NvbnN0YW50cyc7XG5pbXBvcnQgQXBpUmVxdWVzdCBmcm9tICcuLi9BcGkvQXBpUmVxdWVzdCc7XG5pbXBvcnQgQXBpVXRpbHMgZnJvbSAnLi4vQXBpL0FwaVV0aWxzJztcbmltcG9ydCBBY2Nlc3NUb2tlbiBmcm9tICcuLi9BcGkvQWNjZXNzVG9rZW4nO1xuXG5jb25zdCBkZWZhdWx0VXNlciA9IHtcbiAgaWQ6IG51bGwsXG4gIHVzZXJuYW1lOiBudWxsLFxuICBzZXNzaW9uX2lkOiBudWxsLFxufTtcblxuLy8gY29weSBkZWZhdWx0VXNlciB0byBjdXJyZW50VXNlclxubGV0IGN1cnJlbnRVc2VyID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFVzZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBSZWZsdXguY3JlYXRlU3RvcmUoe1xuICAvLyB0aGlzIHdpbGwgc2V0IHVwIGxpc3RlbmVycyB0byBhbGwgcHVibGlzaGVycyBpbiBBY3Rpb25zLCB1c2luZyBvbktleW5hbWUgKG9yIGtleW5hbWUpIGFzIGNhbGxiYWNrc1xuICBsaXN0ZW5hYmxlczogW0FjdGlvbnNdLFxuXG4gIC8vIEluaXRpYWwgc2V0dXBcbiAgaW5pdCgpIHtcbiAgICAvLyBubyBvcFxuICB9LFxuXG4gIGdldCgpIHtcbiAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gIH0sXG5cbiAgdXBkYXRlKHVzZXJVcGRhdGVzKSB7XG4gICAgY3VycmVudFVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCB1c2VyVXBkYXRlcyk7XG4gICAgdGhpcy50cmlnZ2VyKGN1cnJlbnRVc2VyKTtcbiAgfSxcblxuICAvLyBVc2VyIExvZ2luOlxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIG9uTG9naW4oY3JlZHMpIHtcbiAgICBBcGlSZXF1ZXN0LnBvc3QoJy9hY2NvdW50L2xvZ2luJylcbiAgICAgIC5kYXRhKGNyZWRzKVxuICAgICAgLnNldEFub255bW91cyh0cnVlKVxuICAgICAgLnNlbmQocmVzID0+IHtcbiAgICAgICAgQWNjZXNzVG9rZW4uc2V0KHJlcy5kYXRhLnNlc3Npb25faWQpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gQWN0aW9ucy5sb2dpbi5jb21wbGV0ZWQocmVzKSk7XG4gICAgICB9LCBBY3Rpb25zLmxvZ2luLmZhaWxlZCk7XG4gIH0sXG4gIG9uTG9naW5Db21wbGV0ZWQocmVzcG9uc2UpIHtcbiAgICBsZXQgdXNlciA9IHJlc3BvbnNlLmRhdGE7XG4gICAgdGhpcy51cGRhdGUodXNlcik7XG4gIH0sXG5cbiAgLy8gVXNlciBMb2dvdXQ6XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgb25Mb2dvdXQoKSB7XG4gICAgQXBpUmVxdWVzdC5wb3N0KCcvYWNjb3VudC9sb2dvdXQnKVxuICAgICAgLnNldEhhbmRsZUVycm9ycyhmYWxzZSlcbiAgICAgIC5zZXRJZ25vcmVOZXR3b3JrRXJyb3IodHJ1ZSlcbiAgICAgIC5zZW5kKEFjdGlvbnMubG9nb3V0LmNvbXBsZXRlZCwgQWN0aW9ucy5sb2dvdXQuZmFpbGVkKTtcblxuICAgIC8vIHJlc2V0IGN1cnJlbnRVc2VyIHRvIGRlZmF1bHRcbiAgICB0aGlzLnVwZGF0ZShkZWZhdWx0VXNlcik7XG4gIH0sXG4gIG9uTG9nb3V0Q29tcGxldGVkKCkge1xuICAgIEFjY2Vzc1Rva2VuLmNsZWFyKCk7XG4gIH0sXG4gIG9uTG9nb3V0RmFpbGVkKCkge1xuICAgIEFjY2Vzc1Rva2VuLmNsZWFyKCk7XG4gIH0sXG5cbiAgLy8gTG9hZCBVc2VyOlxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIG9uTG9hZFVzZXIoKSB7XG4gICAgQXBpUmVxdWVzdC5nZXQoJy9hY2NvdW50JylcbiAgICAgIC5zZW5kKEFjdGlvbnMubG9hZFVzZXIuY29tcGxldGVkLCBBY3Rpb25zLmxvYWRVc2VyLmZhaWxlZCk7XG4gIH0sXG4gIG9uTG9hZFVzZXJDb21wbGV0ZWQocmVzcG9uc2UpIHtcbiAgICB0aGlzLnVwZGF0ZShyZXNwb25zZS5kYXRhKTtcbiAgfSxcbn0pOyIsImltcG9ydCBSZWZsdXggZnJvbSAncmVmbHV4JztcbmltcG9ydCBBY2Nlc3NUb2tlbiBmcm9tICcuLi9BcGkvQWNjZXNzVG9rZW4nO1xuaW1wb3J0IEFwaVJlcXVlc3QgZnJvbSAnLi4vQXBpL0FwaVJlcXVlc3QnO1xuXG4vLyBFYWNoIGFjdGlvbiBpcyBsaWtlIGFuIGV2ZW50IGNoYW5uZWwgZm9yIG9uZSBzcGVjaWZpYyBldmVudC4gQWN0aW9ucyBhcmUgY2FsbGVkIGJ5IGNvbXBvbmVudHMuXG4vLyBUaGUgc3RvcmUgaXMgbGlzdGVuaW5nIHRvIGFsbCBhY3Rpb25zLCBhbmQgdGhlIGNvbXBvbmVudHMgaW4gdHVybiBhcmUgbGlzdGVuaW5nIHRvIHRoZSBzdG9yZS5cbi8vIFRodXMgdGhlIGZsb3cgaXM6IFVzZXIgaW50ZXJhY3Rpb24gLT4gY29tcG9uZW50IGNhbGxzIGFjdGlvbiAtPiBzdG9yZSByZWFjdHMgYW5kIHRyaWdnZXJzIC0+IGNvbXBvbmVudHMgdXBkYXRlXG5cbnZhciBBY3Rpb25zID0gUmVmbHV4LmNyZWF0ZUFjdGlvbnMoW1xuICAvLyB1c2VyIGFjdGlvbnNcbiAgXCJhdXRoXCIsXG4gIFwidW5hdXRoXCIsXG4gIFwibm9hdXRoXCIsXG4gIHtcImxvZ2luXCI6IHthc3luY1Jlc3VsdDogdHJ1ZX19LFxuICB7XCJsb2dvdXRcIjoge2FzeW5jUmVzdWx0OiB0cnVlfX0sXG4gIHtcImxvYWRVc2VyXCI6IHthc3luY1Jlc3VsdDogdHJ1ZX19LFxuXSk7XG5cbi8qIFVzZXIgQWN0aW9uc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuQWN0aW9ucy5hdXRoLmxpc3RlbigoKSA9PiB7XG4gIEFjY2Vzc1Rva2VuLmdldCh0cnVlKVxuICAgIC50aGVuKGFjY2Vzc1Rva2VuID0+IEFjdGlvbnMubG9hZFVzZXIoYWNjZXNzVG9rZW4pKVxuICAgIC5jYXRjaCgoKSA9PiBBY3Rpb25zLm5vYXV0aCgpKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBY3Rpb25zOyIsInZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdrZXlNaXJyb3InKTtcblxuY29uc3QgSE9TVF9OQU1FID0gXCJjbGVmb29kYmxvZy5jb21cIjtcbmNvbnN0IEVOViA9ICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09IEhPU1RfTkFNRSkgPyAncHJvZHVjdGlvbicgOiAnZGV2JztcblxudmFyIGlzUHJvZCAgICAgPSB0cnVlLFxuICAgIGFwaVZlcnNpb24gPSAndjEnLFxuICAgIGFwaUhvc3QgICAgPSAnaHR0cDovLycrSE9TVF9OQU1FKycvYXBpJyxcbiAgICBzaXRlUm9vdCAgID0gJ2h0dHA6Ly8nK0hPU1RfTkFNRTtcblxuc3dpdGNoIChFTlYpIHtcbiAgICBjYXNlICdkZXYnOlxuICAgICAgICBpc1Byb2QgICA9IGZhbHNlO1xuICAgICAgICBhcGlIb3N0ICA9ICdodHRwOi8vZGV2LicrSE9TVF9OQU1FKycvYXBpJztcbiAgICAgICAgc2l0ZVJvb3QgPSAnaHR0cDovL2Rldi4nK0hPU1RfTkFNRTtcbiAgICAgICAgYnJlYWs7XG59XG5cbmV4cG9ydCB2YXIgQ29uZmlnID0ge1xuICBFTlY6IEVOVixcbiAgYXBpX3Jvb3Q6IGFwaUhvc3QrJy8nLFxuICBzaXRlX3Jvb3Q6IHNpdGVSb290KycvJyxcbiAgdXBsb2Fkc19kaXI6IHNpdGVSb290KycvdXBsb2Fkcy8nLFxuXG4gIFN0b3JhZ2U6IGtleU1pcnJvcih7XG4gICAgQUNDRVNTX1RPS0VOOiBudWxsLFxuICB9KSxcbn07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IEFjdGlvbnMgZnJvbSAnLi4vVXRpbHMvQWN0aW9ucyc7XG5pbXBvcnQgVXNlck5hdiBmcm9tICcuLi9Db21wb25lbnRzL1VzZXJOYXYnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbml0aWFsaXplIHtcblxuICBzdGF0aWMgZ2xvYmFscygpIHtcbiAgICAvLyBFeHBvc2UgZ2xvYmFscyBsaWtlIGpRdWVyeVxuICAgIHdpbmRvdy5qUXVlcnkgPSAkO1xuICB9XG5cbiAgc3RhdGljIGJvb3RzdHJhcCgpIHtcbiAgICByZXF1aXJlKCdib290c3RyYXAnKTtcbiAgfVxuXG4gIHN0YXRpYyBvblJlYWR5KCkge1xuICAgIC8vIENsaWNrIG9uIGJpZyBidXR0b246XG4gICAgbGV0IGJhQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bkNvbWluZ1Nvb24nKTtcbiAgICBpZiAoYmFCdXR0b24pIHtcbiAgICAgIGJhQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICBpZiAoZ2EpIGdhKCdzZW5kJywgJ2V2ZW50JywgJ2J1dHRvbnMnLCAnY2xpY2snLCAnc3RheSB0dW5lZCcpO1xuICAgICAgICBjb25zb2xlLmxvZygnc2VuZCcsICdldmVudCcsICdidXR0b25zJywgJ2NsaWNrJywgJ3N0YXkgdHVuZWQnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBTaG93IHRoYXQgdXNlciBuYXY6XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPFVzZXJOYXYgLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnVXNlck5hdicpXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBhdXRoVXNlcigpIHtcbiAgICBBY3Rpb25zLmF1dGgoKTtcbiAgfVxuXG4gIHN0YXRpYyBvbkxvYWQoKSB7XG4gICAgSW5pdGlhbGl6ZS5nbG9iYWxzKCk7XG4gICAgSW5pdGlhbGl6ZS5ib290c3RyYXAoKTtcbiAgICBJbml0aWFsaXplLm9uUmVhZHkoKTtcbiAgICBJbml0aWFsaXplLmF1dGhVc2VyKCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IFV0aWxzIGZyb20gJy4uL1V0aWxzL1V0aWxzJztcbmltcG9ydCBQYWdlRWRpdG9yIGZyb20gJy4uL1ZpZXdzL1BhZ2VFZGl0b3InO1xuaW1wb3J0IFBhZ2VJbnZlbnRvcnkgZnJvbSAnLi4vVmlld3MvUGFnZUludmVudG9yeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlcyB7XG5cbiAgc3RhdGljIGhvbWVSb3V0ZSA9ICdob21lJztcblxuICBzdGF0aWMgY3VycmVudChwYXRobmFtZSkge1xuICAgIHZhciBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUocGF0aG5hbWUpIHx8IFJvdXRlcy5ob21lUm91dGU7XG4gICAgdmFyIGNhbWVsTmFtZSA9IGJhc2VuYW1lLnJlcGxhY2UoLy0oW2Etel0pL2csIGZ1bmN0aW9uIChnKSB7IHJldHVybiBnWzFdLnRvVXBwZXJDYXNlKCk7IH0pO1xuICAgIGlmICh0eXBlb2YgUm91dGVzW2NhbWVsTmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIFJvdXRlc1tjYW1lbE5hbWVdKCk7XG4gICAgfVxuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEN1c3RvbSBSb3V0ZXM6XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHN0YXRpYyBob21lKCkge1xuICAgIGNvbnNvbGUubG9nKCdIb21lIHJvdXRlJyk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gQWRtaW4gUm91dGVzOlxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBzdGF0aWMgcGFnZUVkaXRvcigpIHtcbiAgICBsZXQgcGFnZUlkID0gVXRpbHMuZ2V0UXVlcnlQYXJhbSgnaWQnKSB8fCBudWxsO1xuICAgIGlmIChwYWdlSWQpIHBhZ2VJZCA9IHBhcnNlSW50KHBhZ2VJZCk7XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPFBhZ2VFZGl0b3IgcGFnZUlkPXtwYWdlSWR9IC8+LFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1BhZ2VFZGl0b3InKVxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgcGFnZUludmVudG9yeSgpIHtcbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8UGFnZUludmVudG9yeSAvPixcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQYWdlSW52ZW50b3J5JylcbiAgICApO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbmZpZywgfSBmcm9tICcuL0NvbnN0YW50cyc7XG5pbXBvcnQgSHVtYW5lIGZyb20gJ2h1bWFuZS1qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxzIHtcblxuICBzdGF0aWMgc2hvd01lc3NhZ2UgPSBIdW1hbmUuc3Bhd24oe1xuICAgIGFkZG5DbHM6ICdiZy1pbmZvIHRleHQtaW5mbycsXG4gICAgd2FpdEZvck1vdmU6IHRydWUsXG4gIH0pO1xuXG4gIHN0YXRpYyBzaG93U3VjY2VzcyA9IEh1bWFuZS5zcGF3bih7XG4gICAgYWRkbkNsczogJ2JnLXN1Y2Nlc3MgdGV4dC1zdWNjZXNzJyxcbiAgICB3YWl0Rm9yTW92ZTogdHJ1ZSxcbiAgfSk7XG5cbiAgc3RhdGljIHNob3dFcnJvciA9IEh1bWFuZS5zcGF3bih7XG4gICAgYWRkbkNsczogJ2JnLWRhbmdlciB0ZXh0LWRhbmdlcicsXG4gICAgdGltZW91dDogNTAwMCxcbiAgICBjbGlja1RvQ2xvc2U6IHRydWUsXG4gICAgd2FpdEZvck1vdmU6IHRydWUsXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBHZXQgSlNPTiBkYXRhIGZyb20gYW5vdGhlciBzZXJ2ZXIuIFN1cHBvcnRlZCBiYWNrIHRvIElFNi5cbiAgICogY3JlZGl0OiBodHRwOi8vZ29tYWtldGhpbmdzLmNvbS9kaXRjaGluZy1qcXVlcnlcbiAgICogQHBhcmFtIHVybFxuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICovXG4gIHN0YXRpYyBnZXRKU09OUCh1cmwsIGNhbGxiYWNrKSB7XG5cbiAgICAvLyBDcmVhdGUgc2NyaXB0IHdpdGggdXJsIGFuZCBjYWxsYmFjayAoaWYgc3BlY2lmaWVkKVxuICAgIHZhciByZWYgPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdzY3JpcHQnIClbIDAgXTtcbiAgICB2YXIgc2NyaXB0ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzY3JpcHQnICk7XG4gICAgc2NyaXB0LnNyYyA9IHVybCArICh1cmwuaW5kZXhPZiggJz8nICkgKyAxID8gJyYnIDogJz8nKSArICdjYWxsYmFjaz0nICsgY2FsbGJhY2s7XG5cbiAgICAvLyBJbnNlcnQgc2NyaXB0IHRhZyBpbnRvIHRoZSBET00gKGFwcGVuZCB0byA8aGVhZD4pXG4gICAgcmVmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBzY3JpcHQsIHJlZiApO1xuXG4gICAgLy8gQWZ0ZXIgdGhlIHNjcmlwdCBpcyBsb2FkZWQgKGFuZCBleGVjdXRlZCksIHJlbW92ZSBpdFxuICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnJlbW92ZSgpO1xuICAgIH07XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBRdW90ZXMgdGhlIGdpdmVuIHN0cmluZyBzbyBpdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gYSBSZWd1bGFyIEV4cHJlc3Npb24uXG4gICAqIEBwYXJhbSByZWdleFxuICAgKiBAcmV0dXJucyB7KnxzdHJpbmd8dm9pZHxYTUx9XG4gICAqL1xuICBzdGF0aWMgcXVvdGVSZWdleChyZWdleCkge1xuICAgICAgcmV0dXJuIHJlZ2V4LnJlcGxhY2UoLyhbKClbeyorLiReXFxcXHw/XSkvZywgJ1xcXFwkMScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaW0gdGhlIGdpdmVuIGNoYXJhY3RlciBmcm9tIGJvdGggZW5kcyBvZiB0aGUgZ2l2ZW4gc3RyaW5nLlxuICAgKiBAcGFyYW0gc3RyXG4gICAqIEBwYXJhbSBjaHJcbiAgICogQHJldHVybnMgeyp8c3RyaW5nfHZvaWR8WE1MfVxuICAgKi9cbiAgc3RhdGljIHRyaW1DaGFyKHN0ciwgY2hyKSB7XG4gICAgICBjaHIgPSBVdGlscy5xdW90ZVJlZ2V4KGNocik7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBjaHIgKyAnK3wnICsgY2hyICsgJyskJywgJ2cnKSwgXCJcIik7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhbiBvYmplY3QgdG8gYSBxdWVyeSBzdHJpbmcuXG4gICAqIGNyZWRpdDogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTcxNDg5OVxuICAgKiBAcGFyYW0gb2JqXG4gICAqIEBwYXJhbSBwcmVmaXhcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyB0b1F1ZXJ5U3RyaW5nKG9iaiwgcHJlZml4KSB7XG4gICAgdmFyIHN0ciA9IFtdO1xuICAgIGZvciAodmFyIHAgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgIHZhciBrID0gcHJlZml4ID8gcHJlZml4ICsgXCJbXCIgKyBwICsgXCJdXCIgOiBwLCB2ID0gb2JqW3BdO1xuICAgICAgICBzdHIucHVzaCh0eXBlb2YgdiA9PSBcIm9iamVjdFwiID9cbiAgICAgICAgICBVdGlscy50b1F1ZXJ5U3RyaW5nKHYsIGspIDogZW5jb2RlVVJJQ29tcG9uZW50KGspICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodikpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWRpdDogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTAxMTQ0LzU3ODAzODVcbiAgICogQHBhcmFtICB7W3R5cGVdfSBuYW1lIFtkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W3R5cGVdfSB1cmwgIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHN0YXRpYyBnZXRRdWVyeVBhcmFtKG5hbWUsIHVybCkge1xuICAgIGlmICghdXJsKSB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFwiWz8mXVwiICsgbmFtZSArIFwiKD0oW14mI10qKXwmfCN8JClcIiksXG4gICAgICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gICAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXJlc3VsdHNbMl0pIHJldHVybiAnJztcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59XG5cbiAgLyoqXG4gICAqIElzIG9iamVjdCBlbXB0eT9cbiAgICogQHBhcmFtICBvYmpcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0VtcHR5KG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKG9iai5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG9iai5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA+IDApIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiBzdHJpbmcgZm9yIHVzZSBpbiBVUkxcbiAgICogQHBhcmFtICB7c3RyaW5nfSBzdHJcbiAgICogQHJldHVybiB7c3RyaW5nfSB1cmlcbiAgICogQ3JlZGl0OiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNDk2MjM2OS81NzgwMzg1XG4gICAqL1xuICBzdGF0aWMgY2xlYW5Gb3JVcmwoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXlxcLSt8W15hLXpBLVowLTlcXC9ffCAtXSt8XFwtKyQpL2csICcnKVxuICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcL198IC1dKy9nLCAnLScpO1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IEVkaXRvciBmcm9tICdyZWFjdC1tZWRpdW0tZWRpdG9yJztcbmltcG9ydCBEYXRlVGltZUlucHV0IGZyb20gJ3JlYWN0LWJvb3RzdHJhcC1kYXRldGltZXBpY2tlcic7XG5cbmltcG9ydCBVdGlscyBmcm9tICcuLi9VdGlscy9VdGlscyc7XG5pbXBvcnQgQXBpUmVxdWVzdCBmcm9tICcuLi9BcGkvQXBpUmVxdWVzdCc7XG5pbXBvcnQgQ3VycmVudFVzZXIgZnJvbSAnLi4vU3RvcmVzL0N1cnJlbnRVc2VyJztcbmltcG9ydCBTUkRyb3B6b25lIGZyb20gJy4uL0NvbXBvbmVudHMvU1JEcm9wem9uZSc7XG5cbmNvbnN0IGNhdGVnb3JpZXMgPSBbXCJSZXZpZXdzXCIsIFwiUmVjaXBlc1wiLCBcIkhvdyBUbydzXCIsIFwiRnJpZGF5IEZvb2QgRmlnaHRcIiwgXCJXaGVyZSBUbyBGaW5kLi4uXCIsIFwiSW50ZXJ2aWV3c1wiXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZUVkaXRvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgcGFnZUlkOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICB9O1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIHBhZ2VJZDogbnVsbCxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMucG9zdFRpbWVzdGFtcCA9IG51bGw7XG4gICAgdGhpcy5oYXNDdXN0b21VcmkgPSBmYWxzZTtcbiAgICB0aGlzLmlzTG9jYXRpb25TZXQgPSAhISBVdGlscy5nZXRRdWVyeVBhcmFtKCdpZCcpO1xuICAgIHRoaXMuYXV0b3NhdmVJZCA9IG51bGw7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIHB1Ymxpc2hpbmc6IGZhbHNlLFxuICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICB1c2VyOiB0aGlzLnByb3BzLnVzZXIsXG4gICAgICBwYWdlOiB7fSxcbiAgICB9O1xuXG4gICAgdGhpcy5fc2F2ZVBhZ2UgPSB0aGlzLl9zYXZlUGFnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU3VibWl0UGFnZSA9IHRoaXMuX29uU3VibWl0UGFnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uUHVibGlzaCA9IHRoaXMuX29uUHVibGlzaC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uUG9zdERhdGVDaGFuZ2UgPSB0aGlzLl9vblBvc3REYXRlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25VcGRhdGVQYWdlVXJpID0gdGhpcy5fb25VcGRhdGVQYWdlVXJpLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VVcmkgPSB0aGlzLl9vbkNoYW5nZVVyaS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQmx1clVyaSA9IHRoaXMuX29uQmx1clVyaS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlVGl0bGUgPSB0aGlzLl9vbkNoYW5nZVRpdGxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25BcnRpY2xlQ2hhbmdlID0gdGhpcy5fb25BcnRpY2xlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Vc2VyQ2hhbmdlID0gdGhpcy5fb25Vc2VyQ2hhbmdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5zdG9wVXNlclN1YnNjcmliZSA9IEN1cnJlbnRVc2VyLmxpc3Rlbih0aGlzLl9vblVzZXJDaGFuZ2UpO1xuXG4gICAgbGV0IHVzZXIgPSBDdXJyZW50VXNlci5nZXQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF1dGhvcml6ZWQ6ICEhIHVzZXIuaWQsXG4gICAgICB1c2VyLFxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFnZUlkKSB7XG4gICAgICB0aGlzLl9sb2FkUGFnZSh0aGlzLnByb3BzLnBhZ2VJZCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wVXNlclN1YnNjcmliZSgpO1xuICB9XG5cbiAgcmVuZGVyUHJvZ3Jlc3NCYXIoKSB7XG4gICAgbGV0IGJhckNsYXNzTmFtZSA9IHRoaXMuc3RhdGUucHVibGlzaGluZyA/ICdwcm9ncmVzcy1iYXItc3VjY2VzcycgOiAncHJvZ3Jlc3MtYmFyLWluZm8nO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCIgc3R5bGU9e3toZWlnaHQ6IFwiYXV0b1wifX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcInByb2dyZXNzLWJhciBcIitiYXJDbGFzc05hbWUrXCIgcHJvZ3Jlc3MtYmFyLXN0cmlwZWQgYWN0aXZlXCJ9IHJvbGU9XCJwcm9ncmVzc2JhclwiIGFyaWEtdmFsdWVub3c9XCIxMDBcIiBhcmlhLXZhbHVlbWluPVwiMFwiIGFyaWEtdmFsdWVtYXg9XCIxMDBcIiBzdHlsZT17c3R5bGVzLnByb2dyZXNzQmFyfT5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5wdWJsaXNoaW5nID8gJ1B1Ymxpc2hpbmcuLi4nIDogJ1NhdmluZy4uLid9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclN1Ym1pdEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5wcm9jZXNzaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJQcm9ncmVzc0JhcigpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJidG4gYnRuLWxnIGJ0bi1pbmZvXCIgc3R5bGU9e3N0eWxlcy5idXR0b259PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tcGx1cy1zaWduXCI+PC9zcGFuPlxuICAgICAgICAgIHsnIFNhdmUgUGFnZSd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxnIGJ0bi1zdWNjZXNzXCIgc3R5bGU9e3N0eWxlcy5idXR0b259IG9uQ2xpY2s9e3RoaXMuX29uUHVibGlzaH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1vay1zaWduXCI+PC9zcGFuPlxuICAgICAgICAgIHsnIFB1Ymxpc2ggUGFnZSd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoISB0aGlzLnN0YXRlLmF1dGhvcml6ZWQpIHJldHVybiA8aDQ+TXVzdCBiZSBsb2dnZWQgaW4gOig8L2g0PjtcblxuICAgIGxldCBpbWFnZUJ1dHRvbiA9IHtcbiAgICAgIG5hbWU6ICdpbWFnZScsXG4gICAgICBhY3Rpb246ICdpbWFnZScsXG4gICAgICBhcmlhOiAnaW1hZ2UnLFxuICAgICAgdGFnTmFtZXM6IFsnaW1nJ10sXG4gICAgICBjb250ZW50RGVmYXVsdDogJzxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1waWN0dXJlXCI+PC9pPicsXG4gICAgICBjb250ZW50RkE6ICc8aSBjbGFzcz1cImZhIGZhLXBpY3R1cmUtb1wiPjwvaT4nXG4gICAgfTtcbiAgICBsZXQgZWRpdG9yT3B0aW9ucyA9IHtcbiAgICAgIHBsYWNlaG9sZGVyOiB7dGV4dDogXCJBcnRpY2xlIGJvZHkuLi5cIn0sXG4gICAgICB0b29sYmFyOiB7XG4gICAgICAgIGJ1dHRvbnM6IFsnYm9sZCcsICdpdGFsaWMnLCAnYW5jaG9yJywgJ2gyJywgJ2gzJywgJ3F1b3RlJywgJ3Vub3JkZXJlZGxpc3QnLCBpbWFnZUJ1dHRvbiwgJ3JlbW92ZUZvcm1hdCddLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gYWRkIC5oYXMtc3VjY2VzcyBvciAuaGFzLWVycm9yXG4gICAgLy8gLmdseXBoaWNvbi1vayBvciAuZ2x5cGhpY29uLXJlbW92ZVxuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSByZWY9XCJhZGROZXdQYWdlXCIgY2xhc3NOYW1lPVwiXCIgcm9sZT1cImZvcm1cIiBvblN1Ym1pdD17ZSA9PiB0aGlzLl9vblN1Ym1pdFBhZ2UoZSl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImp1bWJvdHJvblwiIHN0eWxlPXtzdHlsZXMudXBsb2FkZXJSb3d9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8U1JEcm9wem9uZVxuICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLnByZXZpZXdJbWFnZX1cbiAgICAgICAgICAgICAgYWN0aXZlU3R5bGU9e3N0eWxlcy5kcmFnQWN0aXZlfVxuICAgICAgICAgICAgICBtdWx0aXBsZT17ZmFsc2V9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICA8aDE+UGFnZSBFZGl0b3I8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy00XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+PGVtPkRhdGEgYWJvdXQgZGF0YTo8L2VtPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy04XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+PGVtPlNwaXQgeW91ciBrbm93bGVkZ2UgZ2FtZTo8L2VtPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxEYXRlVGltZUlucHV0XG4gICAgICAgICAgICAgICAgc2l6ZT17J2xnJ31cbiAgICAgICAgICAgICAgICBkZWZhdWx0VGV4dD17dGhpcy5zdGF0ZS5wYWdlLnBvc3RfZGF0ZXx8Jyd9XG4gICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e3BsYWNlaG9sZGVyOiBcIkFydGljbGUgRGF0ZS9UaW1lXCJ9fVxuICAgICAgICAgICAgICAgIGZvcm1hdD17J3gnfVxuICAgICAgICAgICAgICAgIGlucHV0Rm9ybWF0PXsnWVlZWS1NTS1ERCBoaDptbSBBJ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5fb25Qb3N0RGF0ZUNoYW5nZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCByZWY9XCJwYWdlVXJpXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkN1c3RvbS1QYWdlLVVybFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhZ2UudXJpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5fb25DaGFuZ2VVcml9XG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cj17dGhpcy5fb25CbHVyVXJpfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPHNlbGVjdCByZWY9XCJwYWdlQ2F0ZWdvcnlcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhZ2UuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5fc2V0U3RhdGVQYWdlKHtjYXRlZ29yeTogZS50YXJnZXQudmFsdWV9KX0+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPuKAlCBDaG9vc2UgQ2F0ZWdvcnkg4oCUPC9vcHRpb24+XG4gICAgICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKChjYXRlZ29yeSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoPG9wdGlvbiBrZXk9eydjYXRlZ29yeS0nK2NhdGVnb3J5fSB2YWx1ZT17Y2F0ZWdvcnl9PntjYXRlZ29yeX08L29wdGlvbj4pO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCByZWY9XCJwcmV2aWV3SW1hZ2VcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiUHJldmlldyBJbWFnZSBVUkxcIlxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFnZS5wcmV2aWV3X2ltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5fc2V0U3RhdGVQYWdlKHtwcmV2aWV3X2ltYWdlOiBlLnRhcmdldC52YWx1ZX0pfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGlucHV0IHJlZj1cIm1ldGFUaXRsZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBtZXRhIHRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhZ2UubWV0YV90aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuX3NldFN0YXRlUGFnZSh7bWV0YV90aXRsZTogZS50YXJnZXQudmFsdWV9KX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSByZWY9XCJtZXRhRGVzY3JpcHRpb25cIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiByb3dzPVwiMlwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbWV0YSBkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYWdlLm1ldGFfZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLl9zZXRTdGF0ZVBhZ2Uoe21ldGFfZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlfSl9PjwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8aW5wdXQgcmVmPVwibWV0YUtleXdvcmRzXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIG1ldGEga2V5d29yZHNcIlxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFnZS5tZXRhX2tleXdvcmRzfVxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5fc2V0U3RhdGVQYWdlKHttZXRhX2tleXdvcmRzOiBlLnRhcmdldC52YWx1ZX0pfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHJlZj1cInBhZ2VUaXRsZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJIZWFkbGluZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYWdlLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuX29uQ2hhbmdlVGl0bGV9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy5lZGl0b3J9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCJcbiAgICAgICAgICAgICAgICB0ZXh0PXt0aGlzLnN0YXRlLnBhZ2UuYXJ0aWNsZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5fb25BcnRpY2xlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e2VkaXRvck9wdGlvbnN9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlclN1Ym1pdEJ1dHRvbigpfVxuICAgICAgICAgICAgPGlucHV0IHJlZj1cInBhZ2VJZFwiIHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicGFnZUlkXCIgdmFsdWU9e3RoaXMuc3RhdGUucGFnZS5pZH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfVxuXG4gIF9sb2FkUGFnZShwYWdlSWQpIHtcbiAgICBBcGlSZXF1ZXN0LmdldCgnL3BhZ2VzLycrcGFnZUlkKVxuICAgICAgLnNlbmQocmVzID0+IHtcbiAgICAgICAgbGV0IHBhZ2UgPSByZXMuZGF0YTtcbiAgICAgICAgdGhpcy5fc2V0V2luZG93TG9jYXRpb24ocGFnZS5pZCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3BhZ2V9KTtcbiAgICAgIH0pO1xuXG4gIH1cblxuICBfc2V0V2luZG93TG9jYXRpb24ocGFnZUlkKSB7XG4gICAgaWYgKHRoaXMuaXNMb2NhdGlvblNldCkgcmV0dXJuO1xuXG4gICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgJz9pZD0nICtwYWdlSWQ7XG4gICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInRpdGxlXCIpLmlubmVySFRNTCwgdXJsKTtcbiAgICB0aGlzLmlzTG9jYXRpb25TZXQgPSB0cnVlO1xuICB9XG5cbiAgX29uUG9zdERhdGVDaGFuZ2UoZGF0ZXRpbWUpIHtcbiAgICB0aGlzLnBvc3RUaW1lc3RhbXAgPSBkYXRldGltZTtcbiAgICB0aGlzLl9vblVwZGF0ZVBhZ2VVcmkoKTtcbiAgfVxuXG4gIF9nZXRQb3N0RGF0ZUZvcm1hdChmb3JtYXQgPSBcIllZWVktTU0tREQgSEg6bW06MDBcIikge1xuICAgIGxldCBkYXRlRm9ybWF0ID0gbW9tZW50LnVuaXgodGhpcy5wb3N0VGltZXN0YW1wIC8gMTAwMCkuZm9ybWF0KGZvcm1hdCk7XG4gICAgaWYgKGRhdGVGb3JtYXQgPT0gJ0ludmFsaWQgZGF0ZScpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZUZvcm1hdDtcbiAgfVxuXG4gIF9nZXRQYWdlRGF0YShwdWJsaXNoID0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IHRoaXMucmVmcy5wYWdlVGl0bGUudmFsdWUsXG4gICAgICBhcnRpY2xlOiB0aGlzLnN0YXRlLnBhZ2UuYXJ0aWNsZSwgLy8gdGhpcy5yZWZzLnBhZ2VBcnRpY2xlLnZhbHVlLFxuICAgICAgdXJpOiB0aGlzLnN0YXRlLnBhZ2UudXJpIHx8IHRoaXMucmVmcy5wYWdlVXJpLnZhbHVlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMucmVmcy5wYWdlQ2F0ZWdvcnkudmFsdWUsXG4gICAgICBwcmV2aWV3X2ltYWdlOiB0aGlzLnJlZnMucHJldmlld0ltYWdlLnZhbHVlLFxuICAgICAgbWV0YV90aXRsZTogdGhpcy5yZWZzLm1ldGFUaXRsZS52YWx1ZSxcbiAgICAgIG1ldGFfZGVzY3JpcHRpb246IHRoaXMucmVmcy5tZXRhRGVzY3JpcHRpb24udmFsdWUsXG4gICAgICBtZXRhX2tleXdvcmRzOiB0aGlzLnJlZnMubWV0YUtleXdvcmRzLnZhbHVlLFxuICAgICAgcG9zdF9kYXRlOiB0aGlzLnBvc3RUaW1lc3RhbXAgPyB0aGlzLl9nZXRQb3N0RGF0ZUZvcm1hdCgpIDogbnVsbCxcbiAgICAgIHN0YXR1czogcHVibGlzaCxcbiAgICB9O1xuICB9XG5cbiAgX29uUHVibGlzaChlKSB7XG4gICAgdGhpcy5fb25TdWJtaXRQYWdlKGUsIHRydWUpO1xuICB9XG5cbiAgX29uU3VibWl0UGFnZShlLCBwdWJsaXNoID0gZmFsc2UpIHtcbiAgICBpZiAoISEgZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLnN0YXRlLnByb2Nlc3NpbmcpIHJldHVybjtcblxuICAgIHRoaXMuX3NhdmVQYWdlKHB1Ymxpc2gsIHRydWUpO1xuICB9XG5cbiAgX3NhdmVQYWdlKHB1Ymxpc2ggPSBmYWxzZSwgZXhwbGljaXRTYXZlID0gZmFsc2UpIHtcbiAgICBleHBsaWNpdFNhdmUgPSAoZXhwbGljaXRTYXZlID09PSB0cnVlKTtcbiAgICBpZiAoZXhwbGljaXRTYXZlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtwcm9jZXNzaW5nOiB0cnVlLCBwdWJsaXNoaW5nOiBwdWJsaXNofSk7XG4gICAgICBpZiAoISEgdGhpcy5hdXRvc2F2ZUlkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvc2F2ZUlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLnN0YXRlLnBhZ2UuaWQgPyAnL3BhZ2VzLycgKyB0aGlzLnN0YXRlLnBhZ2UuaWQgOiAnL3BhZ2VzJztcbiAgICBBcGlSZXF1ZXN0LnBvc3QoZW5kcG9pbnQpXG4gICAgICAuZGF0YSh0aGlzLl9nZXRQYWdlRGF0YShwdWJsaXNoKSlcbiAgICAgIC5zZW5kKHJlcyA9PiB7XG4gICAgICAgIGxldCBwYWdlID0gcmVzLmRhdGE7XG5cbiAgICAgICAgaWYoISBleHBsaWNpdFNhdmUpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnBhZ2UuaWQgPSBwYWdlLmlkO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFV0aWxzLnNob3dTdWNjZXNzKHB1Ymxpc2ggPyAnUGFnZSBwdWJsaXNoZWQhJyA6ICdQYWdlIHNhdmVkIScpO1xuICAgICAgICB0aGlzLl9zZXRXaW5kb3dMb2NhdGlvbihwYWdlLmlkKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9jbGVhckZvcm0oKSB7XG4gICAgdGhpcy5yZWZzLmFkZE5ld1BhZ2UucmVzZXQoKTtcbiAgICB0aGlzLnBvc3RUaW1lc3RhbXAgPSBudWxsO1xuICAgIHRoaXMuaGFzQ3VzdG9tVXJpID0gZmFsc2U7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBwcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgIHBhZ2U6IHt9LFxuICAgIH0pO1xuICB9XG5cbiAgX2dldFVyaUZyb21UaXRsZSgpIHtcbiAgICBsZXQgaGVhZGxpbmUgPSB0aGlzLnJlZnMucGFnZVRpdGxlLnZhbHVlIHx8ICd1bnRpdGxlZCcsXG4gICAgICAgIHBvc3REYXRlID0gdGhpcy5wb3N0VGltZXN0YW1wID8gdGhpcy5fZ2V0UG9zdERhdGVGb3JtYXQoXCItWVlZWS1NTS1ERFwiKSA6IFwiXCI7XG4gICAgcmV0dXJuIFV0aWxzLmNsZWFuRm9yVXJsKGhlYWRsaW5lK3Bvc3REYXRlKTtcbiAgfVxuXG4gIF9vbkJsdXJVcmkoZSkge1xuICAgIGlmICghIGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgICB0aGlzLmhhc0N1c3RvbVVyaSA9IGZhbHNlO1xuICAgICAgdGhpcy5fb25VcGRhdGVQYWdlVXJpKCk7XG4gICAgfVxuICB9XG5cbiAgX29uQ2hhbmdlVXJpKGUpIHtcbiAgICB0aGlzLmhhc0N1c3RvbVVyaSA9IHRydWU7XG5cbiAgICB0aGlzLl9zZXRTdGF0ZVBhZ2Uoe3VyaTogdGhpcy5yZWZzLnBhZ2VVcmkudmFsdWV9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9vbkNoYW5nZVRpdGxlKGUpIHtcbiAgICBsZXQgcGFnZSA9IHt0aXRsZTogdGhpcy5yZWZzLnBhZ2VUaXRsZS52YWx1ZX07XG4gICAgaWYgKCEgdGhpcy5oYXNDdXN0b21VcmkpIHtcbiAgICAgIHBhZ2UudXJpID0gdGhpcy5fZ2V0VXJpRnJvbVRpdGxlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0U3RhdGVQYWdlKHBhZ2UpO1xuICB9XG5cbiAgX29uVXBkYXRlUGFnZVVyaShzZXRUaXRsZSA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuaGFzQ3VzdG9tVXJpKSByZXR1cm47XG5cbiAgICB0aGlzLl9zZXRTdGF0ZVBhZ2Uoe1xuICAgICAgdXJpOiB0aGlzLl9nZXRVcmlGcm9tVGl0bGUoKSxcbiAgICB9KTtcbiAgfVxuXG4gIF9vbkFydGljbGVDaGFuZ2UoYXJ0aWNsZSwgbWVkaXVtKSB7XG4gICAgdGhpcy5fc2V0U3RhdGVQYWdlKHthcnRpY2xlfSk7XG4gIH1cblxuICBfc2V0U3RhdGVQYWdlKG5ld1BhZ2UsIHN0YXRlID0ge30pIHtcbiAgICB0aGlzLl9zdGFydEF1dG9zYXZlKCk7XG4gICAgbGV0IHBhZ2UgPSB0aGlzLnN0YXRlLnBhZ2U7XG4gICAgT2JqZWN0LmFzc2lnbihwYWdlLCBuZXdQYWdlKTtcbiAgICBPYmplY3QuYXNzaWduKHN0YXRlLCB7cGFnZX0pO1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICB9XG5cbiAgX29uVXNlckNoYW5nZSh1c2VyKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7YXV0aG9yaXplZDogISEgdXNlci5pZH0pO1xuICB9XG5cbiAgX3N0YXJ0QXV0b3NhdmUoKSB7XG4gICAgaWYgKCEgdGhpcy5hdXRvc2F2ZUlkKSB7XG4gICAgICB0aGlzLmF1dG9zYXZlSWQgPSBzZXRJbnRlcnZhbCh0aGlzLl9zYXZlUGFnZSwgNTAwMCk7XG4gICAgfVxuICB9XG59XG5cblxudmFyIHN0eWxlcyA9IHtcbiAgYnV0dG9uOiB7XG4gICAgd2lkdGg6ICc0OCUnLFxuICAgIG1hcmdpbjogJzAgMSUnLFxuICB9LFxuICBlZGl0b3I6IHtcbiAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgIG1pbkhlaWdodDogXCIyMGVtXCIsXG4gIH0sXG4gIHVwbG9hZGVyUm93OiB7XG4gICAgcGFkZGluZ0xlZnQ6IFwiMTVweFwiLFxuICAgIHBhZGRpbmdSaWdodDogXCIxNXB4XCIsXG4gICAgcGFkZGluZ1RvcDogXCIzMHB4XCIsXG4gICAgcGFkZGluZ0JvdHRvbTogXCIzMHB4XCIsXG4gIH0sXG4gIHByZXZpZXdJbWFnZToge1xuICAgIGNvbG9yOiBcInJnYig1MCw1MCw1MClcIixcbiAgICBib3JkZXJXaWR0aDogMCxcbiAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICBmb250U2l6ZTogMzAsXG4gICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgIG1pbkhlaWdodDogXCJhdXRvXCIsXG4gICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICB9LFxuICBkcmFnQWN0aXZlOiB7XG4gICAgYm9yZGVyQ29sb3I6ICdyZ2IoMTIwLDEyMCwxMjApJyxcbiAgfSxcbiAgcHJvZ3Jlc3NCYXI6IHtcbiAgICBmb250U2l6ZTogXCIxOHB4XCIsXG4gICAgcGFkZGluZzogXCIxMHB4IDBcIixcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gIH0sXG59OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBVdGlscyBmcm9tICcuLi9VdGlscy9VdGlscyc7XG5pbXBvcnQgQXBpUmVxdWVzdCBmcm9tICcuLi9BcGkvQXBpUmVxdWVzdCc7XG5pbXBvcnQgQ3VycmVudFVzZXIgZnJvbSAnLi4vU3RvcmVzL0N1cnJlbnRVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZUludmVudG9yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7fTtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICBhdXRob3JpemVkOiB0cnVlLFxuICAgICAgdXNlcjogdGhpcy5wcm9wcy51c2VyLFxuICAgICAgcGFnZXM6IFtdLFxuICAgIH07XG5cbiAgICB0aGlzLl9vblVzZXJDaGFuZ2UgPSB0aGlzLl9vblVzZXJDaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLnN0b3BVc2VyU3Vic2NyaWJlID0gQ3VycmVudFVzZXIubGlzdGVuKHRoaXMuX29uVXNlckNoYW5nZSk7XG4gICAgdGhpcy5fbG9hZFBhZ2VzKCk7XG5cbiAgICBsZXQgdXNlciA9IEN1cnJlbnRVc2VyLmdldCgpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXV0aG9yaXplZDogISEgdXNlci5pZCxcbiAgICAgIHVzZXIsXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN0b3BVc2VyU3Vic2NyaWJlKCk7XG4gIH1cblxuICByZW5kZXJSb3cocGFnZSwgaW5kZXgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGtleT17J3BhZ2UtJytpbmRleH0+XG4gICAgICAgIDx0ZD48YSBocmVmPXtcIi9hZG1pbi9wYWdlLWVkaXRvcj9pZD1cIitwYWdlLmlkfT57cGFnZS5pZH08L2E+PC90ZD5cbiAgICAgICAgPHRkPjxhIGhyZWY9e1wiL2FkbWluL3BhZ2UtZWRpdG9yP2lkPVwiK3BhZ2UuaWR9PntwYWdlLnRpdGxlfTwvYT48L3RkPlxuICAgICAgICA8dGQ+e3BhZ2Uuc3RhdHVzICA/ICdQdWJsaXNoZWQnIDogJyd9PC90ZD5cbiAgICAgIDwvdHI+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5sb2FkaW5nKSByZXR1cm4gPGg0PkxvYWRpbmcuLi48L2g0PjtcbiAgICBpZiAoISB0aGlzLnN0YXRlLmF1dGhvcml6ZWQpIHJldHVybiA8aDQ+TXVzdCBiZSBsb2dnZWQgaW4gOig8L2g0PjtcblxuICAgIGlmICh0aGlzLnN0YXRlLnBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDxoND5ObyBwYWdlcyBhdmFpbGFibGUgOig8L2g0PjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtaG92ZXJcIj5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD5JRDwvdGg+XG4gICAgICAgICAgICA8dGg+VGl0bGU8L3RoPlxuICAgICAgICAgICAgPHRoPlN0YXR1czwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5wYWdlcy5tYXAodGhpcy5yZW5kZXJSb3cuYmluZCh0aGlzKSl9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgICk7XG4gIH1cblxuICBfbG9hZFBhZ2VzKCkge1xuICAgIEFwaVJlcXVlc3QuZ2V0KCcvcGFnZXMnKVxuICAgICAgLnNlbmQocmVzID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgcGFnZXM6IHJlcy5kYXRhLFxuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHRoaXMuc2V0U3RhdGUoe2xvYWRpbmc6IGZhbHNlfSkpO1xuICB9XG5cbiAgX29uVXNlckNoYW5nZSh1c2VyKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7YXV0aG9yaXplZDogISEgdXNlci5pZH0pO1xuICB9XG59XG5cblxudmFyIHN0eWxlcyA9IHtcbiAgY29udGFpbmVyOiB7fSxcbn07IiwiLy8gbWFpbi5qc1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IEluaXRpYWxpemUgZnJvbSAnLi9VdGlscy9Jbml0aWFsaXplJztcbmltcG9ydCBSb3V0ZXMgZnJvbSAnLi9VdGlscy9Sb3V0ZXMnO1xuXG4vLyBSdW4gdGhhdCBpbml0OlxuSW5pdGlhbGl6ZS5vbkxvYWQoKTtcblxuLy8gSW5pdGlhbGl6ZSBjdXJyZW50IHJvdXRlXG5Sb3V0ZXMuY3VycmVudCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpOyJdfQ==
